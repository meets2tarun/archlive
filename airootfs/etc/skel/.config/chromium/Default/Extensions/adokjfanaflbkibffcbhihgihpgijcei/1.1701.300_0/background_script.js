var MODULESETS = {}; var ROW_KEYS = {}; var ROW_KEY_SIGNATURES = {};
MODULESETS['background_script.js'] = 'background'; ROW_KEYS['background'] = 'classroom-live.background.en_US.OIEjmOmUIs0.OL';
MODULESETS['inject_script.js'] = 'inject'; ROW_KEYS['inject'] = 'classroom-live.inject.en_US.AJyoMto2LFE.OL';
MODULESETS['options_script.js'] = 'options'; ROW_KEYS['options'] = 'classroom-live.options.en_US.zfpN4rCrqLw.OL';
MODULESETS['popup_script.js'] = 'popup'; ROW_KEYS['popup'] = 'classroom-live.popup.en_US.KQjS3PIdG4I.OL';
try{
var h,aa=aa||{},k=this,ba="closure_uid_"+(1E9*Math.random()>>>0),m=Date.now||function(){return+new Date};
}catch(e){_DumpException(e)}
try{
var _DumpException=function(a){throw a;},q=function(a){return void 0!==a},ca=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=0,fa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof
Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},
ga=function(a,b,c){a=a.split(".");c=c||k;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&q(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}},r=function(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Gh=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}},ha=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=
c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},t=function(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ca;return t.apply(null,arguments)},ja=function(a){return a[ba]||(a[ba]=++ea)},ka=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},la=function(a){return"function"==fa(a)},ma=function(a){return"number"==typeof a},u=function(a){return"string"==typeof a},na=function(a){var b=fa(a);return"array"==b||"object"==b&&
"number"==typeof a.length},oa=function(a){return"array"==fa(a)},v=function(a){a.sc=void 0;a.B=function(){return a.sc?a.sc:a.sc=new a}},pa=function(){},qa=function(a,b){a=a.split(".");b=b||k;for(var c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b};
var ra=function(a,b){this.b=a;this.a=b};var sa=function(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a)throw Error("Invalid URI scheme in origin");var c="",d=b.indexOf(":");if(-1!=d){var e=b.substring(d+1),b=b.substring(0, d);if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};
var ta=function(a,b){this.a=a;this.b=b};ta.prototype.toString=function(){return this.a};var ua=function(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;z=p=0}function b(a){for(var b=g,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];for(var d=e[1],f=e[2],l=e[3],n=e[4],p,z,c=0;80>c;c++)40>c?20>c?(p=l^d&(f^l),z=1518500249):(p=d^f^l,z=1859775393):60>c?(p=d&f|l&(d|f),z=2400959708):(p=d^f^l,z=3395469782),p=((a<<5|a>>>27)&4294967295)+p+n+z+b[c]&4294967295,
n=l,l=f,f=(d<<30|d>>>2)&4294967295,d=a,a=p;e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;e[3]=e[3]+l&4294967295;e[4]=e[4]+n&4294967295}function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,g=a.length;e<g;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==p)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,z+=64;for(;d<c;)if(f[p++]=a[d++],z++,64==p)for(p=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,z+=64}function d(){var a=[],d=8*z;56>p?c(l,56-p):c(l,
64-(p-56));for(var g=63;56<=g;g--)f[g]=d&255,d>>>=8;b(f);for(g=d=0;5>g;g++)for(var n=24;0<=n;n-=8)a[d++]=e[g]>>n&255;return a}for(var e=[],f=[],g=[],l=[128],n=1;64>n;++n)l[n]=0;var p,z;a();return{reset:a,update:c,digest:d,Wd:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};
var va=function(a){this.a=a};va.prototype.R=function(){return this.a.a.substring(3)};var wa=function(a,b){this.b=a;this.a=b};wa.prototype.vb=function(){return this.b};wa.prototype.R=function(){return this.a};var xa=function(a,b,c){this.g=c;this.c=a;this.j=b;this.b=0;this.a=null};xa.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};var ya=function(a,b){a.j(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};var za=function(){this.b=-1};var Aa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Aa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};r(Aa,Error);Aa.prototype.name="CustomError";var Ba=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Ba.prototype.g=0;Ba.prototype.a=null;var Ca=0;Ba.prototype.reset=function(a,b,c,d,e){this.g="number"==typeof e?e:Ca++;this.l=d||m();this.b=a;this.j=b;this.c=c;delete this.a};Ba.prototype.getMessage=function(){return this.j};
var Da=function(){this.a=m()};new Da;Da.prototype.set=function(a){this.a=a};Da.prototype.reset=function(){this.set(m())};Da.prototype.get=function(){return this.a};var Ea;var Fa=function(a){return function(){return a}}(!1);var Ga={AED:[2,"dh","\u062f.\u0625.","DH"],ALL:[0,"Lek","Lek"],AUD:[2,"$","AU$"],BDT:[2,"\u09f3","Tk"],BGN:[2,"lev","lev"],BRL:[2,"R$","R$"],CAD:[2,"$","C$"],CDF:[2,"FrCD","CDF"],CHF:[2,"CHF","CHF"],CLP:[0,"$","CL$"],CNY:[2,"\u00a5","RMB\u00a5"],COP:[32,"$","COL$"],CRC:[0,"\u20a1","CR\u20a1"],CZK:[50,"K\u010d","K\u010d"],DKK:[50,"kr.","kr."],DOP:[2,"RD$","RD$"],EGP:[2,"\u00a3","LE"],ETB:[2,"Birr","Birr"],EUR:[2,"\u20ac","\u20ac"],GBP:[2,"\u00a3","GB\u00a3"],HKD:[2,"$","HK$"],HRK:[2,"kn","kn"],HUF:[34,
"Ft","Ft"],IDR:[0,"Rp","Rp"],ILS:[34,"\u20aa","IL\u20aa"],INR:[2,"\u20b9","Rs"],IRR:[0,"Rial","IRR"],ISK:[0,"kr","kr"],JMD:[2,"$","JA$"],JPY:[0,"\u00a5","JP\u00a5"],KRW:[0,"\u20a9","KR\u20a9"],LKR:[2,"Rs","SLRs"],LTL:[2,"Lt","Lt"],MNT:[0,"\u20ae","MN\u20ae"],MVR:[2,"Rf","MVR"],MXN:[2,"$","Mex$"],MYR:[2,"RM","RM"],NOK:[50,"kr","NOkr"],PAB:[2,"B/.","B/."],PEN:[2,"S/.","S/."],PHP:[2,"\u20b1","PHP"],PKR:[0,"Rs","PKRs."],PLN:[50,"z\u0142","z\u0142"],RON:[2,"RON","RON"],RSD:[0,"din","RSD"],RUB:[50,"\u20bd",
"RUB"],SAR:[2,"Rial","Rial"],SEK:[50,"kr","kr"],SGD:[2,"$","S$"],THB:[2,"\u0e3f","THB"],TRY:[2,"TL","YTL"],TWD:[2,"NT$","NT$"],TZS:[0,"TSh","TSh"],UAH:[2,"\u0433\u0440\u043d.","UAH"],USD:[2,"$","US$"],UYU:[2,"$","$U"],VND:[48,"\u20ab","VN\u20ab"],YER:[0,"Rial","Rial"],ZAR:[2,"R","ZAR"]};
var Ha={ud:".",Hc:",",Bd:"%",Jc:"0",Dd:"+",zd:"-",wd:"E",Cd:"\u2030",yd:"\u221e",Ad:"NaN",td:"#,##0.###",eh:"#E0",Mg:"#,##0%",bg:"\u00a4#,##0.00",vd:"USD"},Ia=Ha,Ia=Ha;var Ja=function(a){return 1==a%10&&11!=a%100?"one":2==a%10&&12!=a%100?"two":3==a%10&&13!=a%100?"few":"other"},La=Ja,La=Ja;var Ma=function(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1},Na=function(a,b){var c=a|0;a=void 0===b?Math.min(Ma(a),3):b;return 1==c&&0==a?"one":"other"},Oa=Na,Oa=Na;var Pa=k.JSON.parse,Qa=k.JSON.parse,w=k.JSON.stringify;var Ra=function(a){this.a=a||{cookie:""}},Sa=/\s*;\s*/;h=Ra.prototype;h.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');q(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(m()+1E3*c)).toUTCString();this.a.cookie=a+"="+b+e+d+c+f};
h.get=function(a,b){for(var c=a+"=",d=(this.a.cookie||"").split(Sa),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};h.remove=function(a,b,c){var d=q(this.get(a));this.set(a,"",0,b,c);return d};h.$=function(){return Ta(this).keys};h.S=function(){return Ta(this).values};h.O=function(){return this.a.cookie?(this.a.cookie||"").split(Sa).length:0};h.Ka=function(a){for(var b=Ta(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
h.clear=function(){for(var a=Ta(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};var Ta=function(a){a=(a.a.cookie||"").split(Sa);for(var b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}},Ua=new Ra("undefined"==typeof document?null:document);Ua.b=3950;
var Va=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Wa=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d},Xa=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Ya=function(a){var b=0,c;for(c in a)b++;return b},Za=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},$a=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},cb=function(a,b){return null!==a&&b in a},db=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},eb=function(a,
b){a:{for(var c in a)if(b.call(void 0,a[c],c,a)){b=c;break a}b=void 0}return b&&a[b]},fb=function(a,b){b in a&&delete a[b]},gb=function(a,b){return null!==a&&b in a?a[b]:void 0},hb=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0},ib=function(a){var b={},c;for(c in a)b[c]=a[c];return b},jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),kb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d= arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<jb.length;f++)c=jb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};
var lb=function(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0},mb=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var nb=function(a){nb[" "](a);return a};nb[" "]=pa;var ob=function(a,b){try{return nb(a[b]),!0}catch(c){}return!1},pb=function(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var qb=function(){};var sb=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},tb=function(a){return/^[\s\xa0]*$/.test(a)},ub=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Cb=function(a){if(!vb.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(wb,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(xb,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(yb,"&gt;"));-1!=a.indexOf('"')&&
(a=a.replace(zb,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ab,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Bb,"&#0;"));return a},wb=/&/g,xb=/</g,yb=/>/g,zb=/"/g,Ab=/'/g,Bb=/\x00/g,vb=/[\x00&<>"']/,Fb=function(a){return-1!=a.indexOf("&")?"document"in k?Db(a):Eb(a):a},Db=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=k.document.createElement("div");return a.replace(Gb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));
d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})},Eb=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})},Gb=/&([^;\s<&]+);?/g,Hb={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},Ib={"'":"\\'"},Kb=function(a){a=String(a);
for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=Hb[d]||(31<e&&127>e?d:Jb(d))}b.push('"');return b.join("")},Jb=function(a){if(a in Ib)return Ib[a];if(a in Hb)return Ib[a]=Hb[a];var b,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return Ib[a]=b},Lb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)},Mb=function(a){return null==
a?"":String(a)},Nb=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)},Ob=function(a,b){return a<b?-1:a>b?1:0},Pb=function(a){isFinite(a)&&(a=String(a));return u(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};
var Qb=function(a,b){null!=a&&this.oc.apply(this,arguments)};h=Qb.prototype;h.Wa="";h.set=function(a){this.Wa=""+a};h.oc=function(a,b,c){this.Wa+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Wa+=arguments[d];return this};h.clear=function(){this.Wa=""};h.toString=function(){return this.Wa};
var Rb=function(a){this.b=0;this.c=a||100;this.a=[]};h=Rb.prototype;h.get=function(a){a=Sb(this,a);return this.a[a]};h.set=function(a,b){a=Sb(this,a);this.a[a]=b};h.O=function(){return this.a.length};h.clear=function(){this.b=this.a.length=0};h.S=function(){for(var a=this.O(),b=this.O(),c=[],a=this.O()-a;a<b;a++)c.push(this.get(a));return c};h.$=function(){for(var a=[],b=this.O(),c=0;c<b;c++)a[c]=c;return a};h.Ka=function(a){for(var b=this.O(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1}; var Sb=function(a,b){if(b>=a.a.length)throw Error("Out of bounds exception");return a.a.length<a.c?b:(a.b+Number(b))%a.c};
var Tb=function(a,b){this.a=a;this.b=b};Tb.prototype.clone=function(){return new Tb(this.a,this.b)};var Ub=null;var Vb=function(){};v(Vb);Vb.prototype.match=function(){return!0};Vb.prototype.T=function(a,b){return a==b};Vb.prototype.hash=function(a){return a};var Wb=function(){};Wb.prototype.toString=function(){var a=new Qb,b=!0,c;for(c in this){var d=this[c];la(d)||(b||a.oc(", "),b=!1,a.oc(c+" = "+d))}return a.toString()};var Xb=function(){this.b=64;this.a=[];this.l=[];this.o=[];this.g=[];this.g[0]=128;for(var a=1;a<this.b;++a)this.g[a]=0;this.j=this.c=0;this.reset()};r(Xb,za);Xb.prototype.reset=function(){this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.a[4]=3285377520;this.j=this.c=0};
var Yb=function(a,b,c){c||(c=0);var d=a.o;if(u(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.a[0];c=a.a[1];for(var g=a.a[2],l=a.a[3],n=a.a[4],p,e=0;80>e;e++)40>e?20>e?(f=l^c&(g^l),p=1518500249):(f=c^g^l,p=1859775393):60>e?(f=c&g|l&(c|g),p=2400959708):(f=c^g^l,p=3395469782),
f=(b<<5|b>>>27)+f+n+p+d[e]&4294967295,n=l,l=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+c&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+l&4294967295;a.a[4]=a.a[4]+n&4294967295};
Xb.prototype.update=function(a,b){if(null!=a){q(b)||(b=a.length);for(var c=b-this.b,d=0,e=this.l,f=this.c;d<b;){if(0==f)for(;d<=c;)Yb(this,a,d),d+=this.b;if(u(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.b){Yb(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.b){Yb(this,e);f=0;break}}this.c=f;this.j+=b}};
Xb.prototype.digest=function(){var a=[],b=8*this.j;56>this.c?this.update(this.g,56-this.c):this.update(this.g,this.b-(this.c-56));for(var c=this.b-1;56<=c;c--)this.l[c]=b&255,b/=256;Yb(this,this.l);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.a[c]>>d&255,++b;return a};
var x=function(){this.L=this.L;this.I=this.I};x.prototype.L=!1;x.prototype.Da=function(){return this.L};x.prototype.X=function(){this.L||(this.L=!0,this.F())};var Zb=function(a,b){a.L?q(void 0)?b.call(void 0):b():(a.I||(a.I=[]),a.I.push(q(void 0)?t(b,void 0):b))};x.prototype.F=function(){if(this.I)for(;this.I.length;)this.I.shift()()};var $b=function(a){a&&"function"==typeof a.X&&a.X()};
var ac={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var bc="closure_listenable_"+(1E6*Math.random()|0),cc=function(a){return!(!a||!a[bc])},dc=0;var ec;a:{var fc=k.navigator;if(fc){var gc=fc.userAgent;if(gc){ec=gc;break a}}ec=""}var y=function(a){return-1!=ec.indexOf(a)};var hc=function(a,b){this.b=a|0;this.a=b|0},ic={},jc={},kc=function(a){return-128<=a&&128>a?pb(ic,a,function(a){return new hc(a|0,0>a?-1:0)}):new hc(a|0,0>a?-1:0)},qc=function(a){return isNaN(a)?lc():a<=-mc?nc():a+1>=mc?oc():0>a?pc(qc(-a)):new hc(a%4294967296|0,a/4294967296|0)},rc=function(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return pc(rc(a.substring(1),b));if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+
a);for(var c=qc(Math.pow(b,8)),d=lc(),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=qc(Math.pow(b,f)),d=sc(tc(d,f),qc(g))):(d=tc(d,c),d=sc(d,qc(g)))}return d},mc=4294967296*4294967296/2,lc=function(){return pb(jc,3,function(){return kc(0)})},uc=function(){return pb(jc,4,function(){return kc(1)})},vc=function(){return pb(jc,5,function(){return kc(-1)})},oc=function(){return pb(jc,1,function(){return new hc(-1,2147483647)})},nc=function(){return pb(jc,2,function(){return new hc(0,
-2147483648)})},wc=function(){return pb(jc,6,function(){return kc(16777216)})};hc.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(xc(this))return"0";if(0>this.a){if(this.T(nc())){var b=qc(a),c=yc(this,b),b=zc(tc(c,b),this);return c.toString(a)+b.b.toString(a)}return"-"+pc(this).toString(a)}for(var c=qc(Math.pow(a,6)),b=this,d="";;){var e=yc(b,c),f=(zc(b,tc(e,c)).b>>>0).toString(a),b=e;if(xc(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};
var Ac=function(a){return 0<=a.b?a.b:4294967296+a.b},xc=function(a){return 0==a.a&&0==a.b};hc.prototype.T=function(a){return this.a==a.a&&this.b==a.b};
var Bc=function(a,b){if(a.T(b))return 0;var c=0>a.a,d=0>b.a;return c&&!d?-1:!c&&d?1:0>zc(a,b).a?-1:1},pc=function(a){return a.T(nc())?nc():sc(new hc(~a.b,~a.a),uc())},sc=function(a,b){var c=a.a>>>16,d=a.a&65535,e=a.b>>>16,f=b.a>>>16,g=b.a&65535,l=b.b>>>16;a=0+((a.b&65535)+(b.b&65535));l=0+(a>>>16)+(e+l);e=0+(l>>>16);e+=d+g;c=0+(e>>>16)+(c+f)&65535;return new hc((l&65535)<<16|a&65535,c<<16|e&65535)},zc=function(a,b){return sc(a,pc(b))},tc=function(a,b){if(xc(a)||xc(b))return lc();if(a.T(nc()))return 1==
(b.b&1)?nc():lc();if(b.T(nc()))return 1==(a.b&1)?nc():lc();if(0>a.a)return 0>b.a?tc(pc(a),pc(b)):pc(tc(pc(a),b));if(0>b.a)return pc(tc(a,pc(b)));if(0>Bc(a,wc())&&0>Bc(b,wc()))return qc((4294967296*a.a+Ac(a))*(4294967296*b.a+Ac(b)));var c=a.a>>>16,d=a.a&65535,e=a.b>>>16;a=a.b&65535;var f=b.a>>>16,g=b.a&65535,l=b.b>>>16;b=b.b&65535;var n,p,z,Y;Y=0+a*b;z=0+(Y>>>16)+e*b;p=0+(z>>>16);z=(z&65535)+a*l;p+=z>>>16;p+=d*b;n=0+(p>>>16);p=(p&65535)+e*l;n+=p>>>16;p=(p&65535)+a*g;n=n+(p>>>16)+(c*b+d*l+e*g+a*f)&
65535;return new hc((z&65535)<<16|Y&65535,n<<16|p&65535)},yc=function(a,b){if(xc(b))throw Error("division by zero");if(xc(a))return lc();if(a.T(nc())){if(b.T(uc())||b.T(vc()))return nc();if(b.T(nc()))return uc();var c;c=1;if(0==c)c=a;else{var d=a.a;c=32>c?new hc(a.b>>>c|d<<32-c,d>>c):new hc(d>>c-32,0<=d?0:-1)}c=yc(c,b);d=1;if(0!=d){var e=c.b;c=32>d?new hc(e<<d,c.a<<d|e>>>32-d):new hc(0,e<<d-32)}if(c.T(lc()))return 0>b.a?uc():vc();a=zc(a,tc(b,c));return sc(c,yc(a,b))}if(b.T(nc()))return lc();if(0>
a.a)return 0>b.a?yc(pc(a),pc(b)):pc(yc(pc(a),b));if(0>b.a)return pc(yc(a,pc(b)));for(d=lc();0<=Bc(a,b);){c=Math.max(1,Math.floor((4294967296*a.a+Ac(a))/(4294967296*b.a+Ac(b))));for(var e=Math.ceil(Math.log(c)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),f=qc(c),g=tc(f,b);0>g.a||0<Bc(g,a);)c-=e,f=qc(c),g=tc(f,b);xc(f)&&(f=uc());d=sc(d,f);a=zc(a,g)}return d};
var Cc=function(){};Cc.prototype.a=null;var Ec=function(a){var b;(b=a.a)||(b={},Dc(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var Gc=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,p,z,Y){if("%"==p)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return Fc[p].apply(null,arguments)})},Fc={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?
a+Lb(" ",Number(c)-a.length):Lb(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Lb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Lb(b,a)+d);return d},d:function(a,b,c,d,e,f,g,l){return Fc.f(parseInt(a, 10),b,c,d,0,f,g,l)}};Fc.i=Fc.d;Fc.u=Fc.d;
var Ic=function(a){this.qb=a||Hc},Hc=function(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0};h=Ic.prototype;h.ga=null;h.qb=null;h.Fa=null;h.Ea=null;
h.fb=function(a){if(null==this.ga)return this.Ea=this.Fa=this.ga=new Jc(a),!0;var b=null;Kc(this,function(c){var d=null,e=this.qb(c.value,a);0<e?(d=c.left,null==c.left&&(b=new Jc(a,c),c.left=b,c==this.Fa&&(this.Fa=b))):0>e&&(d=c.right,null==c.right&&(b=new Jc(a,c),c.right=b,c==this.Ea&&(this.Ea=b)));return d});b&&(Kc(this,function(a){a.count++;return a.parent},b.parent),Lc(this,b.parent));return!!b};
h.remove=function(a){var b=null;Kc(this,function(c){var d=null,e=this.qb(c.value,a);0<e?d=c.left:0>e?d=c.right:(b=c.value,Mc(this,c));return d});return b};h.clear=function(){this.Ea=this.Fa=this.ga=null};h.contains=function(a){var b=!1;Kc(this,function(c){var d=null,e=this.qb(c.value,a);0<e?d=c.left:0>e?d=c.right:b=!0;return d});return b};
h.indexOf=function(a){var b=-1,c=0;Kc(this,function(d){var e=this.qb(d.value,a);if(0<e)return d.left;d.left&&(c+=d.left.count);if(0>e)return c++,d.right;b=c;return null});return b};h.O=function(){return this.ga?this.ga.count:0};h.S=function(){var a=[];Nc(this,function(b){a.push(b)});return a};
var Nc=function(a,b){if(a.ga){var c;a=c=Oc(a);for(c=c.left?c.left:c;null!=a;)if(null!=a.left&&a.left!=c&&a.right!=c)a=a.left;else{if(a.right!=c&&b(a.value))break;var d=a;a=null!=a.right&&a.right!=c?a.right:a.parent;c=d}}},Kc=function(a,b,c){for(c=c?c:a.ga;c&&null!=c;)c=b.call(a,c)},Lc=function(a,b){Kc(a,function(a){var b=a.left?a.left.height:0,c=a.right?a.right.height:0;1<b-c?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&Pc(this,a.left),Qc(this,a)):1<c-b&&(a.right.left&&(!a.right.right||
a.right.right.height<a.right.left.height)&&Qc(this,a.right),Pc(this,a));b=a.left?a.left.height:0;c=a.right?a.right.height:0;a.height=Math.max(b,c)+1;return a.parent},b)},Pc=function(a,b){Rc(b)?(b.parent.left=b.right,b.right.parent=b.parent):Sc(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.ga=b.right,a.ga.parent=null);a=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);a.left=b;b.parent=a;a.count=b.count;b.count-=(a.right?a.right.count:0)+1},Qc=function(a,b){Rc(b)?(b.parent.left=
b.left,b.left.parent=b.parent):Sc(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.ga=b.left,a.ga.parent=null);a=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);a.right=b;b.parent=a;a.count=b.count;b.count-=(a.left?a.left.count:0)+1},Mc=function(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=Tc(a,b.left);Kc(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=
b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.Ea&&(a.Ea=d)}else{d=Oc(a,b.right);Kc(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.Fa&&(a.Fa=d)}d.count=b.count;Rc(b)?b.parent.left=d:Sc(b)?b.parent.right=d:a.ga=d;Lc(a,c?c:d)}else Kc(a,function(a){a.count--;return a.parent},b.parent),Rc(b)?(b.parent.left=null,b==a.Fa&&(a.Fa=
b.parent),Lc(a,b.parent)):Sc(b)?(b.parent.right=null,b==a.Ea&&(a.Ea=b.parent),Lc(a,b.parent)):a.clear()},Oc=function(a,b){if(!b)return a.Fa;var c=b;Kc(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c},Tc=function(a,b){if(!b)return a.Ea;var c=b;Kc(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c},Jc=function(a,b){this.value=a;this.parent=b?b:null;this.count=1};Jc.prototype.left=null;Jc.prototype.right=null;Jc.prototype.height=1; var Sc=function(a){return!!a.parent&&a.parent.right==a},Rc=function(a){return!!a.parent&&a.parent.left==a};
var Uc=function(){this.a=8;this.b=m()};var Vc=function(a,b){this.a=a;this.b=b/100},Wc=function(a,b){a=(2*a.a()-1)*a.b;return Math.ceil(b+b*a)};var Xc=function(a,b,c){this.c=b;this.j=c;this.g=a;this.reset()};Xc.prototype.reset=function(){this.a=this.c;this.b=!1};var Yc=function(a){var b=0;if(a.b){var b=Math.ceil(a.g()*a.a),c=a.c*a.j;a.a<=c&&(a.a*=2,a.a>c&&(a.a=c))}a.b=!0;return b};var Zc=function(a,b){this.b=a;this.a=b;for(a=0;a<b.length;a++);};r(Zc,Wb);Zc.prototype.T=function(a){return this==a?!0:this.b==a.b&&this.a==a.a};var $c=function(a,b,c){this.a=a;this.c=b;this.b=c||null};r($c,Wb);var ad=function(a,b){this.a=a;this.b=b};r(ad,Wb);ad.prototype.getMessage=function(){return this.b};ad.prototype.va=function(){return 0==this.a};var bd=function(a,b){this.a=b};r(bd,Wb);bd.prototype.Le=function(){return this.a};var cd=function(a){this.a=a};r(cd,Wb); cd.prototype.T=function(a){return a instanceof cd&&this.a===a.a};
var dd=function(a){this.a=a;this.b="empty";this.c={}};var ed=function(a){return a[a.length-1]},fd=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(u(a))return u(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},gd=Array.prototype.lastIndexOf?function(a,b,c){return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(u(a))return u(b)&&
1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},hd=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},id=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=u(a)?a.split(""):a,l=0;l<d;l++)if(l in g){var n=g[l];b.call(c,n,l,a)&&(e[f++]=n)}return e},jd=Array.prototype.map?
function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},kd=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},ld=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?
a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},nd=function(a,b,c){b=md(a,b,c);return 0>b?null:u(a)?a.charAt(b):a[b]},md=function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1},od=function(a,b){for(var c=u(a)?a.split(""):a,d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a))return d;return-1},pd=function(a){if(!oa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},qd=function(a,b){0<=fd(a,b)||a.push(b)},
rd=function(a,b){b=fd(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},sd=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},td=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},vd=function(a,b,c,d){Array.prototype.splice.apply(a,ud(arguments,1))},ud=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)},xd=function(a,b){a.sort(b||wd)},zd=function(a,b){if(!na(a)||
!na(b)||a.length!=b.length)return!1;for(var c=a.length,d=yd,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0},wd=function(a,b){return a>b?1:a<b?-1:0},yd=function(a,b){return a===b},Ad=function(a,b){var c={};hd(a,function(d,e){c[b.call(void 0,d,e,a)]=d});return c};
var Bd=function(){this.b=this.a=null},Dd=new xa(function(){return new Cd},function(a){a.reset()},100);Bd.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};var Cd=function(){this.next=this.b=this.a=null};Cd.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};Cd.prototype.reset=function(){this.next=this.b=this.a=null};
var Ed=function(a,b){this.type=a;this.a=this.target=b;this.qd=!0};Ed.prototype.c=function(){this.qd=!1};var Fd=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ua=e;this.key=++dc;this.removed=this.Jb=!1},Gd=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.ua=null};var Hd=function(){this.a=Qa};var Id=function(){return y("iPhone")&&!y("iPod")&&!y("iPad")},Jd=function(){return Id()||y("iPad")||y("iPod")};var Kd=function(a,b){this.a=a;this.j=b.name;this.c=!!b.Ga;this.b=b.w;this.g=b.type;this.o=!1;switch(this.b){case 3:case 4:case 6:case 16:case 18:case 2:case 1:this.o=!0}this.l=b.defaultValue},Ld=function(a){return 11==a.b||10==a.b};var Nd=function(){this.a="";this.b=Md};Nd.prototype.Xa=!0;Nd.prototype.Na=function(){return this.a};Nd.prototype.toString=function(){return"Const{"+this.a+"}"};var Od=function(a){return a instanceof Nd&&a.constructor===Nd&&a.b===Md?a.a:"type_error:Const"},Md={},Pd=function(a){var b=new Nd;b.a=a;return b};Pd("");
var Qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Rd=function(a){var b=a.match(Qd);a=b[1];var c=b[2],d=b[3],b=b[4],e="";a&&(e+=a+":");d&&(e+="//",c&&(e+=c+"@"),e+=d,b&&(e+=":"+b));return e},Sd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};
var Td=function(a,b){Ed.call(this,b.request,a);this.message=b};r(Td,Ed);var Ud=function(a,b,c){Ed.call(this,b,a);this.workgroupId=c};r(Ud,Ed);var Vd=function(a,b){if(!ka(a))return!1;ka(b)&&(b=Za(b));return ld(b,function(b){return cb(a,b)})};var Xd=function(a,b,c){var d=[],e=[];if(1==(oa(c)?2:1))return e=[b,a],hd(d,function(a){e.push(a)}),Wd(e.join(" "));var f=[],g=[];hd(c,function(a){g.push(a.key);f.push(a.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];hd(d,function(a){e.push(a)});a=Wd(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")},Wd=function(a){var b=ua();b.update(a);return b.Wd().toLowerCase()};
var Yd=function(a){this.a=a};var Zd=function(a){x.call(this);this.a=a;this.g=!1};r(Zd,x);Zd.prototype.setEnabled=function(a){this.g=a};var $d=function(a){this.src=a;this.a={};this.b=0},be=function(a,b,c,d,e,f){var g=b.toString();b=a.a[g];b||(b=a.a[g]=[],a.b++);var l=ae(b,c,e,f);-1<l?(a=b[l],d||(a.Jb=!1)):(a=new Fd(c,a.src,g,!!e,f),a.Jb=d,b.push(a));return a};$d.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=ae(e,b,c,d);return-1<b?(Gd(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
var ce=function(a,b){var c=b.type;c in a.a&&rd(a.a[c],b)&&(Gd(b),0==a.a[c].length&&(delete a.a[c],a.b--))};$d.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,Gd(d[e]);delete this.a[c];this.b--}return b};
var de=function(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=ae(a,c,d,e));return-1<b?a[b]:null},ee=function(a,b){var c=q(b),d=c?b.toString():"",e=q(void 0);return Xa(a.a,function(a){for(var b=0;b<a.length;++b)if(!(c&&a[b].type!=d||e&&void 0!=a[b].capture))return!0;return!1})},ae=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.ua==d)return e}return-1};
var ge=function(){this.a="";this.b=fe};ge.prototype.Xa=!0;var fe={};ge.prototype.Na=function(){return this.a};var he=function(a){var b=new ge;b.a=a;return b},ie=he(""),je=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/;var le=function(){this.a="";this.b=ke};le.prototype.Xa=!0;le.prototype.Na=function(){return this.a};le.prototype.qc=!0;le.prototype.tb=function(){return 1};var me=function(a){if(a instanceof le&&a.constructor===le&&a.b===ke)return a.a;fa(a);return"type_error:SafeUrl"},ne=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,pe=function(a){if(a instanceof le)return a;a=a.Xa?a.Na():String(a);ne.test(a)||(a="about:invalid#zClosurez");return oe(a)},ke={},oe=function(a){var b=new le;b.a=a;return b};oe("about:blank");
var re=function(){this.a="";this.b=qe};re.prototype.Xa=!0;re.prototype.Na=function(){return this.a};re.prototype.qc=!0;re.prototype.tb=function(){return 1};var se=function(a){if(a instanceof re&&a.constructor===re&&a.b===qe)return a.a;fa(a);return"type_error:TrustedResourceUrl"},qe={};
var te=function(){return(y("Chrome")||y("CriOS"))&&!y("Edge")};var ue,ve=function(){};r(ve,Cc);var we=function(a){return(a=Dc(a))?new ActiveXObject(a):new XMLHttpRequest},Dc=function(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b};ue=new ve;
var xe=function(a,b,c){this.kd=a;this.b=b.name||null;this.a={};for(a=0;a<c.length;a++)b=c[a],this.a[b.a]=b},ye=function(a){a=Za(a.a);xd(a,function(a,c){return a.a-c.a});return a},ze=function(a,b){return eb(a.a,function(a){return a.j==b})||null};var Ae=function(a){this.a=[];if(a)a:{var b;if(a instanceof Ae){if(b=a.$(),a=a.S(),0>=this.O()){for(var c=this.a,d=0;d<b.length;d++)c.push(new Tb(b[d],a[d]));break a}}else b=$a(a),a=Za(a);for(d=0;d<b.length;d++)Be(this,b[d],a[d])}},Be=function(a,b,c){var d=a.a;d.push(new Tb(b,c));b=d.length-1;a=a.a;for(c=a[b];0<b;)if(d=b-1>>1,a[d].a>c.a)a[b]=a[d],b=d;else break;a[b]=c};h=Ae.prototype;
h.remove=function(){var a=this.a,b=a.length,c=a[0];if(!(0>=b)){if(1==b)pd(a);else{a[0]=a.pop();for(var a=0,b=this.a,d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2,f=g<d&&b[g].a<b[f].a?g:f;if(b[f].a>e.a)break;b[a]=b[f];a=f}b[a]=e}return c.b}};h.S=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].b);return b};h.$=function(){for(var a=this.a,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].a);return b};h.Ka=function(a){return kd(this.a,function(b){return b.b==a})};h.clone=function(){return new Ae(this)}; h.O=function(){return this.a.length};h.clear=function(){pd(this.a)};
var Ce=function(){this.b=[];this.a=[]},De=function(a){0==a.b.length&&(a.b=a.a,a.b.reverse(),a.a=[]);return a.b.pop()};h=Ce.prototype;h.O=function(){return this.b.length+this.a.length};h.clear=function(){this.b=[];this.a=[]};h.contains=function(a){return 0<=fd(this.b,a)||0<=fd(this.a,a)};h.remove=function(a){var b;b=this.b;var c=gd(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||rd(this.a,a)}; h.S=function(){for(var a=[],b=this.b.length-1;0<=b;--b)a.push(this.b[b]);for(var c=this.a.length,b=0;b<c;++b)a.push(this.a[b]);return a};
var Ee=function(a){return a.O&&"function"==typeof a.O?a.O():na(a)||u(a)?a.length:Ya(a)},Fe=function(a){if(a.S&&"function"==typeof a.S)return a.S();if(u(a))return a.split("");if(na(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Za(a)},Ge=function(a){if(a.$&&"function"==typeof a.$)return a.$();if(!a.S||"function"!=typeof a.S){if(na(a)||u(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return $a(a)}},He=function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,
void 0);else if(na(a)||u(a))hd(a,b,void 0);else for(var c=Ge(a),d=Fe(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)},Ie=function(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(na(a)||u(a))return ld(a,b,void 0);for(var c=Ge(a),d=Fe(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};
var Je=function(a){k.setTimeout(function(){throw a;},0)},Ke,Le=function(){var a=k.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,
a=t(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!y("Trident")&&!y("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(q(c.next)){c=c.next;var a=c.Tc;c.Tc=null;a()}};return function(a){d.next={Tc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")? function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){k.setTimeout(a,0)}};
var Ne=function(){this.a="";this.c=Me;this.b=null};Ne.prototype.qc=!0;Ne.prototype.tb=function(){return this.b};Ne.prototype.Xa=!0;Ne.prototype.Na=function(){return this.a};
var Oe=function(a){if(a instanceof Ne&&a.constructor===Ne&&a.c===Me)return a.a;fa(a);return"type_error:SafeHtml"},Pe=/^[a-zA-Z0-9-]+$/,Qe={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Se=function(a){var b=0,c="",d=function(a){if(oa(a))hd(a,d);else{var e;a instanceof Ne?e=a:(e=null,a.qc&&(e=a.tb()),a=Cb(a.Xa?a.Na():String(a)),e=Re(a,e));c+=Oe(e);e=e.tb();0==b?b=e:0!=e&&b!=e&&(b=null)}};hd(arguments,d);return Re(c,b)},Me={},Re=function(a,b){var c=new Ne;c.a=a;c.b=b; return c};Re("<!DOCTYPE html>",0);Re("",0);Re("<br>",0);
var Ue=function(){this.H=Ia.vd;this.o=40;this.a=1;this.l=3;this.v=this.g=0;this.K=!1;this.D=this.C="";this.I="-";this.L="";this.b=1;this.j=!1;this.c=[];this.A=this.G=!1;var a=Ia.td;a.replace(/ /g,"\u00a0");var b=[0];this.C=Te(this,a,b);for(var c=b[0],d=-1,e=0,f=0,g=0,l=-1,n=a.length,p=!0;b[0]<n&&p;b[0]++)switch(a.charAt(b[0])){case "#":0<f?g++:e++;0<=l&&0>d&&l++;break;case "0":if(0<g)throw Error('Unexpected "0" in pattern "'+a+'"');f++;0<=l&&0>d&&l++;break;case ",":0<l&&this.c.push(l);l=0;break;case ".":if(0<=
d)throw Error('Multiple decimal separators in pattern "'+a+'"');d=e+f+g;break;case "E":if(this.A)throw Error('Multiple exponential symbols in pattern "'+a+'"');this.A=!0;this.v=0;b[0]+1<n&&"+"==a.charAt(b[0]+1)&&(b[0]++,this.K=!0);for(;b[0]+1<n&&"0"==a.charAt(b[0]+1);)b[0]++,this.v++;if(1>e+f||1>this.v)throw Error('Malformed exponential pattern "'+a+'"');p=!1;break;default:b[0]--,p=!1}0==f&&0<e&&0<=d&&(f=d,0==f&&f++,g=e-f,e=f-1,f=1);if(0>d&&0<g||0<=d&&(d<e||d>e+f)||0==l)throw Error('Malformed pattern "'+
a+'"');g=e+f+g;this.l=0<=d?g-d:0;0<=d&&(this.g=e+f-d,0>this.g&&(this.g=0));this.a=(0<=d?d:g)-e;this.A&&(this.o=e+this.a,0==this.l&&0==this.a&&(this.a=1));this.c.push(Math.max(0,l));this.G=0==d||d==g;c=b[0]-c;this.D=Te(this,a,b);b[0]<a.length&&";"==a.charAt(b[0])?(b[0]++,1!=this.b&&(this.j=!0),this.I=Te(this,a,b),b[0]+=c,this.L=Te(this,a,b)):(this.I=this.C+this.I,this.L+=this.D)},Ve=function(a,b,c,d){var e;if(a.g>a.l)throw Error("Min value must be less than max value");d||(d=[]);var f=Math.pow(10,
a.l);e=Math.round(b*f);isFinite(e)?(b=Math.floor(e/f),f=Math.floor(e-b*f)):f=0;e=b;b=f;var f=Math.pow(10,a.l),g=e,l=b,n=0<a.g||0<l||!1;e=a.g;n&&(e=a.g);var p="";for(b=g;1E20<b;)p="0"+p,b=Math.round(b/10);var p=b+p,z=Ia.ud;b=Ia.Jc.charCodeAt(0);var Y=p.length,Ka=0;if(0<g||0<c){for(g=Y;g<c;g++)d.push(String.fromCharCode(b));if(2<=a.c.length)for(c=1;c<a.c.length;c++)Ka+=a.c[c];c=Y-Ka;if(0<c)for(var g=a.c,Ka=Y=0,ia,rb=Ia.Hc,ab=p.length,bb=0;bb<ab;bb++){if(d.push(String.fromCharCode(b+1*Number(p.charAt(bb)))),
1<ab-bb)if(ia=g[Ka],bb<c){var mg=c-bb;(1===ia||0<ia&&1===mg%ia)&&d.push(rb)}else Ka<g.length&&(bb===c?Ka+=1:ia===bb-c-Y+1&&(d.push(rb),Y+=ia,Ka+=1))}else{c=p;p=a.c;g=Ia.Hc;ia=c.length;rb=[];for(Y=p.length-1;0<=Y&&0<ia;Y--){Ka=p[Y];for(ab=0;ab<Ka&&0<=ia-ab-1;ab++)rb.push(String.fromCharCode(b+1*Number(c.charAt(ia-ab-1))));ia-=Ka;0<ia&&rb.push(g)}d.push.apply(d,rb.reverse())}}else n||d.push(String.fromCharCode(b));(a.G||n)&&d.push(z);a=""+(l+f);for(f=a.length;"0"==a.charAt(f-1)&&f>e+1;)f--;for(g=1;g<
f;g++)d.push(String.fromCharCode(b+1*Number(a.charAt(g))))},We=function(a,b,c){c.push(Ia.wd);0>b?(b=-b,c.push(Ia.zd)):a.K&&c.push(Ia.Dd);b=""+b;for(var d=Ia.Jc,e=b.length;e<a.v;e++)c.push(d);c.push(b)},Te=function(a,b,c){for(var d="",e=!1,f=b.length;c[0]<f;c[0]++){var g=b.charAt(c[0]);if("'"==g)c[0]+1<f&&"'"==b.charAt(c[0]+1)?(c[0]++,d+="'"):e=!e;else if(e)d+=g;else switch(g){case "#":case "0":case ",":case ".":case ";":return d;case "\u00a4":c[0]+1<f&&"\u00a4"==b.charAt(c[0]+1)?(c[0]++,d+=a.H):d+=
Ga[a.H][1];break;case "%":if(!a.j&&1!=a.b)throw Error("Too many percent/permill");if(a.j&&100!=a.b)throw Error("Inconsistent use of percent/permill characters");a.b=100;a.j=!1;d+=Ia.Bd;break;case "\u2030":if(!a.j&&1!=a.b)throw Error("Too many percent/permill");if(a.j&&1E3!=a.b)throw Error("Inconsistent use of percent/permill characters");a.b=1E3;a.j=!1;d+=Ia.Cd;break;default:d+=g}}return d},Xe={prefix:"",Bf:"",Xd:0};
var Ye="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""},Ze=function(){};Ze.prototype.next=function(){throw Ye;};Ze.prototype.ta=function(){return this};
var $e=function(a){if(a instanceof Ze)return a;if("function"==typeof a.ta)return a.ta(!1);if(na(a)){var b=0,c=new Ze;c.next=function(){for(;;){if(b>=a.length)throw Ye;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");},af=function(a,b){if(na(a))try{hd(a,b,void 0)}catch(c){if(c!==Ye)throw c;}else{a=$e(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Ye)throw c;}}},bf=function(a){if(na(a))return td(a);a=$e(a);var b=[];af(a,function(a){b.push(a)});return b};
var A=function(){this.b={};this.c=this.getDescriptor().a;this.a=null},cf=function(a,b,c){c=c||a;for(var d in a.b){var e=Number(d);a.c[e]||b.call(c,e,a.b[d])}};h=A.prototype;h.has=function(a){return B(this,a.a)};h.get=function(a,b){return C(this,a.a,b)};h.set=function(a,b){D(this,a.a,b)};h.clear=function(a){df(this,a.a)};
h.T=function(a){if(!a||this.constructor!=a.constructor)return!1;for(var b=ye(this.getDescriptor()),c=0;c<b.length;c++){var d=b[c],e=d.a;if(B(this,e)!=B(a,e))return!1;if(B(this,e)){var f=Ld(d),g=ef(this,e),e=ef(a,e);if(d.c){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++){var l=g[d],n=e[d];if(f?!l.T(n):l!=n)return!1}}else if(f?!g.T(e):g!=e)return!1}}return!0};
var gf=function(a,b){for(var c=ye(a.getDescriptor()),d=0;d<c.length;d++){var e=c[d],f=e.a;if(B(b,f)){a.a&&delete a.a[e.a];var g=Ld(e);if(e.c)for(var e=ef(b,f)||[],l=0;l<e.length;l++)ff(a,f,g?e[l].clone():e[l]);else e=ef(b,f),g?(g=ef(a,f))?gf(g,e):D(a,f,e.clone()):D(a,f,e)}}};A.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.b={},a.a&&(a.a={}),gf(a,this));return a};
var B=function(a,b){return null!=a.b[b]},ef=function(a,b){a=a.b[b];return null==a?null:a},C=function(a,b,c){var d=ef(a,b);return a.c[b].c?d[c||0]:d},hf=function(a,b){if(B(a,b))a=C(a,b,void 0);else a:{a=a.c[b];if(void 0===a.l)if(b=a.g,b===Boolean)a.l=!1;else if(b===Number)a.l=0;else if(b===String)a.l=a.o?"0":"";else{a=new b;break a}a=a.l}return a},jf=function(a,b){return a.c[b].c?B(a,b)?a.b[b].length:0:B(a,b)?1:0},D=function(a,b,c){a.b[b]=c;a.a&&(a.a[b]=c)},ff=function(a,b,c){a.b[b]||(a.b[b]=[]);a.b[b].push(c); a.a&&delete a.a[b]},df=function(a,b){delete a.b[b];a.a&&delete a.a[b]},E=function(a,b){var c=[],d=b[0],e;for(e in b)0!=e&&c.push(new Kd(e,b[e]));return new xe(a,d,c)};
var kf=function(){Ae.call(this)};r(kf,Ae);var lf=y("Opera"),F=y("Trident")||y("MSIE"),mf=y("Edge"),nf=y("Gecko")&&!(-1!=ec.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),of=-1!=ec.toLowerCase().indexOf("webkit")&&!y("Edge");of&&y("Mobile");var pf=y("Macintosh"),qf=y("Windows");y("Linux")||y("CrOS");var rf=k.navigator||null;rf&&(rf.appVersion||"").indexOf("X11");var sf=y("Android"),tf=Id(),uf=y("iPad"),vf=y("iPod");Jd();var wf=function(){var a=k.document;return a?a.documentMode:void 0},xf;
a:{var yf="",zf=function(){var a=ec;if(nf)return/rv\:([^\);]+)(\)|;)/.exec(a);if(mf)return/Edge\/([\d\.]+)/.exec(a);if(F)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(of)return/WebKit\/(\S+)/.exec(a);if(lf)return/(?:Version)[ \/]?(\S+)/.exec(a)}();zf&&(yf=zf?zf[1]:"");if(F){var Af=wf();if(null!=Af&&Af>parseFloat(yf)){xf=String(Af);break a}}xf=yf}
var Bf=xf,Cf={},Df=function(a){return pb(Cf,a,function(){for(var b=0,c=ub(String(Bf)).split("."),d=ub(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==g[0].length&&0==l[0].length)break;b=Ob(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||Ob(0==g[2].length,0==l[2].length)||Ob(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})},Ff=function(a){return Number(Ef)>= a},Gf;var Hf=k.document;Gf=Hf&&F?wf()||("CSS1Compat"==Hf.compatMode?parseInt(Bf,10):5):void 0;var Ef=Gf;
var If=function(){A.call(this)};r(If,A);var Jf=null,Kf=function(){A.call(this)};r(Kf,A);var Lf=null;
If.prototype.getDescriptor=function(){var a=Jf;a||(Jf=a=E(If,{0:{name:"BrowserChannelConfig",fullName:"buzz.channel.proto.BrowserChannelConfig"},1:{name:"authuser",w:4,type:Number},2:{name:"client_type",w:9,type:String},3:{name:"init_delay_ms",w:5,type:Number},4:{name:"service_override",w:9,type:String},5:{name:"gapi_src",w:9,type:String},6:{name:"property_id",w:9,type:String},7:{name:"application_version",w:9,type:String},8:{name:"retry_on_auth_error",w:8,type:Boolean},9:{name:"gsid_servlet_path",
w:9,type:String},10:{name:"page_id",w:9,type:String},11:{name:"initial_retry_delay_ms",w:5,defaultValue:1E4,type:Number},12:{name:"max_backoff_factor",w:5,defaultValue:180,type:Number},13:{name:"use_shared_channel",w:8,type:Boolean},14:{name:"stable_connection_threshold_ms",w:5,defaultValue:3E5,type:Number}}));return a};If.getDescriptor=If.prototype.getDescriptor;
Kf.prototype.getDescriptor=function(){var a=Lf;a||(Lf=a=E(Kf,{0:{name:"AuthenticationParameters",fullName:"buzz.channel.proto.AuthenticationParameters"},1:{name:"origin",w:9,type:String},2:{name:"scheme",w:5,type:Number},3:{name:"token",w:9,type:String},4:{name:"authuser",w:13,type:Number}}));return a};Kf.getDescriptor=Kf.prototype.getDescriptor;
var Mf=function(){A.call(this)};r(Mf,A);var Nf=null,Of=function(){A.call(this)};r(Of,A);var Pf=null,Qf=function(){A.call(this)};r(Qf,A);var Rf=null,Sf=function(){A.call(this)};r(Sf,A);var Tf=null,Uf=function(){A.call(this)};r(Uf,A);var Vf=null,Wf=function(){A.call(this)};r(Wf,A);var Xf=null,Yf=function(){A.call(this)};r(Yf,A);var Zf=null,$f=function(){A.call(this)};r($f,A);var ag=null,bg=function(){A.call(this)};r(bg,A);var cg=null,dg=function(){A.call(this)};r(dg,A);var eg=null;
dg.prototype.getMessage=function(){return C(this,2)};var fg=function(){A.call(this)};r(fg,A);var gg=null,hg=function(){A.call(this)};r(hg,A);var ig=null,jg=function(){A.call(this)};r(jg,A);var kg=null,lg=function(){A.call(this)};r(lg,A);var ng=null,og=function(){A.call(this)};r(og,A);var pg=null;Mf.prototype.getDescriptor=function(){var a=Nf;a||(Nf=a=E(Mf,{0:{name:"Version",fullName:"buzz.channel.Version"},1:{name:"major_version",w:5,type:Number},2:{name:"minor_version",w:5,type:Number}}));return a};
Mf.getDescriptor=Mf.prototype.getDescriptor;Of.prototype.getDescriptor=function(){var a=Pf;a||(Pf=a=E(Of,{0:{name:"ProtocolVersion",fullName:"buzz.channel.ProtocolVersion"},1:{name:"version",w:11,type:Mf}}));return a};Of.getDescriptor=Of.prototype.getDescriptor;
Qf.prototype.getDescriptor=function(){var a=Rf;a||(Rf=a=E(Qf,{0:{name:"ClientVersion",fullName:"buzz.channel.ClientVersion"},1:{name:"version",w:11,type:Mf},2:{name:"platform",w:9,type:String},3:{name:"language",w:9,type:String},4:{name:"application_info",w:9,type:String}}));return a};Qf.getDescriptor=Qf.prototype.getDescriptor;
Sf.prototype.getDescriptor=function(){var a=Tf;a||(Tf=a=E(Sf,{0:{name:"SessionId",fullName:"buzz.channel.SessionId"},1:{name:"service_name",w:9,type:String},2:{name:"session_name",w:9,type:String}}));return a};Sf.getDescriptor=Sf.prototype.getDescriptor;
Uf.prototype.getDescriptor=function(){var a=Vf;a||(Vf=a=E(Uf,{0:{name:"ClientToServerMessage",fullName:"buzz.channel.ClientToServerMessage"},1:{name:"header",w:11,type:Wf},2:{name:"init_endpoint_message",w:11,type:Yf},3:{name:"init_session_message",w:11,type:$f},4:{name:"client_data_message_deprecated",w:11,type:dg},5:{name:"send_on_disconnect_message",w:11,type:dg},6:{name:"close_session_message",w:11,type:bg}}));return a};Uf.getDescriptor=Uf.prototype.getDescriptor;
Wf.prototype.getDescriptor=function(){var a=Xf;a||(Xf=a=E(Wf,{0:{name:"ClientHeader",fullName:"buzz.channel.ClientHeader"},1:{name:"protocol_version",w:11,type:Of},2:{name:"client_version",w:11,type:Qf},3:{name:"client_time_ms",w:3,type:Number},4:{name:"max_known_server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};Wf.getDescriptor=Wf.prototype.getDescriptor;
Yf.prototype.getDescriptor=function(){var a=Zf;a||(Zf=a=E(Yf,{0:{name:"InitEndpointMessage",fullName:"buzz.channel.InitEndpointMessage"}}));return a};Yf.getDescriptor=Yf.prototype.getDescriptor;$f.prototype.getDescriptor=function(){var a=ag;a||(ag=a=E($f,{0:{name:"InitSessionMessage",fullName:"buzz.channel.InitSessionMessage"},1:{name:"session_id",w:11,type:Sf}}));return a};$f.getDescriptor=$f.prototype.getDescriptor;
bg.prototype.getDescriptor=function(){var a=cg;a||(cg=a=E(bg,{0:{name:"CloseSessionMessage",fullName:"buzz.channel.CloseSessionMessage"},1:{name:"session_id",w:11,type:Sf}}));return a};bg.getDescriptor=bg.prototype.getDescriptor;dg.prototype.getDescriptor=function(){var a=eg;a||(eg=a=E(dg,{0:{name:"DataMessage",fullName:"buzz.channel.DataMessage"},1:{name:"session_id",w:11,type:Sf},2:{name:"message",w:9,type:String}}));return a};dg.getDescriptor=dg.prototype.getDescriptor;
fg.prototype.getDescriptor=function(){var a=gg;a||(gg=a=E(fg,{0:{name:"SessionStatusMessage",fullName:"buzz.channel.SessionStatusMessage"},1:{name:"session_id",w:11,type:Sf},2:{name:"address",w:9,type:String},3:{name:"is_broadcast_to_user",w:8,type:Boolean},4:{name:"status",w:11,type:lg}}));return a};fg.getDescriptor=fg.prototype.getDescriptor;
hg.prototype.getDescriptor=function(){var a=ig;a||(ig=a=E(hg,{0:{name:"ServerToClientMessage",fullName:"buzz.channel.ServerToClientMessage"},1:{name:"header",w:11,type:jg},2:{name:"server_data_message",w:11,type:dg},3:{name:"channel_status_message",w:11,type:og},4:{name:"session_status_message",w:11,type:fg}}));return a};hg.getDescriptor=hg.prototype.getDescriptor;
jg.prototype.getDescriptor=function(){var a=kg;a||(kg=a=E(jg,{0:{name:"ServerHeader",fullName:"buzz.channel.ServerHeader"},1:{name:"protocol_version",w:11,type:Of},4:{name:"server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};jg.getDescriptor=jg.prototype.getDescriptor;lg.prototype.getDescriptor=function(){var a=ng;a||(ng=a=E(lg,{0:{name:"StatusP",fullName:"buzz.channel.StatusP"},1:{name:"code",w:5,type:Number},2:{name:"description",w:9,type:String}}));return a};
lg.getDescriptor=lg.prototype.getDescriptor;og.prototype.getDescriptor=function(){var a=pg;a||(pg=a=E(og,{0:{name:"ChannelStatusMessage",fullName:"buzz.channel.ChannelStatusMessage"},1:{name:"status",w:11,type:lg},2:{name:"jid_resource",w:9,type:String}}));return a};og.getDescriptor=og.prototype.getDescriptor;
var qg={Tg:1,Ug:2},rg=function(){A.call(this)};r(rg,A);var sg=null,tg={oh:1,Pf:111,nh:112,Nf:113,Bg:114,rh:115,Sg:116,th:117,sh:118};rg.prototype.getDescriptor=function(){var a=sg;a||(sg=a=E(rg,{0:{name:"NetworkEndpointId",fullName:"ipc.invalidation.NetworkEndpointId"},1:{name:"network_address",w:14,defaultValue:1,type:tg},2:{name:"client_address",w:12,type:String},3:{name:"is_offline",w:8,type:Boolean}}));return a};rg.getDescriptor=rg.prototype.getDescriptor;
var ug=function(){A.call(this)};r(ug,A);var vg=null,wg=function(){A.call(this)};r(wg,A);var xg=null,yg=function(){A.call(this)};r(yg,A);var zg=null,Ag=function(){A.call(this)};r(Ag,A);var Bg=null,Cg={SUCCESS:1,yh:2,Ng:3},Dg=function(){A.call(this)};r(Dg,A);var Eg=null,Fg=function(){A.call(this)};r(Fg,A);var Gg=null,Hg=function(){A.call(this)};r(Hg,A);var Ig=null,Jg=function(){A.call(this)};r(Jg,A);var Kg=null,Lg={Xg:1,Bh:2},Mg=function(){A.call(this)};r(Mg,A);var Ng=null,Og=function(){A.call(this)};
r(Og,A);var Pg=null,Qg=function(){A.call(this)};r(Qg,A);var Rg=null,Sg=function(){A.call(this)};r(Sg,A);var Tg=null,Ug={Qf:1,Gg:2},Vg=function(){A.call(this)};r(Vg,A);var Wg=null,Xg=function(){A.call(this)};r(Xg,A);var Yg=null,Zg=function(){A.call(this)};r(Zg,A);var $g=null,ah=function(){A.call(this)};r(ah,A);var bh=null,ch=function(){A.call(this)};r(ch,A);var dh=null,eh=function(){A.call(this)};r(eh,A);var fh=null,gh=function(){A.call(this)};r(gh,A);var hh=null,ih=function(){A.call(this)};r(ih,A);
var jh=null,kh=function(){A.call(this)};r(kh,A);var lh=null,mh=function(){A.call(this)};r(mh,A);var nh=null,oh=function(){A.call(this)};r(oh,A);var ph=null,qh=function(){A.call(this)};r(qh,A);var rh=null,sh=function(){A.call(this)};r(sh,A);var th=null,uh={kg:1},vh=function(){A.call(this)};r(vh,A);var wh=null;vh.prototype.O=function(){return C(this,2)};var xh=function(){A.call(this)};r(xh,A);var yh=null,zh=function(){A.call(this)};r(zh,A);var Ah=null,Bh=function(){A.call(this)};r(Bh,A);
var Ch=null,Dh=function(){A.call(this)};r(Dh,A);var Eh=null,Fh={Of:1,Ah:1E4};ug.prototype.getDescriptor=function(){var a=vg;a||(vg=a=E(ug,{0:{name:"Version",fullName:"ipc.invalidation.Version"},1:{name:"major_version",w:5,type:Number},2:{name:"minor_version",w:5,type:Number}}));return a};ug.getDescriptor=ug.prototype.getDescriptor;
wg.prototype.getDescriptor=function(){var a=xg;a||(xg=a=E(wg,{0:{name:"ProtocolVersion",fullName:"ipc.invalidation.ProtocolVersion"},1:{name:"version",w:11,type:ug}}));return a};wg.getDescriptor=wg.prototype.getDescriptor;
yg.prototype.getDescriptor=function(){var a=zg;a||(zg=a=E(yg,{0:{name:"ClientVersion",fullName:"ipc.invalidation.ClientVersion"},1:{name:"version",w:11,type:ug},2:{name:"platform",w:9,type:String},3:{name:"language",w:9,type:String},4:{name:"application_info",w:9,type:String}}));return a};yg.getDescriptor=yg.prototype.getDescriptor;
Ag.prototype.getDescriptor=function(){var a=Bg;a||(Bg=a=E(Ag,{0:{name:"StatusP",fullName:"ipc.invalidation.StatusP"},1:{name:"code",w:14,defaultValue:1,type:Cg},2:{name:"description",w:9,type:String}}));return a};Ag.getDescriptor=Ag.prototype.getDescriptor;Dg.prototype.getDescriptor=function(){var a=Eg;a||(Eg=a=E(Dg,{0:{name:"ObjectIdP",fullName:"ipc.invalidation.ObjectIdP"},1:{name:"source",w:5,type:Number},2:{name:"name",w:12,type:String}}));return a};Dg.getDescriptor=Dg.prototype.getDescriptor;
Fg.prototype.getDescriptor=function(){var a=Gg;a||(Gg=a=E(Fg,{0:{name:"ApplicationClientIdP",fullName:"ipc.invalidation.ApplicationClientIdP"},1:{name:"client_type",w:5,type:Number},2:{name:"client_name",w:12,type:String}}));return a};Fg.getDescriptor=Fg.prototype.getDescriptor;
Hg.prototype.getDescriptor=function(){var a=Ig;a||(Ig=a=E(Hg,{0:{name:"InvalidationP",fullName:"ipc.invalidation.InvalidationP"},1:{name:"object_id",w:11,type:Dg},2:{name:"is_known_version",w:8,type:Boolean},3:{name:"version",w:3,type:String},6:{name:"is_trickle_restart",w:8,defaultValue:!0,type:Boolean},4:{name:"payload",w:12,type:String}}));return a};Hg.getDescriptor=Hg.prototype.getDescriptor;
Jg.prototype.getDescriptor=function(){var a=Kg;a||(Kg=a=E(Jg,{0:{name:"RegistrationP",fullName:"ipc.invalidation.RegistrationP"},1:{name:"object_id",w:11,type:Dg},2:{name:"op_type",w:14,defaultValue:1,type:Lg}}));return a};Jg.getDescriptor=Jg.prototype.getDescriptor;
Mg.prototype.getDescriptor=function(){var a=Ng;a||(Ng=a=E(Mg,{0:{name:"RegistrationSummary",fullName:"ipc.invalidation.RegistrationSummary"},1:{name:"num_registrations",w:5,type:Number},2:{name:"registration_digest",w:12,type:String}}));return a};Mg.getDescriptor=Mg.prototype.getDescriptor;
Og.prototype.getDescriptor=function(){var a=Pg;a||(Pg=a=E(Og,{0:{name:"ClientHeader",fullName:"ipc.invalidation.ClientHeader"},1:{name:"protocol_version",w:11,type:wg},2:{name:"client_token",w:12,type:String},3:{name:"registration_summary",w:11,type:Mg},4:{name:"client_time_ms",w:3,type:Number},5:{name:"max_known_server_time_ms",w:3,type:Number},6:{name:"message_id",w:9,type:String},7:{name:"client_type",w:5,type:Number}}));return a};Og.getDescriptor=Og.prototype.getDescriptor;
Qg.prototype.getDescriptor=function(){var a=Rg;a||(Rg=a=E(Qg,{0:{name:"ClientToServerMessage",fullName:"ipc.invalidation.ClientToServerMessage"},1:{name:"header",w:11,type:Og},2:{name:"initialize_message",w:11,type:Sg},3:{name:"registration_message",w:11,type:Vg},4:{name:"registration_sync_message",w:11,type:Xg},5:{name:"invalidation_ack_message",w:11,type:qh},6:{name:"info_message",w:11,type:ah}}));return a};Qg.getDescriptor=Qg.prototype.getDescriptor;
Sg.prototype.getDescriptor=function(){var a=Tg;a||(Tg=a=E(Sg,{0:{name:"InitializeMessage",fullName:"ipc.invalidation.InitializeMessage"},1:{name:"client_type",w:5,type:Number},2:{name:"nonce",w:12,type:String},3:{name:"application_client_id",w:11,type:Fg},4:{name:"digest_serialization_type",w:14,defaultValue:1,type:Ug}}));return a};Sg.getDescriptor=Sg.prototype.getDescriptor;
Vg.prototype.getDescriptor=function(){var a=Wg;a||(Wg=a=E(Vg,{0:{name:"RegistrationMessage",fullName:"ipc.invalidation.RegistrationMessage"},1:{name:"registration",Ga:!0,w:11,type:Jg}}));return a};Vg.getDescriptor=Vg.prototype.getDescriptor;Xg.prototype.getDescriptor=function(){var a=Yg;a||(Yg=a=E(Xg,{0:{name:"RegistrationSyncMessage",fullName:"ipc.invalidation.RegistrationSyncMessage"},1:{name:"subtree",Ga:!0,w:11,type:Zg}}));return a};Xg.getDescriptor=Xg.prototype.getDescriptor;
Zg.prototype.getDescriptor=function(){var a=$g;a||($g=a=E(Zg,{0:{name:"RegistrationSubtree",fullName:"ipc.invalidation.RegistrationSubtree"},1:{name:"registered_object",Ga:!0,w:11,type:Dg}}));return a};Zg.getDescriptor=Zg.prototype.getDescriptor;
ah.prototype.getDescriptor=function(){var a=bh;a||(bh=a=E(ah,{0:{name:"InfoMessage",fullName:"ipc.invalidation.InfoMessage"},1:{name:"client_version",w:11,type:yg},2:{name:"config_parameter",Ga:!0,w:11,type:ch},3:{name:"performance_counter",Ga:!0,w:11,type:ch},4:{name:"server_registration_summary_requested",w:8,type:Boolean},5:{name:"client_config",w:11,type:zh}}));return a};ah.getDescriptor=ah.prototype.getDescriptor;
ch.prototype.getDescriptor=function(){var a=dh;a||(dh=a=E(ch,{0:{name:"PropertyRecord",fullName:"ipc.invalidation.PropertyRecord"},1:{name:"name",w:9,type:String},2:{name:"value",w:5,type:Number}}));return a};ch.getDescriptor=ch.prototype.getDescriptor;
eh.prototype.getDescriptor=function(){var a=fh;a||(fh=a=E(eh,{0:{name:"ServerHeader",fullName:"ipc.invalidation.ServerHeader"},1:{name:"protocol_version",w:11,type:wg},2:{name:"client_token",w:12,type:String},3:{name:"registration_summary",w:11,type:Mg},4:{name:"server_time_ms",w:3,type:Number},5:{name:"message_id",w:9,type:String}}));return a};eh.getDescriptor=eh.prototype.getDescriptor;
gh.prototype.getDescriptor=function(){var a=hh;a||(hh=a=E(gh,{0:{name:"ServerToClientMessage",fullName:"ipc.invalidation.ServerToClientMessage"},1:{name:"header",w:11,type:eh},2:{name:"token_control_message",w:11,type:ih},3:{name:"invalidation_message",w:11,type:qh},4:{name:"registration_status_message",w:11,type:mh},5:{name:"registration_sync_request_message",w:11,type:oh},6:{name:"config_change_message",w:11,type:Bh},7:{name:"info_request_message",w:11,type:sh},8:{name:"error_message",w:11,type:Dh}}));
return a};gh.getDescriptor=gh.prototype.getDescriptor;ih.prototype.getDescriptor=function(){var a=jh;a||(jh=a=E(ih,{0:{name:"TokenControlMessage",fullName:"ipc.invalidation.TokenControlMessage"},1:{name:"new_token",w:12,type:String}}));return a};ih.getDescriptor=ih.prototype.getDescriptor;kh.prototype.getDescriptor=function(){var a=lh;a||(lh=a=E(kh,{0:{name:"RegistrationStatus",fullName:"ipc.invalidation.RegistrationStatus"},1:{name:"registration",w:11,type:Jg},2:{name:"status",w:11,type:Ag}}));return a};
kh.getDescriptor=kh.prototype.getDescriptor;mh.prototype.getDescriptor=function(){var a=nh;a||(nh=a=E(mh,{0:{name:"RegistrationStatusMessage",fullName:"ipc.invalidation.RegistrationStatusMessage"},1:{name:"registration_status",Ga:!0,w:11,type:kh}}));return a};mh.getDescriptor=mh.prototype.getDescriptor;oh.prototype.getDescriptor=function(){var a=ph;a||(ph=a=E(oh,{0:{name:"RegistrationSyncRequestMessage",fullName:"ipc.invalidation.RegistrationSyncRequestMessage"}}));return a};oh.getDescriptor=oh.prototype.getDescriptor;
qh.prototype.getDescriptor=function(){var a=rh;a||(rh=a=E(qh,{0:{name:"InvalidationMessage",fullName:"ipc.invalidation.InvalidationMessage"},1:{name:"invalidation",Ga:!0,w:11,type:Hg}}));return a};qh.getDescriptor=qh.prototype.getDescriptor;sh.prototype.getDescriptor=function(){var a=th;a||(th=a=E(sh,{0:{name:"InfoRequestMessage",fullName:"ipc.invalidation.InfoRequestMessage"},1:{name:"info_type",Ga:!0,w:14,defaultValue:1,type:uh}}));return a};sh.getDescriptor=sh.prototype.getDescriptor;
vh.prototype.getDescriptor=function(){var a=wh;a||(wh=a=E(vh,{0:{name:"RateLimitP",fullName:"ipc.invalidation.RateLimitP"},1:{name:"window_ms",w:5,type:Number},2:{name:"count",w:5,type:Number}}));return a};vh.getDescriptor=vh.prototype.getDescriptor;
xh.prototype.getDescriptor=function(){var a=yh;a||(yh=a=E(xh,{0:{name:"ProtocolHandlerConfigP",fullName:"ipc.invalidation.ProtocolHandlerConfigP"},1:{name:"batching_delay_ms",w:5,defaultValue:500,type:Number},2:{name:"rate_limit",Ga:!0,w:11,type:vh}}));return a};xh.getDescriptor=xh.prototype.getDescriptor;
zh.prototype.getDescriptor=function(){var a=Ah;a||(Ah=a=E(zh,{0:{name:"ClientConfigP",fullName:"ipc.invalidation.ClientConfigP"},1:{name:"version",w:11,type:ug},2:{name:"network_timeout_delay_ms",w:5,defaultValue:6E4,type:Number},3:{name:"write_retry_delay_ms",w:5,defaultValue:1E4,type:Number},4:{name:"heartbeat_interval_ms",w:5,defaultValue:12E5,type:Number},5:{name:"perf_counter_delay_ms",w:5,defaultValue:216E5,type:Number},6:{name:"max_exponential_backoff_factor",w:5,defaultValue:500,type:Number},
7:{name:"smear_percent",w:5,defaultValue:20,type:Number},8:{name:"is_transient",w:8,defaultValue:!1,type:Boolean},9:{name:"initial_persistent_heartbeat_delay_ms",w:5,defaultValue:2E3,type:Number},10:{name:"protocol_handler_config",w:11,type:xh},11:{name:"channel_supports_offline_delivery",w:8,defaultValue:!1,type:Boolean},12:{name:"offline_heartbeat_threshold_ms",w:5,defaultValue:6E4,type:Number},13:{name:"allow_suppression",w:8,defaultValue:!0,type:Boolean}}));return a};zh.getDescriptor=zh.prototype.getDescriptor;
Bh.prototype.getDescriptor=function(){var a=Ch;a||(Ch=a=E(Bh,{0:{name:"ConfigChangeMessage",fullName:"ipc.invalidation.ConfigChangeMessage"},1:{name:"next_message_delay_ms",w:3,type:Number}}));return a};Bh.getDescriptor=Bh.prototype.getDescriptor;Dh.prototype.getDescriptor=function(){var a=Eh;a||(Eh=a=E(Dh,{0:{name:"ErrorMessage",fullName:"ipc.invalidation.ErrorMessage"},1:{name:"code",w:14,defaultValue:1,type:Fh},2:{name:"description",w:9,type:String}}));return a};Dh.getDescriptor=Dh.prototype.getDescriptor;
var Kh=function(a,b){Gh||Hh();Ih||(Gh(),Ih=!0);var c=Jh,d=Dd.get();d.set(a,b);c.b?c.b.next=d:c.a=d;c.b=d},Gh,Hh=function(){if(-1!=String(k.Promise).indexOf("[native code]")){var a=k.Promise.resolve(void 0);Gh=function(){a.then(Lh)}}else Gh=function(){var a=Lh;!la(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Ke||(Ke=Le()),Ke(a)):k.setImmediate(a)}},Ih=!1,Jh=new Bd,Lh=function(){for(var a;a=Jh.remove();){try{a.a.call(a.b)}catch(b){Je(b)}ya(Dd, a)}Ih=!1};
var Mh=!F||Ff(9),Nh=!nf&&!F||F&&Ff(9)||nf&&Df("1.9.1");F&&Df("9");var Oh=!F||Ff(9),Ph=F&&!Df("9");!of||Df("528");nf&&Df("1.9b")||F&&Df("8")||lf&&Df("9.5")||of&&Df("528");nf&&!Df("8")||F&&Df("9");var Sh=function(a){this.a=[];this.g=[];this.c=new Ue;a&&(a=Qh(this,a),this.g=Rh(this,a))},Th=/'([{}#].*?)'/g,Uh=/''/g,Vh=function(a,b,c,d,e){for(var f=0;f<b.length;f++)switch(b[f].type){case 4:e.push(b[f].value);break;case 3:var g=b[f].value,l=a,n=e,p=c[g];q(p)?(l.a.push(p),n.push(l.b(l.a))):n.push("Undefined parameter - "+g);break;case 2:g=b[f].value;l=e;n=g.Ib;q(c[n])?(n=g[c[n]],q(n)||(n=g.other),Vh(a,n,c,d,l)):l.push("Undefined parameter - "+n);break;case 0:g=b[f].value;Wh(a,g,c,Oa,d,e);break;
case 1:g=b[f].value,Wh(a,g,c,La,d,e)}},Wh=function(a,b,c,d,e,f){var g=b.Ib,l=b.Lc,n=+c[g];if(isNaN(n))f.push("Undefined or invalid parameter - "+g);else if(l=n-l,g=b[c[g]],q(g)||(d=a.c.M?d(l,a.c.M()):d(l),g=b[d],q(g)||(g=b.other)),b=[],Vh(a,g,c,e,b),c=b.join(""),e)f.push(c);else{a=a.c;b=l;if(isNaN(b))a=Ia.Ad;else{e=[];b/=Math.pow(10,Xe.Xd);e.push(Xe.prefix);l=0>b||0==b&&0>1/b;e.push(l?a.I:a.C);if(isFinite(b))if(b=b*(l?-1:1)*a.b,a.A)if(d=b,0==d)Ve(a,d,a.a,e),We(a,0,e);else{b=Math.floor(Math.log(d)/
Math.log(10)+2E-15);g=Math.pow(10,b);isFinite(g)&&0!==g?d/=g:(g=Math.pow(10,Math.floor(b/2)),d=d/g/g,1==b%2&&(d=0<b?d/10:10*d));g=a.a;if(1<a.o&&a.o>a.a){for(;0!=b%a.o;)d*=10,b--;g=1}else 1>a.a?(b++,d/=10):(b-=a.a-1,d*=Math.pow(10,a.a-1));Ve(a,d,g,e);We(a,b,e)}else Ve(a,b,a.a,e);else e.push(Ia.yd);e.push(l?a.L:a.D);e.push(Xe.Bf);a=e.join("")}f.push(c.replace(/#/g,a))}},Qh=function(a,b){var c=a.a,d=t(a.b,a);b=b.replace(Uh,function(){c.push("'");return d(c)});return b=b.replace(Th,function(a,b){c.push(b);
return d(c)})},Xh=function(a){var b=0,c=[],d=[],e=/[{}]/g;e.lastIndex=0;for(var f;f=e.exec(a);){var g=f.index;"}"==f[0]?(c.pop(),0==c.length&&(f={type:1},f.value=a.substring(b,g),d.push(f),b=g+1)):(0==c.length&&(b=a.substring(b,g),""!=b&&d.push({type:0,value:b}),b=g+1),c.push("{"))}b=a.substring(b);""!=b&&d.push({type:0,value:b});return d},Yh=/^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/,Zh=/^\s*(\w+)\s*,\s*selectordinal\s*,/,$h=/^\s*(\w+)\s*,\s*select\s*,/,Rh=function(a,b){var c=[];b=Xh(b);for(var d=
0;d<b.length;d++){var e={};if(0==b[d].type)e.type=4,e.value=b[d].value;else if(1==b[d].type){var f=b[d].value;switch(Yh.test(f)?0:Zh.test(f)?1:$h.test(f)?2:/^\s*\w+\s*/.test(f)?3:5){case 2:e.type=2;e.value=ai(a,b[d].value);break;case 0:e.type=0;e.value=bi(a,b[d].value);break;case 1:e.type=1;e.value=ci(a,b[d].value);break;case 3:e.type=3,e.value=b[d].value}}c.push(e)}return c},ai=function(a,b){var c="";b=b.replace($h,function(a,b){c=b;return""});var d={};d.Ib=c;b=Xh(b);for(var e=0;e<b.length;){var f=
b[e].value;e++;if(1==b[e].type)var g=Rh(a,b[e].value);d[f.replace(/\s/g,"")]=g;e++}return d},bi=function(a,b){var c="",d=0;b=b.replace(Yh,function(a,b,e){c=b;e&&(d=parseInt(e,10));return""});var e={};e.Ib=c;e.Lc=d;b=Xh(b);for(var f=0;f<b.length;){var g=b[f].value;f++;if(1==b[f].type)var l=Rh(a,b[f].value);e[g.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=l;f++}return e},ci=function(a,b){var c="";b=b.replace(Zh,function(a,b){c=b;return""});var d={};d.Ib=c;d.Lc=0;b=Xh(b);for(var e=0;e<b.length;){var f=b[e].value; e++;if(1==b[e].type)var g=Rh(a,b[e].value);d[f.replace(/\s*(?:=)?(\w+)\s*/,"$1")]=g;e++}return d};Sh.prototype.b=function(a){return"\ufddf_"+(a.length-1).toString(10)+"_"};
var di=function(){};di.prototype.b=function(a,b){return Ld(a)?this.c(b):ma(b)&&!isFinite(b)?b.toString():b};var ei=function(a,b,c){b=new b.kd;a.g(b,c);return b};di.prototype.a=function(a,b){if(Ld(a))return b instanceof A?b:ei(this,a.g.prototype.getDescriptor(),b);if(14==a.b)return u(b)&&fi.test(b)&&(a=Number(b),0<a)?a:b;if(!a.o)return b;a=a.g;if(a===String){if(ma(b))return String(b)}else if(a===Number&&u(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||fi.test(b)))return Number(b);return b}; var fi=/^-?[0-9]+$/;
var gi=function(){};r(gi,qb);gi.prototype.O=function(){var a=0;af(this.ta(!0),function(){a++});return a};gi.prototype.clear=function(){var a=bf(this.ta(!0)),b=this;hd(a,function(a){b.remove(a)})};var G=function(a,b){this.b={};this.a=[];this.g=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof G?(c=a.$(),d=a.S()):(c=$a(a),d=Za(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}};h=G.prototype;h.O=function(){return this.c};h.S=function(){hi(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};h.$=function(){hi(this);return this.a.concat()};
h.Ka=function(a){for(var b=0;b<this.a.length;b++){var c=this.a[b];if(ii(this.b,c)&&this.b[c]==a)return!0}return!1};h.T=function(a,b){if(this===a)return!0;if(this.c!=a.O())return!1;b=b||ji;hi(this);for(var c,d=0;c=this.a[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var ji=function(a,b){return a===b};G.prototype.clear=function(){this.b={};this.g=this.c=this.a.length=0};
G.prototype.remove=function(a){return ii(this.b,a)?(delete this.b[a],this.c--,this.g++,this.a.length>2*this.c&&hi(this),!0):!1};var hi=function(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];ii(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],ii(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}};G.prototype.get=function(a,b){return ii(this.b,a)?this.b[a]:b};
G.prototype.set=function(a,b){ii(this.b,a)||(this.c++,this.a.push(a),this.g++);this.b[a]=b};G.prototype.forEach=function(a,b){for(var c=this.$(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};G.prototype.clone=function(){return new G(this)};var ki=function(a){hi(a);for(var b={},c=0;c<a.a.length;c++){var d=a.a[c];b[d]=a.b[d]}return b};
G.prototype.ta=function(a){hi(this);var b=0,c=this.g,d=this,e=new Ze;e.next=function(){if(c!=d.g)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw Ye;var e=d.a[b++];return a?e:d.b[e]};return e};var ii=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
var li=function(){var a;return qf?(a=/Windows NT ([0-9.]+)/,(a=a.exec(ec))?a[1]:"0"):pf?(a=/10[_.][0-9_.]+/,(a=a.exec(ec))?a[0].replace(/_/g,"."):"10"):sf?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(ec))?a[1]:""):tf||uf||vf?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(ec))?a[1].replace(/_/g,"."):""):""}();
var mi=y("Firefox"),ni=Id()||y("iPod"),oi=y("iPad"),pi=y("Android")&&!(te()||y("Firefox")||y("Opera")||y("Silk")),qi=te(),ri=y("Safari")&&!(te()||y("Coast")||y("Opera")||y("Edge")||y("Silk")||y("Android"))&&!Jd();var si=new Of,ti=new Mf;D(ti,1,3);D(ti,2,2);D(si,1,ti);var ui=new Mf;D(ui,1,3);D(ui,2,2);var vi=new Mf;D(vi,1,3);D(vi,2,2);var wi={APISIDHASH:1,SAPISIDHASH:2,OAuth:3},xi={1:"APISIDHASH",2:"SAPISIDHASH",3:"OAuth"};var yi=function(){this.a=new G},zi=function(a){return C(a,1).toString()+":"+C(a,2)};var Ai=new wg,Bi=new ug;D(Bi,1,3);D(Bi,2,2);D(Ai,1,Bi);var Ci=new ug;D(Ci,1,3);D(Ci,2,2);var Di=new ug;D(Di,1,3);D(Di,2,20150820);var Ei=new Dg;D(Ei,2,"");D(Ei,1,1);var Li=function(){this.b=new G;this.a=new G;this.c=new G;this.j=new G;this.g=new G;Fi(this.b,Za(Gi));Fi(this.a,Za(Hi));Fi(this.c,Za(Ii));Fi(this.j,Za(Ji));Fi(this.g,Za(Ki))},Fi=function(a,b){for(var c=0;c<b.length;c++)a.set(b[c],0)},Ni=function(a,b){Mi(a.g,b)},Oi=function(a,b,c){for(var d=a.$(),e=0;e<d.length;e++){var f=d[e],g=a.get(f),f=c+"."+f;0<g&&b.set(f,g)}},Mi=function(a,b){a.set(b,a.get(b)+1)},Gi={og:"INFO",tg:"INITIALIZE",yg:"INVALIDATION_ACK",Ed:"REGISTRATION",$g:"REGISTRATION_SYNC",Fd:"TOTAL"},
Hi={sg:"INFO_REQUEST",xg:"INVALIDATION",Zg:"REGISTRATION_STATUS",ah:"REGISTRATION_SYNC_REQUEST",uh:"TOKEN_CONTROL",ERROR:"ERROR",ag:"CONFIG_CHANGE",kh:"STALE_INVALIDATION",Fd:"TOTAL"},Ii={Lf:"ACKNOWLEDGE",Ed:"REGISTRATION",Ch:"UNREGISTRATION"},Ji={pg:"INFORM_ERROR",qg:"INFORM_REGISTRATION_FAILURE",rg:"INFORM_REGISTRATION_STATUS",ug:"INVALIDATE",vg:"INVALIDATE_ALL",wg:"INVALIDATE_UNKNOWN",bh:"REISSUE_REGISTRATIONS"},Ki={Mf:"ACKNOWLEDGE_HANDLE_FAILURE",ng:"INCOMING_MESSAGE_FAILURE",Kg:"OUTGOING_MESSAGE_FAILURE",
Og:"PERSISTENT_DESERIALIZATION_FAILURE",Pg:"PERSISTENT_READ_FAILURE",Qg:"PERSISTENT_WRITE_FAILURE",Vg:"PROTOCOL_VERSION_FAILURE",Yg:"REGISTRATION_DISCREPANCY",Eg:"NONCE_MISMATCH",vh:"TOKEN_MISMATCH",wh:"TOKEN_MISSING_FAILURE",xh:"TOKEN_TRANSIENT_FAILURE",NETWORK_DISCONNECTED:"NETWORK_DISCONNECTED"};
var Pi=function(){A.call(this)};r(Pi,A);var Qi=null,Ri=function(){A.call(this)};r(Ri,A);var Si=null,Ti=function(){A.call(this)};r(Ti,A);var Ui=null;Pi.prototype.getDescriptor=function(){var a=Qi;a||(Qi=a=E(Pi,{0:{name:"AckHandleP",fullName:"ipc.invalidation.AckHandleP"},1:{name:"invalidation",w:11,type:Hg}}));return a};Pi.getDescriptor=Pi.prototype.getDescriptor;
Ri.prototype.getDescriptor=function(){var a=Si;a||(Si=a=E(Ri,{0:{name:"PersistentTiclState",fullName:"ipc.invalidation.PersistentTiclState"},1:{name:"client_token",w:12,type:String},2:{name:"last_message_send_time_ms",w:3,defaultValue:"0",type:String}}));return a};Ri.getDescriptor=Ri.prototype.getDescriptor;
Ti.prototype.getDescriptor=function(){var a=Ui;a||(Ui=a=E(Ti,{0:{name:"PersistentStateBlob",fullName:"ipc.invalidation.PersistentStateBlob"},1:{name:"ticl_state",w:11,type:Ri},2:{name:"authentication_code",w:12,type:String}}));return a};Ti.getDescriptor=Ti.prototype.getDescriptor;
var Vi=function(){A.call(this)};r(Vi,A);var Wi=null,Xi={Rf:1,hh:2,dg:3,qh:4,ih:5};
Vi.prototype.getDescriptor=function(){var a=Wi;a||(Wi=a=E(Vi,{0:{name:"ClientGatewayMessage",fullName:"ipc.invalidation.ClientGatewayMessage"},1:{name:"is_client_to_server",w:8,type:Boolean},2:{name:"service_context",w:12,type:String},3:{name:"rpc_scheduling_hash",w:3,type:String},5:{name:"protocol_version",w:11,type:wg},6:{name:"message_type",w:14,defaultValue:1,type:Xi},7:{name:"encoding",w:14,defaultValue:1,type:qg},8:{name:"client_endpoint_id",w:11,type:rg},9:{name:"service_endpoint_id",w:12, type:String},4:{name:"network_message",w:12,type:String},10:{name:"debug_info",w:9,type:String}}));return a};Vi.getDescriptor=Vi.prototype.getDescriptor;
var Yi=null,Zi=null,$i=nf||of&&!ri||lf||"function"==typeof k.btoa,aj=function(a,b){if(!Yi){Yi={};Zi={};for(var c=0;65>c;c++)Yi[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Zi[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}b=b?Zi:Yi;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,l=d+2<a.length,n=l?a[d+2]:0,p=e>>2,e=(e&3)<<4|g>>4,g=(g&15)<<2|n>>6,n=n&63;l||(n=64,f||(g=64));c.push(b[p],b[e],b[g],b[n])}return c.join("")};
var cj=function(a){return a?new bj(9==a.nodeType?a:a.ownerDocument||a.document):Ea||(Ea=new bj)},dj=function(a,b){return u(b)?a.getElementById(b):b},fj=function(a,b){Va(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:ej.hasOwnProperty(d)?a.setAttribute(ej[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})},ej={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",
maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},gj=function(a){return a.parentWindow||a.defaultView},ij=function(a,b,c){var d=arguments,e=document,f=String(d[0]),g=d[1];if(!Mh&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',Cb(g.name),'"');if(g.type){f.push(' type="',Cb(g.type),'"');var l={};kb(l,g);delete l.type;g=l}f.push(">");f=f.join("")}f=e.createElement(f);g&&(u(g)?f.className=g:oa(g)?f.className=g.join(" "):
fj(f,g));2<d.length&&hj(e,f,d);return f},hj=function(a,b,c){function d(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!na(f)||ka(f)&&0<f.nodeType?d(f):hd(jj(f)?td(f):f,d)}},kj=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},lj=function(a){return Nh&&void 0!=a.children?a.children:id(a.childNodes,function(a){return 1==a.nodeType})},jj=function(a){if(a&&"number"==typeof a.length){if(ka(a))return"function"==typeof a.item||"string"==typeof a.item;if(la(a))return"function"==
typeof a.item}return!1},bj=function(a){this.a=a||k.document||document};bj.prototype.createElement=function(a){return this.a.createElement(String(a))};bj.prototype.appendChild=function(a,b){a.appendChild(b)};bj.prototype.getChildren=lj;bj.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
var mj=function(a,b){Ed.call(this,a?a.type:"");this.b=this.state=this.a=this.target=null;a&&(this.type=a.type,this.target=a.target||a.srcElement,this.a=b,(b=a.relatedTarget)&&nf&&ob(b,"nodeName"),this.state=a.state,this.b=a,a.defaultPrevented&&this.c())};r(mj,Ed);mj.prototype.c=function(){mj.J.c.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ph)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
var H=function(a,b){this.a=0;this.o=void 0;this.g=this.b=this.c=null;this.j=this.l=!1;this.v=[];nj(this,Error("created"));this.I=0;if(a!=pa)try{var c=this;a.call(b,function(a){oj(c,2,a)},function(a){oj(c,3,a)})}catch(d){oj(this,3,d)}},pj=function(){this.next=this.g=this.b=this.j=this.a=null;this.c=!1};pj.prototype.reset=function(){this.g=this.b=this.j=this.a=null;this.c=!1};
var qj=new xa(function(){return new pj},function(a){a.reset()},100),rj=function(a,b,c){var d=qj.get();d.j=a;d.b=b;d.g=c;return d},I=function(a){if(a instanceof H)return a;var b=new H(pa);oj(b,2,a);return b},sj=function(a){return new H(function(b,c){c(a)})},uj=function(a,b,c){tj(a,b,c,null)||Kh(ha(b,a))},vj=function(a){return new H(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,n;l<a.length;l++)n=a[l],uj(n,ha(f,l),g);else b(e)})},xj=function(){var a,
b,c=new H(function(c,e){a=c;b=e});return new wj(c,a,b)};H.prototype.then=function(a,b,c){nj(this,Error("then"));return yj(this,la(a)?a:null,la(b)?b:null,c)};lb(H);var Aj=function(a,b,c){nj(a,Error("thenAlways"));b=rj(b,b,c);b.c=!0;zj(a,b);return a},Bj=function(a,b,c){nj(a,Error("thenCatch"));return yj(a,null,b,c)};H.prototype.cancel=function(a){0==this.a&&Kh(function(){var b=new Cj(a);Dj(this,b)},this)};
var Dj=function(a,b){if(0==a.a)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.c||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.a&&1==d?Dj(c,b):(f?(d=f,d.next==c.g&&(c.g=d),d.next=d.next.next):Ej(c),Fj(c,e,3,b)))}a.c=null}else oj(a,3,b)},zj=function(a,b){a.b||2!=a.a&&3!=a.a||Gj(a);a.g?a.g.next=b:a.b=b;a.g=b},yj=function(a,b,c,d){var e=rj(null,null,null);e.a=new H(function(a,g){e.j=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){g(p)}}:a;e.b=c?function(b){try{var e=c.call(d,
b);!q(e)&&b instanceof Cj?g(b):a(e)}catch(p){g(p)}}:g});e.a.c=a;zj(a,e);return e.a};H.prototype.A=function(a){this.a=0;oj(this,2,a)};H.prototype.C=function(a){this.a=0;oj(this,3,a)};
var oj=function(a,b,c){0==a.a&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.a=1,tj(c,a.A,a.C,a)||(a.o=c,a.a=b,a.c=null,Gj(a),3!=b||c instanceof Cj||Hj(a,c)))},tj=function(a,b,c,d){if(a instanceof H)return nj(a,Error("then")),zj(a,rj(b||pa,c||null,d)),!0;if(mb(a))return a.then(b,c,d),!0;if(ka(a))try{var e=a.then;if(la(e))return Ij(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1},Ij=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},l=function(a){f||(f=!0,
d.call(e,a))};try{b.call(a,g,l)}catch(n){l(n)}},Gj=function(a){a.l||(a.l=!0,Kh(a.L,a))},Ej=function(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.g=null);return b};H.prototype.L=function(){for(var a;a=Ej(this);)this.I++,Fj(this,a,this.a,this.o);this.l=!1};
var Fj=function(a,b,c,d){if(3==c&&b.b&&!b.c)for(;a&&a.j;a=a.c)a.j=!1;if(b.a)b.a.c=null,Jj(b,c,d);else try{b.c?b.j.call(b.g):Jj(b,c,d)}catch(e){Kj.call(null,e)}ya(qj,b)},Jj=function(a,b,c){2==b?a.j.call(a.g,c):a.b&&a.b.call(a.g,c)},nj=function(a,b){if(u(b.stack)){var c=b.stack.split("\n",4)[3];b=b.message;b+=Array(11-b.length).join(" ");a.v.push(b+c)}},Hj=function(a,b){a.j=!0;Kh(function(){if(a.j){if(b&&u(b.stack)&&a.v.length){for(var c=["Promise trace:"],d=a;d;d=d.c){for(var e=a.I;0<=e;e--)c.push(d.v[e]); c.push("Value: ["+(3==d.a?"REJECTED":"FULFILLED")+"] <"+String(d.o)+">")}b.stack+="\n\n"+c.join("\n")}Kj.call(null,b)}})},Kj=Je,Cj=function(a){Aa.call(this,a)};r(Cj,Aa);Cj.prototype.name="cancel";var wj=function(a,b,c){this.a=a;this.b=b;this.c=c};
var Lj=function(a,b){this.j=a;this.l=b};r(Lj,di);Lj.prototype.c=function(a){for(var b=ye(a.getDescriptor()),c={},d=0;d<b.length;d++){var e=b[d],f=1==this.j?e.j:e.a;if(a.has(e))if(e.c){var g=[];c[f]=g;for(f=0;f<jf(a,e.a);f++)g.push(this.b(e,a.get(e,f)))}else c[f]=this.b(e,a.get(e))}cf(a,function(a,b){c[a]=b});return c};Lj.prototype.b=function(a,b){return this.l&&8==a.b&&"boolean"==typeof b?b?1:0:Lj.J.b.call(this,a,b)};Lj.prototype.a=function(a,b){return 8==a.b&&ma(b)?!!b:Lj.J.a.call(this,a,b)};
Lj.prototype.g=function(a,b){var c=a.getDescriptor(),d;for(d in b){var e,f=b[d],g=!/[^0-9]/.test(d);if(e=g?c.a[parseInt(d,10)]||null:ze(c,d))if(e.c)for(g=0;g<f.length;g++){var l=this.a(e,f[g]);ff(a,e.a,l)}else a.set(e,this.a(e,f));else g&&(e=a,g=Number(d),e.b[g]=f,e.a&&delete e.a[g])}};
var Mj=function(a,b){this.l=!!a;this.j=!!b};r(Mj,di);Mj.prototype.g=function(a,b){a.getDescriptor();var c=new Nj;b=b.toString();var d=this.l;c.b=null;c.c=!!d;c.a=new Oj(b,!0,!0);c.a.next();return Pj(c,a,"")?null:c.b};Mj.prototype.c=function(a){var b=new Qj;Rj(this,a,b);return b.toString()};
var Rj=function(a,b,c){var d=ye(b.getDescriptor());hd(d,function(a){if(b.has(a))for(var d=jf(b,a.a),e=0;e<d;++e){Sj(c,a.j);11==a.b||10==a.b?(Sj(c," {"),Tj(c),c.a+=2):Sj(c,": ");Uj(this,b.get(a,e),a,c);if(11==a.b||10==a.b)c.a-=2,Sj(c,"}");Tj(c)}},a);cf(b,function(a,b){Vj(this,a,b,c)},a)},Vj=function(a,b,c,d){if(null!=c)if(oa(c))hd(c,function(a){Vj(this,b,a,d)},a);else{if(ka(c)){Sj(d,b);Sj(d," {");Tj(d);d.a+=2;if(c instanceof A)Rj(a,c,d);else for(var e in c)Vj(a,Pb(e),c[e],d);d.a-=2;Sj(d,"}")}else u(c)&&
(c=Kb(c)),Sj(d,b),Sj(d,": "),Sj(d,c.toString());Tj(d)}},Uj=function(a,b,c,d){switch(c.b){case 1:case 2:case 3:case 4:case 5:case 13:case 6:case 7:case 8:case 15:case 16:case 17:case 18:Sj(d,b);break;case 12:case 9:b=Kb(b.toString());Sj(d,b);break;case 14:if(!a.j){var e=!1;Va(c.g,function(a,c){e||a!=b||(Sj(d,c),e=!0)})}e&&!a.j||Sj(d,b.toString());break;case 10:case 11:Rj(a,b,d)}},Qj=function(){this.a=0;this.b=[];this.c=!0};Qj.prototype.toString=function(){return this.b.join("")};
var Sj=function(a,b){if(a.c){for(var c=0;c<a.a;++c)a.b.push(" ");a.c=!1}a.b.push(b.toString())},Tj=function(a){a.b.push("\n");a.c=!0},Oj=function(a,b,c){this.l=!!b;this.j=!!c;this.g=a;this.c=0;this.a=a;this.b={type:Wj,value:null}};Oj.prototype.getCurrent=function(){return this.b};
var Wj=/---end---/,Xj=/^-?[a-zA-Z][a-zA-Z0-9_]*/,Yj=/^(0x[0-9a-f]+)|(([-])?[0-9][0-9]*(\.?[0-9]+)?(e[+-]?[0-9]+|[f])?)/,Zj=/^#.*/,ak=/^"([^"\\]|\\.)*"/,bk=/^\s/,ck={fg:Wj,mg:Xj,Fg:Yj,Zf:Zj,Hg:/^{/,Sf:/^}/,Jg:/^</,Uf:/^>/,Ig:/^\[/,Tf:/^\]/,mh:ak,Vf:/^:/,Yf:/^,/,gh:/^;/,Dh:bk};Oj.prototype.next=function(){for(;dk(this);){var a=this.getCurrent().type;if(a!=bk&&a!=Zj||a==bk&&!this.l||a==Zj&&!this.j)return!0}this.b={type:Wj,value:null};return!1};
var dk=function(a){if(a.c>=a.g.length)return!1;var b=a.a,c=null;Xa(ck,function(a){if(c||a==Wj)return!1;var d=a.exec(b);d&&0==d.index&&(c={type:a,value:d[0]});return!!c});c&&(a.b=c,a.c+=c.value.length,a.a=a.a.substring(c.value.length));return!!c},Nj=function(){this.a=this.b=null;this.c=!1},Pj=function(a,b,c){for(;">"!=a.a.getCurrent().value&&"}"!=a.a.getCurrent().value&&!ek(a,Wj);)if(!fk(a,b))return!1;if(c){if(!gk(a,c))return!1}else ek(a,Wj)||(a.b="Expected END token");return!0},ik=function(a,b,c){a=
hk(a,c);if(null===a)return!1;c.c?ff(b,c.a,a):b.set(c,a);return!0},jk=function(a){return-1!=a.indexOf(".")?parseFloat(a):Pb(a)},hk=function(a,b){switch(b.b){case 1:case 2:if(b=kk(a,Xj))if(b=/^-?inf(?:inity)?f?$/i.test(b)?Infinity*(0==b.lastIndexOf("-",0)?-1:1):/^nanf?$/i.test(b)?NaN:null,null!=b)return b;case 5:case 13:case 7:case 15:case 17:return(a=kk(a,Yj))?jk(a):null;case 3:case 4:case 6:case 16:case 18:return(a=kk(a,Yj))?b.g==Number?jk(a):a:null;case 8:b=kk(a,Xj);if(!b)return null;switch(b){case "true":return!0;
case "false":return!1;default:return a.b="Unknown type for bool: "+b,null}case 14:if(ek(a,Yj))return(a=kk(a,Yj))?jk(a):null;var c=kk(a,Xj);if(!c)return null;b=b.g[c];return null==b?(a.b="Unknown enum value: "+c,null):b;case 12:case 9:if(b=kk(a,ak)){for(c=Pa(b).toString();ek(a,ak);)b=kk(a,ak),c+=Pa(b).toString();a=c}else a=null;return a}},mk=function(a){lk(a,":");if(lk(a,"[")){for(;;){a.a.next();if(lk(a,"]"))break;if(!gk(a,","))return!1}return!0}if(lk(a,"<"))return Pj(a,null,">");if(lk(a,"{"))return Pj(a,
null,"}");a.a.next();return!0},fk=function(a,b){var c=kk(a,Xj);if(!c)return a.b="Missing field name",!1;var d=null;b&&(d=ze(b.getDescriptor(),c.toString()));if(null==d){if(a.c)return mk(a);a.b="Unknown field: "+c;return!1}if(11==d.b||10==d.b){lk(a,":");a:{c=d;if(lk(a,"<"))d=">";else{if(!gk(a,"{")){b=!1;break a}d="}"}var e=new (c.g.prototype.getDescriptor().kd);Pj(a,e,d)?(c.c?ff(b,c.a,e):b.set(c,e),b=!0):b=!1}if(!b)return!1}else{if(!gk(a,":"))return!1;if(d.c&&lk(a,"["))for(;;){if(!ik(a,b,d))return!1;
if(lk(a,"]"))break;if(!gk(a,","))return!1}else if(!ik(a,b,d))return!1}lk(a,",")||lk(a,";");return!0},lk=function(a,b){return a.a.getCurrent().value==b?(a.a.next(),!0):!1},kk=function(a,b){if(!ek(a,b))return a.b="Expected token type: "+b,null;b=a.a.getCurrent().value;a.a.next();return b},gk=function(a,b){return lk(a,b)?!0:(a.b='Expected token "'+b+'"',!1)},ek=function(a,b){return a.a.getCurrent().type==b};
var nk=function(a){this.a=a};r(nk,gi);h=nk.prototype;h.isAvailable=function(){if(!this.a)return!1;try{return this.a.setItem("__sak","1"),this.a.removeItem("__sak"),!0}catch(a){return!1}};h.set=function(a,b){try{this.a.setItem(a,b)}catch(c){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};h.get=function(a){a=this.a.getItem(a);if(!u(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};h.remove=function(a){this.a.removeItem(a)};
h.O=function(){return this.a.length};h.ta=function(a){var b=0,c=this.a,d=new Ze;d.next=function(){if(b>=c.length)throw Ye;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!u(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};h.clear=function(){this.a.clear()};h.key=function(a){return this.a.key(a)};
var ok=function(a,b){this.b=a;this.a=b+"::"};r(ok,gi);ok.prototype.set=function(a,b){this.b.set(this.a+a,b)};ok.prototype.get=function(a){return this.b.get(this.a+a)};ok.prototype.remove=function(a){this.b.remove(this.a+a)};ok.prototype.ta=function(a){var b=this.b.ta(!0),c=this,d=new Ze;d.next=function(){for(var d=b.next();d.substr(0,c.a.length)!=c.a;)d=b.next();return a?d.substr(c.a.length):c.b.get(d)};return d};
var pk=function(a){this.a=new G;if(a){a=Fe(a);for(var b=a.length,c=0;c<b;c++)this.fb(a[c])}},qk=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ja(a):b.substr(0,1)+a};h=pk.prototype;h.O=function(){return this.a.O()};h.fb=function(a){this.a.set(qk(a),a)};h.removeAll=function(a){a=Fe(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.a.remove(qk(a))};h.clear=function(){this.a.clear()};h.contains=function(a){a=qk(a);return ii(this.a.b,a)};h.S=function(){return this.a.S()};
h.clone=function(){return new pk(this)};h.T=function(a){return this.O()==Ee(a)&&rk(this,a)};var rk=function(a,b){var c=Ee(b);if(a.O()>c)return!1;!(b instanceof pk)&&5<c&&(b=new pk(b));return Ie(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.Ka&&"function"==typeof c.Ka?c.Ka(a):na(c)||u(c)?0<=fd(c,a):db(c,a)})};pk.prototype.ta=function(){return this.a.ta(!1)};
var sk=function(a,b){this.a=this.o=this.g="";this.v=null;this.j=this.b="";this.l=!1;var c;a instanceof sk?(this.l=q(b)?b:a.l,tk(this,a.g),this.o=a.o,uk(this,a.a),vk(this,a.v),wk(this,a.b),xk(this,a.c.clone()),this.j=a.j):a&&(c=String(a).match(Qd))?(this.l=!!b,tk(this,c[1]||"",!0),this.o=yk(c[2]||""),uk(this,c[3]||"",!0),vk(this,c[4]),wk(this,c[5]||"",!0),xk(this,c[6]||"",!0),this.j=yk(c[7]||"")):(this.l=!!b,this.c=new zk(null,0,this.l))};
sk.prototype.toString=function(){var a=[],b=this.g;b&&a.push(Ak(b,Bk,!0),":");var c=this.a;if(c||"file"==b)a.push("//"),(b=this.o)&&a.push(Ak(b,Bk,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.v,null!=c&&a.push(":",String(c));if(c=this.b)this.a&&"/"!=c.charAt(0)&&a.push("/"),a.push(Ak(c,"/"==c.charAt(0)?Ck:Dk,!0));(c=this.c.toString())&&a.push("?",c);(c=this.j)&&a.push("#",Ak(c,Ek));return a.join("")};
var Fk=function(a,b){var c=a.clone(),d=!!b.g;d?tk(c,b.g):d=!!b.o;d?c.o=b.o:d=!!b.a;d?uk(c,b.a):d=null!=b.v;var e=b.b;if(d)vk(c,b.v);else if(d=!!b.b)if("/"!=e.charAt(0)&&(a.a&&!a.b?e="/"+e:(a=c.b.lastIndexOf("/"),-1!=a&&(e=c.b.substr(0,a+1)+e))),a=e,".."==a||"."==a)e="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){e=0==a.lastIndexOf("/",0);a=a.split("/");for(var f=[],g=0;g<a.length;){var l=a[g++];"."==l?e&&g==a.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==a.length&&
f.push("")):(f.push(l),e=!0)}e=f.join("/")}else e=a;d?wk(c,e):d=""!==b.c.toString();d?xk(c,b.c.clone()):d=!!b.j;d&&(c.j=b.j);return c};sk.prototype.clone=function(){return new sk(this)};
var tk=function(a,b,c){a.g=c?yk(b,!0):b;a.g&&(a.g=a.g.replace(/:$/,""))},uk=function(a,b,c){a.a=c?yk(b,!0):b},vk=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.v=b}else a.v=null},wk=function(a,b,c){a.b=c?yk(b,!0):b;return a},xk=function(a,b,c){b instanceof zk?(a.c=b,Gk(a.c,a.l)):(c||(b=Ak(b,Hk)),a.c=new zk(b,0,a.l))},J=function(a,b,c){a.c.set(b,c);return a},Jk=function(a,b,c){oa(c)||(c=[String(c)]);Ik(a.c,b,c)},Kk=function(a){J(a,"zx",Nb());return a},Lk=function(a){return a instanceof
sk?a.clone():new sk(a,void 0)},Mk=function(a,b,c,d){var e=new sk(null,void 0);a&&tk(e,a);b&&uk(e,b);c&&vk(e,c);d&&wk(e,d);return e},yk=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Ak=function(a,b,c){return u(a)?(a=encodeURI(a).replace(b,Nk),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Nk=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Bk=/[#\/\?@]/g,Dk=/[\#\?:]/g,Ck=/[\#\?]/g,Hk=/[\#\?@]/g,Ek=/#/g,zk=function(a,
b,c){this.b=this.a=null;this.c=a||null;this.g=!!c},Ok=function(a){a.a||(a.a=new G,a.b=0,a.c&&Sd(a.c,function(b,c){b=decodeURIComponent(b.replace(/\+/g," "));Ok(a);a.c=null;b=Pk(a,b);var d=a.a.get(b);d||a.a.set(b,d=[]);d.push(c);a.b+=1}))};zk.prototype.O=function(){Ok(this);return this.b};zk.prototype.remove=function(a){Ok(this);a=Pk(this,a);return ii(this.a.b,a)?(this.c=null,this.b-=this.a.get(a).length,this.a.remove(a)):!1};zk.prototype.clear=function(){this.a=this.c=null;this.b=0};
var Qk=function(a,b){Ok(a);b=Pk(a,b);return ii(a.a.b,b)};h=zk.prototype;h.Ka=function(a){var b=this.S();return 0<=fd(b,a)};h.$=function(){Ok(this);for(var a=this.a.S(),b=this.a.$(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.S=function(a){Ok(this);var b=[];if(u(a))Qk(this,a)&&(b=sd(b,this.a.get(Pk(this,a))));else{a=this.a.S();for(var c=0;c<a.length;c++)b=sd(b,a[c])}return b};
h.set=function(a,b){Ok(this);this.c=null;a=Pk(this,a);Qk(this,a)&&(this.b-=this.a.get(a).length);this.a.set(a,[b]);this.b+=1;return this};h.get=function(a,b){a=a?this.S(a):[];return 0<a.length?String(a[0]):b};var Ik=function(a,b,c){a.remove(b);0<c.length&&(a.c=null,a.a.set(Pk(a,b),td(c)),a.b+=c.length)};
zk.prototype.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.$(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.S(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.c=a.join("&")};zk.prototype.clone=function(){var a=new zk;a.c=this.c;this.a&&(a.a=this.a.clone(),a.b=this.b);return a}; var Pk=function(a,b){b=String(b);a.g&&(b=b.toLowerCase());return b},Gk=function(a,b){b&&!a.g&&(Ok(a),a.c=null,a.a.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(this.remove(b),Ik(this,c,a))},a));a.g=b};
var Rk=function(a){return(a=a.exec(ec))?a[1]:""},Sk=function(){if(mi)return Rk(/Firefox\/([0-9.]+)/);if(F||mf||lf)return Bf;if(qi)return Rk(/Chrome\/([0-9.]+)/);if(ri&&!Jd())return Rk(/Version\/([0-9.]+)/);if(ni||oi){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(ec);if(a)return a[1]+"."+a[2]}else if(pi)return(a=Rk(/Android\s+([0-9.]+)/))?a:Rk(/Version\/([0-9.]+)/);return""}();
var Vk=function(a,b){var c=C(a,2);B(a,3)&&Tk.contains(c)&&(b.Authorization=xi[c]+" "+C(a,3),Uk.contains(c)&&(b["X-Origin"]=C(a,1),b["X-Goog-AuthUser"]=hf(a,4)));return b},Tk=new pk([1,2,3]),Uk=new pk([1,2]);var Wk="https://classroomlive-pa.googleapis.com",Xk=Fk(Lk(Wk),Lk("/v2/")),Yk=function(a){return Fk(Xk,Lk(Array.prototype.slice.call(arguments).join("/")))},Zk=function(a){a=Yk("workgroups",a,"participants");J(a,"omitFlungPages","true");J(a,"omitHasRegistered","true");return{url:a.toString(),method:"GET",za:"API Call: LIST_PARTICIPANTS"}},$k=function(a,b,c){var d={};hd(c,function(a){d[a]=!0});a=id($a(a),function(a){return!d[a]});b=id($a(b),function(a){return!d[a]});return zd(a,b)},al={eg:"email",Ic:"fullName",
URL:"photoUrl",xd:"id",dh:"role",Ag:"isPresent"},bl=function(a,b){var c=[];if(!$k(a,b,c))return!1;for(var d in a){var e=db(al,d),f=0<=fd(c,d);if(e&&!f&&a[d]!=b[d])return!1}return!0},cl=function(a,b){return J(new sk(a),"sz",b||30).toString()},dl={xd:"id",Ic:"name",fh:"section",zg:"isOwner",Lg:"owner",Wf:"color",Rg:"photoUrl",ig:"faviconUrl"},el=function(a,b){var c=[];if(!$k(a,b,c))return!1;for(var d in a){var e=db(dl,d),f=0<=fd(c,d);if(e&&!f)if("owner"==d){if(!bl(a[d],b[d]))return!1}else if(a[d]!=
b[d])return!1}return!0},fl=function(a){var b=ib(a);b.owner=ib(a.owner);return b},gl=function(a){a.isOwner=!!a.isOwner;var b=a.owner,c=b.photoUrl;b.photoUrl=c?cl(c):"unknown_user.png";a.owner=b;return a},hl=function(a){a.workgroupList||(a.workgroupList=[]);a.workgroupList=jd(a.workgroupList,function(a){return gl(a)});return a};
var il=function(a,b){return new H(function(c,d){chrome.storage.local.get(a,function(e){chrome.runtime.lastError?d(chrome.runtime.lastError):c(q(e[a])?e[a]:b)})})},jl=function(a,b){return new H(function(c,d){var e={};e[a]=b;chrome.storage.local.set(e,function(){chrome.runtime.lastError?d(chrome.runtime.lastError):c()})})},kl=function(){new H(function(a,b){chrome.storage.local.remove("edulive.tango.Listener.LAST_VERSIONS",function(){chrome.runtime.lastError?b(chrome.runtime.lastError):a()})})};
var ll=function(a,b){var c=new Jg;D(c,1,a);D(c,2,b?1:2);return c},ml=function(a){var b=new Ri;D(b,1,a);return b};var nl=function(a){this.a=a};nl.prototype.T=function(a){return zd(this.a,a.a)};nl.prototype.toString=function(){return Gc("Digest: <%s, %s>",aj(this.a),this.a.toString())};var ol=function(){this.a=1};ol.prototype.start=function(){this.a=2};ol.prototype.stop=function(){this.a=3};var pl=function(){},ql="function"==typeof Uint8Array,rl=[],tl=function(a){if(a.b)for(var b in a.b){var c=a.b[b];if(oa(c))for(var d=0;d<c.length;d++)c[d]&&sl(c[d]);else c&&sl(c)}},sl=function(a){tl(a);return a.a};pl.prototype.toString=function(){tl(this);return this.a.toString()};pl.prototype.clone=function(){return new this.constructor(ul(sl(this)))};
var ul=function(a){var b;if(oa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?ul(b):b);return c}if(ql&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?ul(b):b);return c};
var vl=function(a){this.g=a||"spreadsheets|docs|drive|script|sites"};v(vl);
var wl=function(a){var b=4,c=[],d={hc:"/d/([0-9a-zA-Z\\-\\_]+)",zc:b+=1};c.push(d);d={hc:"(\\?|&|&amp;)(id|docid|key|docID|DocId)=([0-9a-zA-Z\\-\\_]+)",zc:b+=3};c.push(d);c.push({hc:"/?s/([0-9a-zA-Z\\-\\_]+)(?:/p/[0-9a-zA-Z\\-\\_]+)?/edit",zc:b+1});d=[];for(b=0;b<c.length;b++)d.push(c[b].zc);a.b=d;for(var d="(https?://)?("+a.g+")[0-9]?.google.com",e="(",b=0;b<c.length;b++)e+=c[b].hc,b!=c.length-1&&(e+="|");a.c=new RegExp("\\b"+d+"(:[0-9]+)?\\/\\S*"+(e+")")+"[0-9a-zA-Z$\\-\\_\\.\\+\\!\\*'\\,;:@&=/\\?]*(#[0-9a-zA-Z$\\-\\_\\.\\+\\!\\*'\\,;:@&=/\\?]+)?\\b", "g");a.a=/(\bspreadsheet\/gform\b)|(\bforms\/\b)|(\bpub\b)/},xl=function(a){a.c||wl(a);return a.c},yl=function(a){a.a||wl(a);return a.a},zl=function(a,b){if(!b)return b;var c=yl(a);a=id(b,function(a){return!a.match(c)});return 0==a.length?null:a};
var Al="closure_lm_"+(1E6*Math.random()|0),Bl={},Cl=0,Dl=function(a,b,c,d,e){if(oa(b)){for(var f=0;f<b.length;f++)Dl(a,b[f],c,d,e);return null}c=El(c);return cc(a)?a.listen(b,c,d,e):Fl(a,b,c,!1,d,e)},Fl=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,l=Gl(a);l||(a[Al]=l=new $d(a));c=be(l,b,c,d,e,f);if(c.proxy)return c;d=Hl();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Il(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Cl++;return c},Hl=function(){var a=Jl,b=Oh?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Kl=function(a,b,c,d,e){if(oa(b)){for(var f=0;f<b.length;f++)Kl(a,b[f],c,d,e);return null}c=El(c);return cc(a)?be(a.g,String(b),c,!0,d,e):Fl(a,b,c,!0,d,e)},Ll=function(a,b,c,d,e){if(oa(b))for(var f=0;f<b.length;f++)Ll(a,b[f],c,d,e);else c=El(c),cc(a)?a.a(b,c,d,e):a&&(a=Gl(a))&&(b=de(a,b,c,!!d,e))&&Ml(b)},Ml=function(a){if(!ma(a)&&a&&!a.removed){var b=
a.src;if(cc(b))ce(b.g,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Il(c),d);Cl--;(c=Gl(b))?(ce(c,a),0==c.b&&(c.src=null,b[Al]=null)):Gd(a)}}},Nl=function(a,b,c,d,e){c=El(c);d=!!d;return cc(a)?de(a.g,String(b),c,d,e):a?(a=Gl(a))?de(a,b,c,d,e):null:null},Il=function(a){return a in Bl?Bl[a]:Bl[a]="on"+a},Pl=function(a,b,c,d){var e=!0;if(a=Gl(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==
c&&!f.removed&&(f=Ol(f,d),e=e&&!1!==f)}return e},Ol=function(a,b){var c=a.listener,d=a.ua||a.src;a.Jb&&Ml(a);return c.call(d,b)},Jl=function(a,b){if(a.removed)return!0;if(!Oh){var c=b||qa("window.event");b=new mj(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.a;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.a=c[e];var f=Pl(c[e],a,!0,b),d=d&&f}for(e=
0;e<c.length;e++)b.a=c[e],f=Pl(c[e],a,!1,b),d=d&&f}return d}return Ol(a,new mj(b,this))},Gl=function(a){a=a[Al];return a instanceof $d?a:null},Ql="__closure_events_fn_"+(1E9*Math.random()>>>0),El=function(a){if(la(a))return a;a[Ql]||(a[Ql]=function(b){return a.handleEvent(b)});return a[Ql]};
var Rl=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.a=a};r(Rl,nk);var Sl=function(a,b){x.call(this);this.v=a||0;this.c=b||10;if(this.v>this.c)throw Error("[goog.structs.Pool] Min can not be greater than max");this.a=new Ce;this.b=new pk;this.l=null;this.Hb()};r(Sl,x);Sl.prototype.Nb=function(){var a=m();if(!(null!=this.l&&0>a-this.l)){for(var b;0<this.a.O()&&(b=De(this.a),!this.o(b));)this.Hb();!b&&this.O()<this.c&&(b=this.j());b&&(this.l=a,this.b.fb(b));return b}};Sl.prototype.ob=function(a){this.b.remove(a);this.o(a)&&this.O()<this.c?this.a.a.push(a):Tl(a)};
Sl.prototype.Hb=function(){for(var a=this.a;this.O()<this.v;){var b=this.j();a.a.push(b)}for(;this.O()>this.c&&0<this.a.O();)Tl(De(a))};Sl.prototype.j=function(){return{}};var Tl=function(a){if("function"==typeof a.X)a.X();else for(var b in a)a[b]=null};Sl.prototype.o=function(a){return"function"==typeof a.Nd?a.Nd():!0};Sl.prototype.contains=function(a){return this.a.contains(a)||this.b.contains(a)};Sl.prototype.O=function(){return this.a.O()+this.b.O()}; Sl.prototype.F=function(){Sl.J.F.call(this);if(0<this.b.O())throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var a=this.a;0!=a.b.length||0!=a.a.length;)Tl(De(a));delete this.a};
/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Ul=function(a,b){this.l=[];this.D=a;this.A=b||null;this.g=this.a=!1;this.c=void 0;this.I=this.G=this.v=!1;this.o=0;this.b=null;this.j=0};Ul.prototype.cancel=function(a){if(this.a)this.c instanceof Ul&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b;a?b.cancel(a):(b.j--,0>=b.j&&b.cancel())}this.D?this.D.call(this.A,this):this.I=!0;this.a||this.C(new Vl)}};Ul.prototype.L=function(a,b){this.v=!1;Wl(this,a,b)};
var Wl=function(a,b,c){a.a=!0;a.c=c;a.g=!b;Xl(a)},Zl=function(a){if(a.a){if(!a.I)throw new Yl;a.I=!1}};Ul.prototype.da=function(a){Zl(this);Wl(this,!0,a)};Ul.prototype.C=function(a){Zl(this);Wl(this,!1,a)};var am=function(a,b,c){$l(a,b,null,c)},$l=function(a,b,c,d){a.l.push([b,c,d]);a.a&&Xl(a)};Ul.prototype.then=function(a,b,c){var d,e,f=new H(function(a,b){d=a;e=b});$l(this,d,function(a){a instanceof Vl?f.cancel():e(a)});return f.then(a,b,c)};lb(Ul);
var bm=function(a,b){b instanceof Ul?am(a,t(b.H,b)):am(a,function(){return b})};Ul.prototype.H=function(a){var b=new Ul;$l(this,b.da,b.C,b);a&&(b.b=this,this.j++);return b};
var cm=function(a){return kd(a.l,function(a){return la(a[1])})},Xl=function(a){if(a.o&&a.a&&cm(a)){var b=a.o,c=dm[b];c&&(k.clearTimeout(c.a),delete dm[b]);a.o=0}a.b&&(a.b.j--,delete a.b);for(var b=a.c,d=c=!1;a.l.length&&!a.v;){var e=a.l.shift(),f=e[0],g=e[1],e=e[2];if(f=a.g?g:f)try{var l=f.call(e||a.A,b);q(l)&&(a.g=a.g&&(l==b||l instanceof Error),a.c=b=l);if(mb(b)||"function"===typeof k.Promise&&b instanceof k.Promise)d=!0,a.v=!0}catch(n){b=n,a.g=!0,cm(a)||(c=!0)}}a.c=b;d&&(l=t(a.L,a,!0),d=t(a.L,
a,!1),b instanceof Ul?($l(b,l,d),b.G=!0):b.then(l,d));c&&(b=new em(b),dm[b.a]=b,a.o=b.a)},Yl=function(){Aa.call(this)};r(Yl,Aa);Yl.prototype.message="Deferred has already fired";Yl.prototype.name="AlreadyCalledError";var Vl=function(){Aa.call(this)};r(Vl,Aa);Vl.prototype.message="Deferred was canceled";Vl.prototype.name="CanceledError";var em=function(a){this.a=k.setTimeout(t(this.c,this),0);this.b=a};em.prototype.c=function(){delete dm[this.a];throw this.b;};var dm={};
var fm=function(a,b){a=new sk(a);var c=a.a;if("client-channel.google.com"==c){var d;if(!Ub){try{d=!!k.chrome.loadTimes().wasFetchedViaSpdy}catch(e){d=!1}d?Ub="0":(d=parseInt(Ua.get("llbcs","-1"),10),isNaN(d)&&(d=-1),d=((d+1)%30).toString(),Ua.set("llbcs",d,-1,"/",void 0,!1),Ub=d)}(d=Ub)&&uk(a,d+"."+c)}this.l=a;this.b=0;this.j=b;this.a=null;(b=(b=window.gapi)?b.load:null)&&b("auth")}; fm.prototype.c=function(){var a;if(k.gapi&&k.gapi.auth&&(a=k.gapi.auth.getAuthHeaderValueForFirstParty))try{var b;var c=a([]);if(c){var d=c.split(" ");b={scheme:d[0],hash:d[1]}}else b=null;return b}catch(e){}return null};
var gm=chrome.i18n.getMessage("2050089326602918210"),hm=chrome.i18n.getMessage("4849976898594713883",[gm,"https://classroomlive-pa.googleapis.com"]),im=chrome.i18n.getMessage("9217362152767454370",[gm]);chrome.i18n.getMessage("7604563725603697690");chrome.i18n.getMessage("533692309512814645");chrome.i18n.getMessage("7826444313570725162");chrome.i18n.getMessage("5936353814217802658");chrome.i18n.getMessage("1258929983314547244");chrome.i18n.getMessage("4491595920888170943");var jm=chrome.i18n.getMessage("8657495129257769609");
chrome.i18n.getMessage("9200475522066047621");var km=chrome.i18n.getMessage("6042567254866620046",[gm]),lm=chrome.i18n.getMessage("7798244153502527716",[gm]);chrome.i18n.getMessage("4811423455816775324",[gm]);var mm=chrome.i18n.getMessage("3727581148109420602"),nm=chrome.i18n.getMessage("826991190228103925");chrome.i18n.getMessage("4748990655911819545");var om=chrome.i18n.getMessage("7582805180132294390",[gm]);chrome.i18n.getMessage("6576961868476783976",[gm]);
var pm=function(){this.a=vl.B()};v(pm);pm.prototype.match=function(a){return!!this.R(a)};pm.prototype.T=function(a,b){a=this.R(a);b=this.R(b);return!(!a||!b)&&a==b};pm.prototype.hash=function(a){return this.R(a)||a};
pm.prototype.R=function(a){var b;b=this.a;if(a=(a=zl(b,a.match(xl(b))))?jd(a,Fb):a){for(var c=[],d=0;d<a.length;d++){var e=a[d],f;b:{var g=b;f=e;var l=xl(g);l.lastIndex=0;if(f=l.exec(f))for(g.b||wl(g),g=g.b,l=0;l<g.length;l++){var n=f[g[l]];if(n){f=n;break b}}f=null}try{Lk(e).c.get("authkey")}catch(p){}c.push(new wa(e,f))}b=new Yd(c)}else b=null;return b?(b=b.a)&&b.length?b[0].R():null:null};
var qm=function(){this.a=new Xb};qm.prototype.reset=function(){this.a.reset()};qm.prototype.update=function(a){this.a.update(a)};var rm=function(a){a=a.a.digest();return new nl(a)},sm=function(a,b){b.reset();for(var c=[],d=C(a,1),e=0;4>e;e++)c[e]=d&255,d>>=8;b.update(c);b.update(C(a,2));return rm(b)};
var tm=function(a){return new Zc(C(a,1),C(a,2))},um=function(a){var b=a.b;a=a.a;var c=new Dg;D(c,1,b);D(c,2,a);return c};var wm=function(a,b,c){a&&a.c.apply(a,vm(arguments))},K=function(a,b,c){a&&a.ya.apply(a,vm(arguments))},L=function(a,b,c){a&&a.info.apply(a,vm(arguments))},xm=function(a,b,c){a&&a.b.apply(a,vm(arguments))},vm=function(a){a=Array.prototype.slice.call(a);a.shift();return a};
var ym=function(a){this.j=a;this.a=this.g=this.b=this.c=null},zm=function(a,b){this.name=a;this.value=b};zm.prototype.toString=function(){return this.name};var Am=new zm("SEVERE",1E3),Bm=new zm("WARNING",900),Cm=new zm("INFO",800),Dm=new zm("CONFIG",700),Em=new zm("FINE",500),M=new zm("FINEST",300),Fm=[new zm("OFF",Infinity),new zm("SHOUT",1200),Am,Bm,Cm,Dm,Em,new zm("FINER",400),M,new zm("ALL",0)],Gm=function(a,b){a.a||(a.a=[]);a.a.push(b)};
ym.prototype.getChildren=function(){this.g||(this.g={});return this.g};var Hm=function(a,b){a.b=b},Im=function(a){return a.b?a.b:a.c?Im(a.c):null};
ym.prototype.log=function(a,b,c){if(a.value>=Im(this).value)for(la(b)&&(b=b()),a=new Ba(a,String(b),this.j),c&&(a.a=c),c="log:"+a.getMessage(),k.console&&(k.console.timeStamp?k.console.timeStamp(c):k.console.markTimeline&&k.console.markTimeline(c)),k.msWriteProfilerMark&&k.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.a)for(var f=0;b=d.a[f];f++)b(e);c=c.c}};ym.prototype.ya=function(a,b){this.log(Bm,a,b)};ym.prototype.info=function(a,b){this.log(Cm,a,b)};
var Jm={},Km=null,Lm=function(){Km||(Km=new ym(""),Jm[""]=Km,Km.b=Dm)},Mm=function(){Lm();return Km},Nm=function(a){Lm();var b;if(!(b=Jm[a])){b=new ym(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Nm(a.substr(0,c));c.getChildren()[d]=b;b.c=c;Jm[a]=b}return b};
var Om=function(a){x.call(this);this.c=a;this.b={}};r(Om,x);var Pm=[];Om.prototype.listen=function(a,b,c,d){oa(b)||(b&&(Pm[0]=b.toString()),b=Pm);for(var e=0;e<b.length;e++){var f=Dl(a,b[e],c||this.handleEvent,d||!1,this.c||this);if(!f)break;this.b[f.key]=f}return this};var Qm=function(a,b,c,d,e,f){if(oa(c))for(var g=0;g<c.length;g++)Qm(a,b,c[g],d,e,f);else(b=Kl(b,c,d||a.handleEvent,e,f||a.c||a))&&(a.b[b.key]=b)};
Om.prototype.a=function(a,b,c,d,e){if(oa(b))for(var f=0;f<b.length;f++)this.a(a,b[f],c,d,e);else if(a=Nl(a,b,c||this.handleEvent,d,e||this.c||this))Ml(a),delete this.b[a.key];return this};Om.prototype.removeAll=function(){Va(this.b,function(a,b){this.b.hasOwnProperty(b)&&Ml(a)},this);this.b={}};Om.prototype.F=function(){Om.J.F.call(this);this.removeAll()};Om.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
var N=function(){x.call(this);this.g=new $d(this);this.ra=this;this.ba=null};r(N,x);N.prototype[bc]=!0;N.prototype.removeEventListener=function(a,b,c,d){Ll(this,a,b,c,d)};
var O=function(a,b){var c,d=a.ba;if(d)for(c=[];d;d=d.ba)c.push(d);a=a.ra;d=b.type||b;if(u(b))b=new Ed(b,a);else if(b instanceof Ed)b.target=b.target||a;else{var e=b;b=new Ed(d,a);kb(b,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=b.a=c[g],e=Rm(f,d,!0,b)&&e;f=b.a=a;e=Rm(f,d,!0,b)&&e;e=Rm(f,d,!1,b)&&e;if(c)for(g=0;g<c.length;g++)f=b.a=c[g],e=Rm(f,d,!1,b)&&e};N.prototype.F=function(){N.J.F.call(this);this.g&&this.g.removeAll(void 0);this.ba=null};
N.prototype.listen=function(a,b,c,d){return be(this.g,String(a),b,!1,c,d)};N.prototype.a=function(a,b,c,d){return this.g.remove(String(a),b,c,d)};var Rm=function(a,b,c,d){b=a.g.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var l=g.listener,n=g.ua||g.src;g.Jb&&ce(a.g,g);e=!1!==l.call(n,d)&&e}}return e&&0!=d.qd},Sm=function(a,b){return ee(a.g,q(b)?String(b):void 0)};
var Tm=function(a){var b=new Rl;return b.isAvailable()?a?new ok(b,a):b:null};var Um=function(a,b){this.g=new kf;Sl.call(this,a,b)};r(Um,Sl);h=Um.prototype;h.Nb=function(a,b){if(!a)return Um.J.Nb.call(this);Be(this.g,q(b)?b:100,a);this.pc()};h.pc=function(){for(var a=this.g;0<a.O();){var b=this.Nb();if(b)a.remove().apply(this,[b]);else break}};h.ob=function(a){Um.J.ob.call(this,a);this.pc()};h.Hb=function(){Um.J.Hb.call(this);this.pc()};h.F=function(){Um.J.F.call(this);k.clearTimeout(void 0);this.g.clear();this.g=null};
var Vm=function(){this.a=[]};v(Vm);var Wm=function(a){if(0==a.a.length){var b=pm.B();qd(a.a,b);b=Vb.B();qd(a.a,b)}};Vm.prototype.match=function(){return!0};Vm.prototype.T=function(a,b){0==this.a.length&&Wm(this);return nd(this.a,function(c){return c.match(a)||c.match(b)},this).T(a,b)};Vm.prototype.hash=function(a){0==this.a.length&&Wm(this);return nd(this.a,function(b){return b.match(a)},this).hash(a)};
var Xm=function(a){var b="tokens-1053";this.h=a;L(this.h,"Creating concurrent store %s",b);this.c=b;this.g=Nb();this.b=(this.a=Tm("google_notification_values_"+this.c))?Tm("google_notification_remover_"+this.c):null},$m=function(a){for(var b=null,c=5;null==b&&0<c--;){var d=a.a?bf(a.a.ta(!0)):[];if(0==d.length)break;var b=Math.floor(Math.random()*d.length),e=d[b];L(a.h,"Returning random item %d of %d: %s",b,d.length,e);d=e;b=a;e=d;Ym(b,e,b.g);var f;f=b;var g=e,l=f.a.get(g);L(f.h,"Got value of %s for %s",
l,g);f=l;Zm(b,e,null);var g=b,l=e,n=g.b.get(l);L(g.h,"Got lastRemover of %s for %s",n,l);n==b.g?L(b.h,"Last remover, returning %s for %s",f,e):(L(b.h,"Not last remover, returning null for %s",e),f=null);Ym(b,e,null);b=f;L(a.h,"Got value %s for %s",b,d)}return b},Zm=function(a,b,c){null!=c?(L(a.h,"Setting value of slot %s to %s",b,c),a.a.set(b,c)):(L(a.h,"Removing slot %s",b),a.a.remove(b))},Ym=function(a,b,c){c?(L(a.h,"Setting lastRemover of slot %s to %s",b,c),a.b.set(b,c)):(L(a.h,"Clearing lastRemover of slot %s", b),a.b.remove(b))};
var bn=function(a,b,c,d,e,f,g){this.L=a;this.I=c;this.A=b;this.l=f;this.o=g;this.j=d;this.c=e;this.g=!1;this.C=new ta(a,t(function(){this.g=!1;this.a()?an(this,!0,"Retry"):null!=e&&this.c.reset()},this))};r(bn,Wb);var an=function(a,b,c){a.g||(b=b?null!=a.c?a.o+Yc(a.c):a.o+Wc(a.j,a.l):Wc(a.j,a.l),xm(a.I,"[%s] Scheduling %s with a delay %s, Now = %s",c,a.L,b,m()),cn(a.A,b,a.C),a.g=!0)};
var fn=function(a){this.a=new Ic(dn);this.b=a;en(this)},gn=function(a,b){this.digest=a;this.uc=b};gn.prototype.toString=function(){return Gc("[%s, %s]",this.digest.toString(),this.uc.toString())};var dn=function(a,b){a:{a=a.digest.a;b=b.digest.a;for(var c=wd,d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f){a=f;break a}}a=wd(a.length,b.length)}return a};
fn.prototype.remove=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=sm(d,this.b),e=new gn(e,d);this.a.contains(e)&&(this.a.remove(e),b.push(d))}0<b.length&&en(this);return b};fn.prototype.removeAll=function(){for(var a=[],b=this.a.S(),c=0;c<b.length;c++)a.push(b[c].uc);this.a.clear();en(this);return a};fn.prototype.contains=function(a){var b=sm(a,this.b);return this.a.contains(new gn(b,a))};
var en=function(a){for(var b=[],c=a.a.S(),d=0;d<c.length;d++)b.push(c[d].digest);c=a.b;c.reset();for(d=0;d<b.length;d++)c.update(b[d].a);b=rm(c);a.c=b};fn.prototype.toString=function(){return Gc("Digest: %s, Regs: %s",this.c.toString(),this.a.S().toString())};
var hn=new Lj,jn=new Mj,kn=function(a){a=hn.c(a);return w(a)};try{var ln=window.JSON.parse}catch(a){ln=Pa}var mn=function(a,b,c){var d;try{d=ln(b)}catch(f){return c&&L(c,"Exception parsing json (%s): %s",b,f),null}try{var e=ei(hn,a,d)}catch(f){return c&&K(c,"Exception deserializing the parsed json (%s): %s",d,f),null}return null==e?(c&&K(c,"Incoming msg is unparseable: %s",d),null):e};A.prototype.toString=function(){return jn.c(this)}; var nn=function(a){var b=dj(document,a);null==b&&(b=ij("DIV",{id:a,style:"display:none"}),a=document,a=a.querySelectorAll&&a.querySelector?a.querySelectorAll("BODY"):a.getElementsByTagName("BODY"),a[0].appendChild(b));return b};
var on=function(a){return w({t:a.l,ln:a.b.name,lv:a.b.value,m:a.getMessage(),n:a.c,s:a.g,e:a.a&&a.a.message})};var pn={},P=function(a,b){a=Nm(a);b&&a&&(a.b=b);return a},Q=function(a,b,c){a&&a.log(b,c,void 0)},R=function(a,b,c){a&&a.log(Am,b,c)},S=function(a,b,c){a&&a.ya(b,c)},T=function(a,b){a&&a.info(b,void 0)},U=function(a,b){a&&a.log(Em,b,void 0)};var qn=function(a,b){N.call(this);this.c=a||1;this.b=b||k;this.j=t(this.If,this);this.l=m()};r(qn,N);h=qn.prototype;h.wb=!1;h.oa=null;h.If=function(){if(this.wb){var a=m()-this.l;0<a&&a<.8*this.c?this.oa=this.b.setTimeout(this.j,this.c-a):(this.oa&&(this.b.clearTimeout(this.oa),this.oa=null),O(this,"tick"),this.wb&&(this.oa=this.b.setTimeout(this.j,this.c),this.l=m()))}};h.start=function(){this.wb=!0;this.oa||(this.oa=this.b.setTimeout(this.j,this.c),this.l=m())};
h.stop=function(){this.wb=!1;this.oa&&(this.b.clearTimeout(this.oa),this.oa=null)};h.F=function(){qn.J.F.call(this);this.stop();delete this.b};
var rn=function(a,b,c){if(la(a))c&&(a=t(a,c));else if(a&&"function"==typeof a.handleEvent)a=t(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)},sn=function(a){k.clearTimeout(a)},tn=function(a){var b=null;return Bj(new H(function(c,d){b=rn(function(){c(void 0)},a);-1==b&&d(Error("Failed to schedule timer."))}),function(a){sn(b);throw a;})};
var un=function(a){this.b=null;a||(a=[]);this.a=a;a:{if(this.a.length){a=this.a.length-1;var b=this.a[a];if(b&&"object"==typeof b&&!oa(b)&&!(ql&&b instanceof Uint8Array)){this.g=a- -1;this.c=b;break a}}this.g=Number.MAX_VALUE}};r(un,pl);var wn=function(a,b,c,d){Aa.call(this,a);this.details=b?u(b)?b:b.message:void 0;this.helpText=c;this.errorType=d;vn(this);a=P("edulive.errors.Error");U(a,this.toString())};r(wn,Aa);wn.prototype.name="edulive.errors.Error";
var vn=function(a){var b=k.MODULESETS;if(!Ya(b))return a;b=Gc("chrome-extension://%s/(%s):(\\d+):(\\d+)",chrome.runtime.id,$a(b).join("|"));a.stack=a.stack.replace(new RegExp(b,"g"),xn);return a},xn=function(a,b,c,d){var e=k.MODULESETS;b=e[b];if(!b)return a;a=k.ROW_KEYS[b];var f=k.ROW_KEY_SIGNATURES[b];c-=Ya(e)+1;return f?Gc("https://www.gstatic.com/classroom-live/_/js/k=%s/m=%s/rt=j/d=1/rs=%s:%d:%d",a,b,f,c,d):Gc("https://www.gstatic.com/classroom-live/_/js/k=%s/m=%s/rt=j/d=1:%d:%d",a,b,c,d)},zn=
function(a){wn.call(this,"");hd(Za(yn),function(b){b in a&&(this[b]=a[b])},this)};r(zn,wn);zn.prototype.name="edulive.errors.SerializedError";var An=function(a){wn.call(this,"Unexpected Parameter.",w(a))};r(An,wn);An.prototype.name="edulive.errors.UnexpectedParameterError";var yn={Xf:"columnNumber",cg:"details",gg:"errorType",jg:"fileName",lg:"helpText",Cg:"lineNumber",Dg:"message",Ic:"name",jh:"stack",lh:"status",zh:"type"};
var Bn=function(a){x.call(this);this.c=(a||5242880)/2;this.l=!1;this.b=[];this.a=0;this.g=t(this.o,this);this.j=new pk};r(Bn,x);v(Bn);Bn.prototype.F=function(){Cn(this,!1);Bn.J.F.call(this)};var Cn=function(a,b){if(b!=a.l){var c=Mm();b?Gm(c,a.g):((c=c.a)&&rd(c,a.g),pd(a.b),a.a=0);a.l=b}};
Bn.prototype.o=function(a){if(!this.j.contains(a.c)&&a){a=on(a);var b=a.length;if(!(b>this.c)){var c=b-(this.c-this.a);if(b+this.a>this.c){var d=0,e=md(this.b,function(a){d+=a.length;return d>=c},this);vd(this.b,0,e+1);this.a-=d}qd(this.b,a);this.a+=b}}};
var Dn=function(a){var b=a.uri;return"fullscreen"==a.tabId&&"eyes_on_me.html"==b},En=function(a){var b=Lk(a);a=b.g;b=b.a;return"localhost"==b.toLowerCase()||"127.0.0.1"==b?!1:"http"==a||"https"==a},Fn={hg:"eyes_on_me.html"},Gn=function(a){var b;if(Vd(a,["id","millisToExpire","senderId","uri","tabId"])){b=a.millisToExpire;var c=a.uri,d=a.senderId,e=a.title,f=a.thumbnail,g=a.favIconUrl;b=u(a.id)?u(a.tabId)?u(c)?db(Fn,c)||En(c)?ma(b)?u(d)?e&&!u(e)?"title not string":f&&!En(f)?"thumbnail not valid":g&& !En(g)?"favicon not valid":null:"senderId not string":"millisToExpire not number":"url not shareable":"url not string":"tabId not string":"id not string"}else b="Missing required key";return b?(T(P("edulive.pages.isValidPage"),b+": "+w(a)),!1):!0};
var In=function(a,b){b=Hn(a,b);b=aj(b.a);var c=new Ti;D(c,1,a);D(c,2,b);return kn(c)},Hn=function(a,b){b.reset();b.update(kn(a));return rm(b)};var Kn=function(a,b,c){this.a=new fn(c);this.g=b;this.c=Jn(this);this.b=new G;this.h=a},Jn=function(a){var b=new Mg,c=a.a.a.O();D(b,1,c);a=aj(a.a.c.a);D(b,2,a);return b},Ln=function(a){return a.c.T(Jn(a))};Kn.prototype.toString=function(){return Gc("Last known digest: %s, Requested regs: %s",this.c.toString(),this.a.toString())};
var Mn=function(a){this.h=P(a)};Mn.prototype.c=function(a,b){pn&&Nn(this,Am,arguments)};Mn.prototype.ya=function(a,b){pn&&Nn(this,Bm,arguments)};Mn.prototype.info=function(a,b){pn&&Nn(this,Cm,arguments)};Mn.prototype.b=function(a,b){pn&&Nn(this,Em,arguments)};var Nn=function(a,b,c){a.h&&b.value>=Im(a.h).value&&(c=Gc.apply(null,c),Q(a.h,b,c))};
var On=function(a){this.a=a},Pn=function(a,b){for(var c=b.getDescriptor(),d=a.b()[c.b],e=ye(c),f=0;f<e.length;++f);for(var g in d)for(var e=d[g],l=ze(c,g),f=0;f<e.length;++f){if(!e[f](l,b))return!1;for(var n=0;n<jf(b,l.a);++n){var p=b.get(l,n);if(p instanceof A&&!Pn(a,p))return wm(a.a,"field %s (index %d) failed validation in %s",g,n,b),!1}}return!0};On.prototype.required=function(a,b){var c=b.has(a);c||wm(this.a,"required field %s missing from %s",a.j,b);return c};
On.prototype.c=function(a,b,c){var d=!c.has(b)||c.get(b)>=a;d||wm(this.a,"%s must be greater than or equal to %d; was %d",b.j,a,c.get(b));return d};On.prototype.g=function(a,b){(b=!b.has(a)||""!=b.get(a))||wm(this.a,"%s must be non-empty",a.j);return b};
var Qn=function(a){a=P(a,Cm);T(a,"Logging enabled.");return a};var Rn=function(a,b,c){x.call(this);this.a=a;this.g=b||0;this.b=c;this.c=t(this.Be,this)};r(Rn,x);h=Rn.prototype;h.ab=0;h.F=function(){Rn.J.F.call(this);this.stop();delete this.a;delete this.b};h.start=function(a){this.stop();this.ab=rn(this.c,q(a)?a:this.g)};h.stop=function(){0!=this.ab&&sn(this.ab);this.ab=0};h.Be=function(){this.ab=0;this.a&&this.a.call(this.b)};
var Sn=function(a,b,c){x.call(this);this.g=null!=c?t(a,c):a;this.c=b;this.b=t(this.Re,this);this.a=[]};r(Sn,x);h=Sn.prototype;h.Zb=!1;h.bb=null;h.Ce=function(a){this.a=arguments;this.bb?this.Zb=!0:Tn(this)};h.stop=function(){this.bb&&(sn(this.bb),this.bb=null,this.Zb=!1,this.a=[])};h.F=function(){Sn.J.F.call(this);this.stop()};h.Re=function(){this.bb=null;this.Zb&&(this.Zb=!1,Tn(this))};var Tn=function(a){a.bb=rn(a.b,a.c);a.g.apply(null,a.a)};
var Un=function(){x.call(this);this.l={}};r(Un,x);h=Un.prototype;h.jc=P("goog.messaging.AbstractChannel");h.connect=function(a){a&&a()};h.ka=function(){return!0};h.getService=function(a,b){var c=this.l[a];if(c)return c;if(this.A)return{da:ha(this.A,a),vc:ka(b)};S(this.jc,'Unknown service name "'+a+'"');return null};h.F=function(){Un.J.F.call(this);delete this.jc;delete this.l;delete this.A};
var Vn=function(){this.h=P("goog.net.BrowserChannel")},Xn=function(a,b,c,d){a.info("XMLHTTP TEXT ("+b+"): "+Wn(a,c)+(d?" "+d:""))};Vn.prototype.debug=function(a){this.info(a)};var Yn=function(a,b,c){R(a.h,(c||"Exception")+b)};Vn.prototype.info=function(a){T(this.h,a)};Vn.prototype.ya=function(a){S(this.h,a)};
var Wn=function(a,b){if(!b||"y2f%"==b)return b;try{var c=Qa(b);if(c)for(var d=0;d<c.length;d++)if(oa(c[d])){var e=c[d];if(!(2>e.length)){var f=e[1];if(oa(f)&&!(1>f.length)){var g=f[0];if("noop"!=g&&"stop"!=g)for(var l=1;l<f.length;l++)f[l]=""}}}return w(c)}catch(n){return a.debug("Exception parsing expected JS array - probably was not JS"),b}};
var Zn=function(a){N.call(this);this.headers=new G;this.N=a||null;this.j=!1;this.M=this.b=null;this.aa=this.C="";this.c=0;this.D="";this.v=this.U=this.H=this.P=!1;this.l=0;this.G=null;this.A="";this.K=this.o=!1};r(Zn,N);Zn.prototype.h=P("goog.net.XhrIo");var $n=/^https?$/i,ao=["POST","PUT"],bo=[],co=function(a,b,c,d,e,f,g){var l=new Zn;bo.push(l);b&&l.listen("complete",b);be(l.g,"ready",l.ha,!0,void 0,void 0);f&&(l.l=Math.max(0,f));g&&(l.o=g);l.send(a,c,d,e)};
Zn.prototype.ha=function(){this.X();rd(bo,this)};Zn.prototype.Ob=function(){return this.A};Zn.prototype.bd=function(){return this.o};
Zn.prototype.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+a);b=b?b.toUpperCase():"GET";this.C=a;this.D="";this.c=0;this.aa=b;this.P=!1;this.j=!0;this.b=this.N?we(this.N):we(ue);this.M=this.N?Ec(this.N):Ec(ue);this.b.onreadystatechange=t(this.ca,this);try{U(this.h,eo(this,"Opening Xhr")),this.U=!0,this.b.open(b,String(a),!0),this.U=!1}catch(f){U(this.h,eo(this,"Error opening Xhr: "+f.message));fo(this,f);return}a=c||"";var e=
this.headers.clone();d&&He(d,function(a,b){e.set(b,a)});d=nd(e.$(),go);c=k.FormData&&a instanceof k.FormData;!(0<=fd(ao,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.A&&(this.b.responseType=this.A);"withCredentials"in this.b&&this.b.withCredentials!==this.o&&(this.b.withCredentials=this.o);try{ho(this),0<this.l&&(this.K=io(this.b),U(this.h,eo(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+
this.K)),this.K?(this.b.timeout=this.l,this.b.ontimeout=t(this.Z,this)):this.G=rn(this.Z,this.l,this)),U(this.h,eo(this,"Sending request")),this.H=!0,this.b.send(a),this.H=!1}catch(f){U(this.h,eo(this,"Send error: "+f.message)),fo(this,f)}};var io=function(a){return F&&Df(9)&&ma(a.timeout)&&q(a.ontimeout)},go=function(a){return"content-type"==a.toLowerCase()};
Zn.prototype.Z=function(){"undefined"!=typeof aa&&this.b&&(this.D="Timed out after "+this.l+"ms, aborting",this.c=8,U(this.h,eo(this,this.D)),O(this,"timeout"),this.abort(8))};var fo=function(a,b){a.j=!1;a.b&&(a.v=!0,a.b.abort(),a.v=!1);a.D=b;a.c=5;jo(a);ko(a)},jo=function(a){a.P||(a.P=!0,O(a,"complete"),O(a,"error"))};Zn.prototype.abort=function(a){this.b&&this.j&&(U(this.h,eo(this,"Aborting")),this.j=!1,this.v=!0,this.b.abort(),this.v=!1,this.c=a||7,O(this,"complete"),O(this,"abort"),ko(this))};
Zn.prototype.F=function(){this.b&&(this.j&&(this.j=!1,this.v=!0,this.b.abort(),this.v=!1),ko(this,!0));Zn.J.F.call(this)};Zn.prototype.ca=function(){this.Da()||(this.U||this.H||this.v?lo(this):this.sa())};Zn.prototype.sa=function(){lo(this)};
var lo=function(a){if(a.j&&"undefined"!=typeof aa)if(a.M[1]&&4==mo(a)&&2==no(a))U(a.h,eo(a,"Local request error detected and ignored"));else if(a.H&&4==mo(a))rn(a.ca,0,a);else if(O(a,"readystatechange"),4==mo(a)){U(a.h,eo(a,"Request complete"));a.j=!1;try{if(a.va())O(a,"complete"),O(a,"success");else{a.c=6;var b;try{b=2<mo(a)?a.b.statusText:""}catch(c){U(a.h,"Can not get status: "+c.message),b=""}a.D=b+" ["+no(a)+"]";jo(a)}}finally{ko(a)}}},ko=function(a,b){if(a.b){ho(a);var c=a.b,d=a.M[0]?pa:null;
a.b=null;a.M=null;b||O(a,"ready");try{c.onreadystatechange=d}catch(e){R(a.h,"Problem encountered resetting onreadystatechange: "+e.message)}}},ho=function(a){a.b&&a.K&&(a.b.ontimeout=null);ma(a.G)&&(sn(a.G),a.G=null)};
Zn.prototype.va=function(){var a=no(this),b;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=!0;break a;default:b=!1}if(!b){if(a=0===a)a=String(this.C).match(Qd)[1]||null,!a&&k.self&&k.self.location&&(a=k.self.location.protocol,a=a.substr(0,a.length-1)),a=!$n.test(a?a.toLowerCase():"");b=a}return b};
var mo=function(a){return a.b?a.b.readyState:0},no=function(a){try{return 2<mo(a)?a.b.status:-1}catch(b){return-1}},oo=function(a){try{return a.b?a.b.responseText:""}catch(b){return U(a.h,"Can not get responseText: "+b.message),""}},po=function(a){try{if(!a.b)return null;if("response"in a.b)return a.b.response;switch(a.A){case "":case "text":return a.b.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.b)return a.b.mozResponseArrayBuffer}R(a.h,"Response type "+a.A+" is not supported on this browser"); return null}catch(b){return U(a.h,"Can not get response: "+b.message),null}},eo=function(a,b){return b+" ["+a.aa+" "+a.C+" "+no(a)+"]"};
var qo={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},ro=["pu","lru","pru","lpu","ppu"],so={},uo=function(a){for(var b=to,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},to="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",V=P("goog.net.xpc");
var vo=function(a){this.a=a;a=function(){return!0};var b=t(this.required,this),c=t(this.c,this,0),d=t(this.g,this);this.j={Version:{major_version:[b,c],minor_version:[b,c]},ProtocolVersion:{version:[b]},ClientVersion:{version:[b],platform:[b],language:[b,d],application_info:[b,d]},ClientToServerMessage:{header:[b],init_endpoint_message:[a],init_session_message:[a],client_data_message_deprecated:[a],send_on_disconnect_message:[a],close_session_message:[a]},ClientHeader:{protocol_version:[b],client_version:[b],
client_time_ms:[b],max_known_server_time_ms:[b],message_id:[a]},SessionId:{service_name:[b,d],session_name:[a]},InitEndpointMessage:{},InitSessionMessage:{session_id:[b]},CloseSessionMessage:{session_id:[b]},SessionStatusMessage:{session_id:[b],address:[a,d],is_broadcast_to_user:[a],status:[a]},DataMessage:{session_id:[b],message:[b]},ServerToClientMessage:{header:[b],server_data_message:[a],channel_status_message:[a],session_status_message:[a]},ServerHeader:{protocol_version:[b],server_time_ms:[b, c],message_id:[a,d]},StatusP:{code:[b],description:[a]},ChannelStatusMessage:{status:[b],jid_resource:[a]}}};r(vo,On);vo.prototype.b=function(){return this.j};
var wo=function(a,b,c){wn.call(this,a,b,c,"classroom")};r(wo,wn);wo.prototype.name="edulive.classroom.Error";var xo=function(a){wo.call(this,"The specified workgroup cannot be found.",a)};r(xo,wo);xo.prototype.name="edulive.classroom.WorkgroupNotFoundError";var yo=function(a){wo.call(this,"You must be the owner in order to modify a workgroup.",a.id)};r(yo,wo);yo.prototype.name="edulive.classroom.WorkgroupNotOwnedError";var zo=function(a){wn.call(this,"Participant not enrolled.",a)};r(zo,wn); zo.prototype.name="edulive.classroom.ParticipantNotEnrolled";var Ao=function(){wo.call(this,"The user is not permitted to access Classroom 3rd party APIs")};r(Ao,wo);Ao.prototype.name="edulive.classroom.HomeroomDisabledError";
var Bo=function(a,b,c){wn.call(this,a,b,c,"drive")};r(Bo,wn);Bo.prototype.name="edulive.drive.Error";var Co=function(a){Bo.call(this,"The specified url does not point to a Google Drive document.",a)};r(Co,Bo);Co.prototype.name="edulive.drive.NotDriveUrlError";
var Do=function(){x.call(this);this.h=P("edulive.errors.ErrorManager");this.a=W.B();this.j=t(this.qe,this);X(this.a,"edulive.messages.errors.Requests.getError",this.j);this.o=t(this.ue,this);X(this.a,"edulive.messages.errors.Requests.getLastError",this.o);this.l=t(this.re,this);X(this.a,"edulive.messages.errors.Requests.getException",this.l);this.v=t(this.tf,this);X(this.a,"edulive.messages.errors.Requests.setError",this.v);this.c=t(this.Rd,this);X(this.a,"edulive.messages.errors.Requests.clearError",
this.c);this.A=t(this.uf,this);X(this.a,"edulive.messages.errors.Requests.setException",this.A);this.C=this.g=this.b=null};r(Do,x);v(Do);
Do.prototype.F=function(){Z(this.a,"edulive.messages.errors.Requests.getError",this.j);Z(this.a,"edulive.messages.errors.Requests.getLastError",this.o);Z(this.a,"edulive.messages.errors.Requests.getException",this.l);Z(this.a,"edulive.messages.errors.Requests.setError",this.v);Z(this.a,"edulive.messages.errors.Requests.clearError",this.c);Z(this.a,"edulive.messages.errors.Requests.setException",this.A);Do.J.F.call(this)};
var Fo=function(a,b){var c=null==a.b?null:a.b.errorType,d=null==b?null:b.errorType;b&&S(a.h,"setError: "+w(b));if(a.b=b)a.g=b;c!=d&&Eo(a.a,"edulive.messages.errors.Events.errorChanged",b);return c!=d},Go=function(a,b){var c=!1;a.b&&a.b.errorType==b&&(Fo(a,null),c=!0);return c};h=Do.prototype;h.qe=function(){return I(this.b)};h.ue=function(){return I(this.g)};h.re=function(){return I(this.C)};h.tf=function(a){a=a.message.params;return ka(a)&&a.helpText?I(Fo(this,a)):sj(new An(a))}; h.uf=function(a){this.C=a.message.params;return I(!0)};h.Rd=function(a){a=a.message.params;return u(a)?I(Go(this,a)):sj(new An(a))};
var Ho=function(){Bn.B();var a=nd(Fm,function(a){return"INFO"==a.name}),b=!tb("")&&[""],c="HangingGetChannel LcsPushChannel invalidation-hr goog.net.BrowserChannel webmonitoring.MemoryUsageReporter wiz.Dispatcher goog.net.NetworkTester BrowserChannelImpl bc-watchdog".split(" "),d=Bn.B();null!=a&&Hm(Mm(),a);if(b&&0<b.length)for(var a=function(a){d.o(a)},e=0;e<b.length;++e)Gm(P(b[e]),a);else Cn(d,!0);c&&0<c.length&&hd(c,function(a){d.j.fb(a)})};
var Io=function(a,b,c){wn.call(this,a,b,c,"connection")};r(Io,wn);Io.prototype.name="edulive.messaging.Error";var Jo=function(a,b,c,d){a=new sk(a);0!=b&&J(a,"authuser",b);null!=c&&J(a,"service",c);this.b=a.toString();this.ua=d;this.j=0};Jo.prototype.start=function(){Ko(this.ua)};Jo.prototype.send=function(a,b,c){var d=new sk(this.b),e;for(e in c)J(d,e,c[e]);co(d.toString(),t(this.c,this,this.j++),"POST",a,b,void 0,!0)};Jo.prototype.c=function(a,b){b=b.target;b.va()?L(this.ua.h,"post success."):(oo(b),K(this.ua.h,"error during post: "+a))};
var Lo=function(a,b,c,d,e){this.b=b;this.g=c;this.h=a;this.a=d;this.c=e;this.j=new ol;this.b.a(this);this.g.a(this);this.h&&this.h.a(this);this.a.a(this);this.c.a(this)};Lo.prototype.start=function(){this.j.start()};Lo.prototype.stop=function(){this.j.stop();this.a.stop()};
var Mo=function(){this.h=this.b=null},cn=function(a,b,c){a=t(function(){2==this.b.j.a?c.b():K(this.h,"Not running on internal thread since resources are not started %s, %s",b,c)},a);rn(a,b)};Mo.prototype.a=function(a){this.b=a;this.h=this.b.h};var No=function(a){this.h=P("invalidation-"+a)};r(No,Mn);No.prototype.a=function(){};var Oo=function(){this.h=this.b=null;this.g=new G};Oo.prototype.a=function(a){this.b=a.b;this.h=a.h};
Oo.prototype.c=function(a,b,c){var d=t(function(){this.g.set(a,b);c(new ad(0,""))},this);cn(this.b,0,new ta("writeKey",d))};Oo.prototype.j=function(a,b){var c=t(function(){var c=this.g.get(a);c?b(new ad(0,""),c):b(new ad(2,"No value present in map for "+a),"")},this);cn(this.b,0,new ta("readKey",c))};
var Po=function(a){this.a=a;a=function(){return!0};var b=t(this.required,this),c=t(function(a){return t(this.c,this,a)},this),d=c(0),e=t(this.g,this);this.j={Version:{major_version:[b,d],minor_version:[b,d]},ProtocolVersion:{version:[b]},ObjectIdP:{name:[b],source:[b,d]},InvalidationP:{object_id:[b],is_known_version:[b],version:[b,d],payload:[a],is_trickle_restart:[a]},RegistrationP:{object_id:[b],op_type:[b]},RegistrationSummary:{num_registrations:[b,d],registration_digest:[b,e]},InvalidationMessage:{invalidation:[b]},
ClientHeader:{protocol_version:[b],client_token:[a,e],registration_summary:[a],client_time_ms:[b],max_known_server_time_ms:[b],client_type:[a],message_id:[a]},ApplicationClientIdP:{client_type:[b],client_name:[b,e]},InitializeMessage:{client_type:[b],nonce:[b,e],digest_serialization_type:[b],application_client_id:[b]},RegistrationMessage:{registration:[b]},ClientVersion:{version:[b],platform:[b],language:[b],application_info:[b]},PropertyRecord:{name:[b],value:[b]},InfoMessage:{client_version:[b],
config_parameter:[a],performance_counter:[a],client_config:[a],server_registration_summary_requested:[a]},ClientConfigP:{version:[b],network_timeout_delay_ms:[a],write_retry_delay_ms:[a],heartbeat_interval_ms:[a],perf_counter_delay_ms:[a],max_exponential_backoff_factor:[a],smear_percent:[a],is_transient:[a],initial_persistent_heartbeat_delay_ms:[a],channel_supports_offline_delivery:[a],protocol_handler_config:[b],offline_heartbeat_threshold_ms:[a],allow_suppression:[a]},ProtocolHandlerConfigP:{batching_delay_ms:[a],
rate_limit:[a]},RateLimitP:{window_ms:[b,c(1E3)],count:[b]},RegistrationSubtree:{registered_object:[a]},RegistrationSyncMessage:{subtree:[b]},ClientToServerMessage:{header:[b],info_message:[a],initialize_message:[a],invalidation_ack_message:[a],registration_message:[a],registration_sync_message:[a]},ServerHeader:{protocol_version:[b],client_token:[b,e],registration_summary:[a],server_time_ms:[b,d],message_id:[a,e]},StatusP:{code:[b],description:[a]},TokenControlMessage:{new_token:[a]},ErrorMessage:{code:[b],
description:[b]},RegistrationStatus:{registration:[b],status:[b]},RegistrationStatusMessage:{registration_status:[b]},RegistrationSyncRequestMessage:{},InfoRequestMessage:{info_type:[b]},ConfigChangeMessage:{next_message_delay_ms:[a,c(1)]},ServerToClientMessage:{header:[b],token_control_message:[a],invalidation_message:[a],registration_status_message:[a],registration_sync_request_message:[a],config_change_message:[a],info_request_message:[a],error_message:[a]}}};r(Po,On);Po.prototype.b=function(){return this.j};
var Ro=function(a,b,c,d){this.g=a;this.l=b;this.o=c;this.h=d;this.b=null;this.v=Qo(this)};Ro.prototype.c=function(a,b,c){this.g.c(a,b,c);a==this.l&&(this.b=b)};Ro.prototype.j=function(a,b){return this.g.j(a,b)};Ro.prototype.a=function(a){this.g.a(a)};var Qo=function(a){a.b=$m(a.o);if(null!=a.b){var b=a.h;L(b,"Reusing existing state blob: %s",a.b);a.c(a.l,a.b,function(a){L(b,"Write state blob completed: %s",a)});return!0}return!1};
var To=function(a){Zd.call(this,a);this.b=0;null===So&&(So=Qn("webmonitoring.MemoryUsageReporter"))};r(To,Zd);var Uo=[{age:6E4,name:"1m"},{age:15E5,name:"25m"},{age:36E5,name:"1h"},{age:36E6,name:"10h"}];To.prototype.enable=function(){if(this.g)return!1;if(window.performance&&window.performance.memory){var a=new qn(6E4);Zb(this,ha($b,a));var b=new Om(this);Zb(this,ha($b,b));b.listen(a,"tick",this.c);a.start();this.setEnabled(!0);return!0}return!1};
To.prototype.c=function(){this.b+=6E4;for(var a="",b=0;b<Uo.length;++b)if(this.b==Uo[b].age){a=Uo[b].name;break}if(""!=a){var b=Vo.test(ec)?"":"32_bit_",c=window.performance.memory;if(c.totalJSHeapSize&&c.usedJSHeapSize){var a=[{name:"total_"+b+"js_heap_size_mb_"+a+"_raw",displayName:"Total JS heap (MB)",value:Math.round(c.totalJSHeapSize/1048576)},{name:"used_"+b+"js_heap_size_mb_"+a+"_raw",displayName:"Used JS heap (MB)",value:Math.round(c.usedJSHeapSize/1048576)}],b=Lk(window.location.href).b,
c="?product="+encodeURIComponent(this.a.a)+"&url="+encodeURIComponent(b),d=Mb(null);tb(d)||(c+="&version="+encodeURIComponent(d));for(d=0;d<a.length;++d)c+="&"+encodeURIComponent(a[d].name)+"="+a[d].value,la(null)&&null(b,a[d].displayName,a[d].value),T(So,a[d].displayName+" = "+a[d].value);co("https://clients2.google.com/cr/staging_perf"+c,Wo,"POST","",null,6E4,!0)}}}; var Wo=function(a){a=a.target;a.va()?T(So,"Memory stats uploaded successfully."):(a=oo(a),R(So,"Failed to upload memory stats! Response: "+a))},Vo=/(x86_64|Win64)/,So=null;
var Zo=function(a,b,c,d){this.g=b;this.j=c;this.c="__webmonitoring_RateThrottler_history_"+a;this.a=[];null===Xo&&(Xo=Qn("webmonitoring.RateThrottler"));this.b=null;d&&(this.b=new Rl);if(null!=this.b&&this.b.isAvailable()&&(a=this.b.get(this.c),null!=a))try{this.a=Pa(a)||[]}catch(e){R(Xo,"Could not parse old history.",e)}a=!1;oa(this.a)||(this.a=[],a=!0);for(;this.a.length>this.g;)this.a.shift(),a=!0;a&&Yo(this)},Yo=function(a){if(null!=a.b&&a.b.isAvailable())try{a.b.set(a.c,w(a.a))}catch(b){R(Xo, "Could not save history.",b)}};Zo.prototype.exec=function(a){var b=m();if(this.a.length==this.g)if(this.a[0]<b-this.j)this.a.shift();else return!1;this.a.push(b);Yo(this);null!=a&&a();return!0};var Xo=null;
var $o=function(a,b,c,d,e){this.b=a;this.a=b;this.j=c;this.c=d;this.g=e||1;this.v=45E3;this.o=new Om(this);a=this.l=new qn;a.c=250;a.oa&&a.wb?(a.stop(),a.start()):a.oa&&a.stop()};h=$o.prototype;h.Va=null;h.pa=!1;h.nb=null;h.Fc=null;h.Bb=null;h.kb=null;h.Oa=null;h.ma=null;h.jb=null;h.Y=null;h.Cb=0;h.xa=null;h.lb=null;h.Pa=null;h.yb=-1;h.rd=!0;h.Ra=!1;h.nc=0;h.Wb=null;
var ap=function(a,b){switch(a){case 0:return"Non-200 return code ("+b+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}},bp={},cp={};$o.prototype.setTimeout=function(a){this.v=a};
var ep=function(a,b,c){a.kb=1;a.Oa=Kk(b.clone());a.jb=c;a.I=!0;dp(a,null)},fp=function(a,b,c,d,e){a.kb=1;a.Oa=Kk(b.clone());a.jb=null;a.I=c;e&&(a.rd=!1);dp(a,d)},dp=function(a,b){a.Bb=m();gp(a);a.ma=a.Oa.clone();Jk(a.ma,"t",a.g);a.Cb=0;a.Y=a.b.fc(a.b.$b()?b:null);0<a.nc&&(a.Wb=new Sn(t(a.L,a,a.Y),a.nc));a.o.listen(a.Y,"readystatechange",a.D);b=a.Va?ib(a.Va):{};a.jb?(a.lb="POST",b["Content-Type"]="application/x-www-form-urlencoded",a.Y.send(a.ma,a.lb,a.jb,b)):(a.lb="GET",a.rd&&!of&&(b.Connection="close"),
a.Y.send(a.ma,a.lb,null,b));a.b.wa(1);var c=a.jb;if(c){b="";for(var c=c.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(1<e.length){var f=e[0],e=e[1],g=f.split("_");b=2<=g.length&&"type"==g[1]?b+(f+"="+e+"&"):b+(f+"=redacted&")}}}else b=null;a.a.info("XMLHTTP REQ ("+a.c+") [attempt "+a.g+"]: "+a.lb+"\n"+a.ma+"\n"+b)};$o.prototype.D=function(a){a=a.target;var b=this.Wb;b&&3==mo(a)?(this.a.debug("Throttling readystatechange."),b.Ce()):this.L(a)};
$o.prototype.L=function(a){try{if(a==this.Y)a:{var b=mo(this.Y),c=this.Y.c,d=no(this.Y);if(F&&!Ff(10)||of&&!Df("420+")){if(4>b)break a}else if(3>b||3==b&&!lf&&!oo(this.Y))break a;this.Ra||4!=b||7==c||(8==c||0>=d?this.b.wa(3):this.b.wa(2));hp(this);var e=no(this.Y);this.yb=e;var f=oo(this.Y);f||this.a.debug("No response text for uri "+this.ma+" status "+e);this.pa=200==e;this.a.info("XMLHTTP RESP ("+this.c+") [ attempt "+this.g+"]: "+this.lb+"\n"+this.ma+"\n"+b+" "+e);this.pa?(4==b&&ip(this),this.I?
(jp(this,b,f),lf&&this.pa&&3==b&&(this.o.listen(this.l,"tick",this.C),this.l.start())):(Xn(this.a,this.c,f,null),kp(this,f)),this.pa&&!this.Ra&&(4==b?this.b.Ub(this):(this.pa=!1,gp(this)))):(400==e&&0<f.indexOf("Unknown SID")?(this.Pa=3,lp(),this.a.ya("XMLHTTP Unknown SID ("+this.c+")")):(this.Pa=0,lp(),this.a.ya("XMLHTTP Bad status "+e+" ("+this.c+")")),ip(this),mp(this))}else this.a.ya("Called back with an unexpected xmlhttp")}catch(g){this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),
this.Y&&oo(this.Y)?Yn(this.a,g,"ResponseText: "+oo(this.Y)):Yn(this.a,g,"No response text")}finally{}};var jp=function(a,b,c){for(var d=!0;!a.Ra&&a.Cb<c.length;){var e=np(a,c);if(e==cp){4==b&&(a.Pa=4,lp(),d=!1);Xn(a.a,a.c,null,"[Incomplete Response]");break}else if(e==bp){a.Pa=4;lp();Xn(a.a,a.c,c,"[Invalid Chunk]");d=!1;break}else Xn(a.a,a.c,e,null),kp(a,e)}4==b&&0==c.length&&(a.Pa=1,lp(),d=!1);a.pa=a.pa&&d;d||(Xn(a.a,a.c,c,"[Invalid Chunked Response]"),ip(a),mp(a))};
$o.prototype.C=function(){var a=mo(this.Y),b=oo(this.Y);this.Cb<b.length&&(hp(this),jp(this,a,b),this.pa&&4!=a&&gp(this))};
var np=function(a,b){var c=a.Cb,d=b.indexOf("\n",c);if(-1==d)return cp;c=Number(b.substring(c,d));if(isNaN(c))return bp;d+=1;if(d+c>b.length)return cp;b=b.substr(d,c);a.Cb=d+c;return b},op=function(a,b){a.Bb=m();gp(a);var c=b?window.location.hostname:"";a.ma=a.Oa.clone();J(a.ma,"DOMAIN",c);J(a.ma,"t",a.g);try{a.xa=new ActiveXObject("htmlfile")}catch(g){R(a.a.h,"ActiveX blocked");ip(a);a.Pa=7;lp();mp(a);return}var d="<html><body>";if(b){b="";for(var e=0;e<c.length;e++){var f=c.charAt(e);b="<"==f?b+
"\\x3c":">"==f?b+"\\x3e":b+Jb(f)}d+='<script>document.domain="'+b+'"\x3c/script>'}d+="</body></html>";Pd("b/12014412");c=Re(d,null);a.xa.open();a.xa.write(Oe(c));a.xa.close();a.xa.parentWindow.m=t(a.Ue,a);a.xa.parentWindow.d=t(a.md,a,!0);a.xa.parentWindow.rpcClose=t(a.md,a,!1);c=a.xa.createElement("DIV");a.xa.parentWindow.document.body.appendChild(c);d=pe(a.ma.toString());d=Cb(me(d));Pd("b/12014412");d=Re('<iframe src="'+d+'"></iframe>',null);c.innerHTML=Oe(d);a.a.info("TRIDENT REQ ("+a.c+") [ attempt "+
a.g+"]: GET\n"+a.ma);a.b.wa(1)};h=$o.prototype;h.Ue=function(a){pp(t(this.Te,this,a),0)};h.Te=function(a){if(!this.Ra){var b=this.a;b.info("TRIDENT TEXT ("+this.c+"): "+Wn(b,a));hp(this);kp(this,a);gp(this)}};h.md=function(a){pp(t(this.Se,this,a),0)};h.Se=function(a){this.Ra||(this.a.info("TRIDENT TEXT ("+this.c+"): "+a?"success":"failure"),ip(this),this.pa=a,this.b.Ub(this),this.b.wa(4))};h.cancel=function(){this.Ra=!0;ip(this)};
var gp=function(a){a.Fc=m()+a.v;qp(a,a.v)},qp=function(a,b){if(null!=a.nb)throw Error("WatchDog timer not null");a.nb=pp(t(a.A,a),b)},hp=function(a){a.nb&&(k.clearTimeout(a.nb),a.nb=null)};$o.prototype.A=function(){this.nb=null;var a=m();0<=a-this.Fc?(this.pa&&R(this.a.h,"Received watchdog timeout even though request loaded successfully"),this.a.info("TIMEOUT: "+this.ma),2!=this.kb&&this.b.wa(3),ip(this),this.Pa=2,lp(),mp(this)):(this.a.ya("WatchDog timer called too early"),qp(this,this.Fc-a))};
var mp=function(a){a.b.cd()||a.Ra||a.b.Ub(a)},ip=function(a){hp(a);$b(a.Wb);a.Wb=null;a.l.stop();a.o.removeAll();if(a.Y){var b=a.Y;a.Y=null;b.abort();b.X()}a.xa&&(a.xa=null)},kp=function(a,b){try{a.b.Vb(a,b),a.b.wa(4)}catch(c){Yn(a.a,c,"Error in httprequest callback")}};
var sp=function(a,b,c,d,e){(new Vn).debug("TestLoadImageWithRetries: "+e);if(0==d)c(!1);else{var f=e||0;d--;rp(a,b,function(e){e?c(!0):k.setTimeout(function(){sp(a,b,c,d,f)},f)})}},rp=function(a,b,c){var d=new Vn;d.debug("TestLoadImage: loading "+a);var e=new Image;e.onload=function(){try{d.debug("TestLoadImage: loaded"),tp(e),c(!0)}catch(f){Yn(d,f)}};e.onerror=function(){try{d.debug("TestLoadImage: error"),tp(e),c(!1)}catch(f){Yn(d,f)}};e.onabort=function(){try{d.debug("TestLoadImage: abort"),tp(e),
c(!1)}catch(f){Yn(d,f)}};e.ontimeout=function(){try{d.debug("TestLoadImage: timeout"),tp(e),c(!1)}catch(f){Yn(d,f)}};k.setTimeout(function(){if(e.ontimeout)e.ontimeout()},b);e.src=a},tp=function(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};
var up=function(a,b,c,d){this.A=a;this.C=!!d;Um.call(this,b,c)};r(up,Um);up.prototype.j=function(){var a=new Zn,b=this.A;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.C&&(a.o=!0);return a};up.prototype.o=function(a){return!a.Da()&&!a.b};var vp=function(a){x.call(this);this.U=a||cj()};r(vp,x);vp.prototype.Za=0;var wp=function(a){return gj(a.U.a)};var xp=function(a,b,c){this.g=a;this.c=b;this.a=c;this.b=null};xp.prototype.open=function(){this.g.o(this)};var yp=function(a,b){this.L=b;this.c=[];this.I=new G;this.j=new G;this.b=null;this.D=0;this.h=new Mn("HangingGetChannel");this.C=new vo(this.h);this.l=a;this.g=!1;this.a=new Kf;D(this.a,2,2);a=this.a;var c=Rd(self.location.href);D(a,1,c);b=b.b;0!=b&&D(this.a,4,b);this.G=this.v=0;this.A=!1};h=yp.prototype;
h.Qc=function(a){5==C(this.a,2)?wm(this.h,"Cannot switch to OAuth with CORS enabled"):(D(this.a,2,3),D(this.a,3,a),zp(this))};h.open=function(){var a=this.L,b=a.l.toString(),c=a.j,d=a.a,a=(self.SharedWorker&&a.g(),!1),e=new If;D(e,2,c);null!==d&&D(e,4,d);D(e,8,!1);D(e,13,a);this.b=new Ap(b,this,e);zp(this);this.b.start();L(this.h,"Started a browser channel.")};h.close=function(){null!=this.b&&this.b.close()};h.X=function(){this.close();this.A=!0};h.Da=function(){return this.A};
var zp=function(a){if(Uk.contains(C(a.a,2))){var b=a.L.c(C(a.a,1));if(null!=b){var c=b.scheme,b=b.hash;b!=C(a.a,3)&&(D(a.a,2,wi[c]),D(a.a,3,b))}else D(a.a,3,"")}if(a.b&&(c=a.b,b=a.a,a=!c.g||C(c.g,3)!==C(b,3),c.g=b.clone(),c.a&&(b={},b=Vk(c.g,b),c.a.cb=b),a&&(a=c.j,c.j=1,2==a)))switch(c.l){case 1:case 2:a=c.M;b=m();b=Math.floor((b-a.b)/3E5);a.a=Math.min(a.a+b,8);a.b+=3E5*b;0<a.a?(a.a--,a=!0):a=!1;a?(L(c.h,"Opening immediately in response to user request"),2==c.j&&(c.j=0),Bp(c,c.c)):L(c.h,"Ignoring immediate connect request open because budget exhausted");
break;default:L(c.h,"Ignoring request to open immediately because already open(ing)")}},Cp=function(a,b){L(a.h,"Error %s",b);zp(a);a.l.wc(a,b)};yp.prototype.H=function(a){a=new xp(this,"tango_service",a);this.c.push(a);return a};var Dp=function(a,b){var c=a.I.get(C(b,2),null);null==c&&(c=a.j.get(C(b,1),null));return c};yp.prototype.o=function(a){if(this.g){var b=a.c;a=a.b;var c=new $f,d=new Sf;D(d,1,b);null!=a&&D(d,2,a);D(c,1,d);Ep(this,c)}};
var Ep=function(a,b){var c="c"+ ++a.G,d=m(),e=a.v,f=new Wf;D(f,1,si);D(f,3,d);D(f,4,e);D(f,5,c);c=new Qf;D(c,1,vi);D(c,2,li);D(c,3,"JS");D(c,4,"lcsclient");D(f,2,c);c=new Uf;D(c,1,f);b instanceof Yf?D(c,2,b):b instanceof $f?D(c,3,b):b instanceof bg&&D(c,6,b);if(Pn(a.C,c)){if(b={},f=kn(c),b.p=f,a=a.b,null!=a.a){a=a.a;if(0==a.b)throw Error("Invalid operation: sending map when state is closed");1E3==a.c.length&&(f="Already have 1000 queued maps upon queueing "+w(b),R(a.a.h,f));a.c.push(new Fp(a.Ne++, b));2!=a.b&&3!=a.b||Gp(a)}}else wm(a.h,"Attempted to send invalid client message: %s",c.toString())};
var Hp=function(a,b){N.call(this);this.b=a;this.id=b||window.location.pathname;this.G=!("undefined"==typeof window.chrome||!chrome||!chrome.runtime)};r(Hp,N);Hp.prototype.sendRequest=function(a,b,c){return new H(function(d,e){var f={sender:this.id,request:a,params:b,expectResponse:!0},g=c||4E4,g=new Rn(t(this.N,this,d,e,f),g);d=t(this.M,this,d,e,f,g);U(this.b,this.id+": Sending (and expect response):"+w(f));this.sendMessage(f,d);g.start()},this)};
Hp.prototype.sendMessage=function(a,b){if(!this.G)throw new Io("Not running in Chrome.",navigator.appVersion);chrome.runtime.sendMessage(a,b)};
Hp.prototype.M=function(a,b,c,d,e){var f=chrome.runtime.lastError;d.X();f?(S(this.b,this.id+": Failed sending "+c.request+". Reason: "+f.message),b(new Io("Failed to dispatch message. There was no recipient to receive the message.",f))):ka(e)&&(q(e.response)||q(e.error))?(Q(this.b,e.error?Bm:Em,this.id+": Received response: "+w(e)+" for message: "+w(c)),q(e.response)?a(e.response):b(new zn(e.error))):b(new Io("Invalid response from message request.",w(e)))}; Hp.prototype.N=function(a,b,c){S(this.b,this.id+": Failed to receive a response to "+c.request+" in the time alotted.");b(new Io("Failed to receive a response in the time alotted.",c.request,om))};
var Jp=function(a,b,c,d,e,f){var g=new yg;D(g,1,Di);D(g,2,li+"");D(g,3,"JS");D(g,4,d);this.L=g;this.a=a.h;this.A=a.a;this.j=e;this.I=f;this.v=1;this.o=this.l=0;this.c=b;this.b=new Ip(a,b);this.g=c},Ip=function(a,b){this.a=b;this.o=a;this.l=new G;this.b=new G;this.j=new G;this.c=this.g=null},Kp=function(a,b){this.a=a;this.b=b};Kp.prototype.toString=function(){return Gc("Token: %s, Summary: %s",null==this.a?"null":this.a,this.b.toString())};
var Lp=function(a){var b=C(a,1);this.a=new Kp(C(b,2),B(b,3)?C(b,3):null);this.c=B(a,2)?C(a,2):null;this.j=B(a,3)?C(a,3):null;this.l=B(a,4)?C(a,4):null;this.o=B(a,5)?C(a,5):null;B(a,6)&&C(a,6);this.g=B(a,7)?C(a,7):null;this.b=B(a,8)?C(a,8):null},Mp=function(a,b){var c=gh.getDescriptor();b=mn(c,b,a.a);if(null==b)return null;xm(a.a,"Incoming message: %s",b.toString());if(!Pn(a.I,b))return Ni(a.c,"INCOMING_MESSAGE_FAILURE"),wm(a.a,"Received invalid message: %s",b.toString()),null;c=C(b,1);if(3!=C(C(C(c,
1),1),1))return Ni(a.c,"PROTOCOL_VERSION_FAILURE"),wm(a.a,"Dropping message with incompatible version: %s",b.toString()),null;if(B(b,6))return b=C(b,6),Mi(a.c.a,"CONFIG_CHANGE"),B(b,1)&&(a.o=m()+hf(b,1)),null;a.l=Math.max(a.l,C(c,4));return new Lp(b)};
var Np=function(a,b,c,d,e){this.a=b;this.b=c;this.h=a;this.c=d;this.g=e},Op=function(a){return new Lo(a.h,a.a,a.b,a.c,a.g)};var Qp=function(a){Zd.call(this,a);this.v=100;this.A={};this.l=null;this.o="";this.b=null;this.c=!1;null===Pp&&(Pp=Qn("webmonitoring.JsErrorsReporter"))};r(Qp,Zd);Qp.prototype.enable=function(){if(this.g)return!1;this.j=window.onerror;window.onerror=this.D.bind(this);this.setEnabled(!0);return!0};
Qp.prototype.D=function(a,b,c,d,e){var f=Lk(window.location.href),g=null!=e&&null!=e.message?e.message:a;T(Pp,sb('The following error:" %s" occurred at URL: %s',g,f.b));if(la(this.l)&&!this.l(f.b,g,b,c,d,e))T(Pp,"The error was throttled by a custom handler and will not be uploaded.");else if(this.c){for(var l=Object.keys(this.A),n=100,p=0;p<l.length;++p){var z=l[p];(new RegExp(z)).test(g)&&(n=this.A[z])}(100*Math.random()).toFixed(6)>=this.v*n/100?T(Pp,"The error upload was throttled due to sampling."):
(null===this.b&&(this.b=new Zo("hourlyRate",10,36E5,!0)),(null===this.b?0:!this.b.exec())?T(Pp,"The error upload was throttled since it exceeded the maximum allowed hourly rate."):this.c&&(l=ib(this.a.c),l.url=f.b,l.type="JavascriptError",l.error_message=g,n="Other",lf?n="Opera":F?n="Internet Explorer":mi?n="Firefox":qi?n="Chrome":ri&&(n="Safari"),l.browser=n,l.browser_version=Sk,l.os=y("CrOS")?"Chrome OS":y("Linux")?"Linux":y("Windows")?"Windows":y("Android")?"Android":Id()?"iPhone":y("iPad")?"iPad":
y("iPod")?"iPod":y("Macintosh")?"Mac":"Unknown",n=ec,p="",y("Windows")?(p=/Windows (?:NT|Phone) ([0-9.]+)/,p=(n=p.exec(n))?n[1]:"0.0"):Jd()?(p=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,p=(n=p.exec(n))&&n[1].replace(/_/g,".")):y("Macintosh")?(p=/Mac OS X ([0-9_.]+)/,p=(n=p.exec(n))?n[1].replace(/_/g,"."):"10"):y("Android")?(p=/Android\s+([^\);]+)(\)|;)/,p=(n=p.exec(n))&&n[1]):y("CrOS")&&(p=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,p=(n=p.exec(n))&&n[1]),l.os_version=p||"",tb(this.o)||(l.guid=this.o),
null!=b&&(l.src=b),null!=c&&(l.line=c),null!=d&&(l.column=d),l.prod=this.a.a,l.ver=this.a.b,l=Rp(l),n=null!=e?Mb(e.stack):"",tb(g)||(p=n.split("\n"),-1<p[0].indexOf(g)&&(p.splice(0,1),n=p.join("\n"))),Sp(this,"https://clients2.google.com/cr/staging_report",l,n),f={product:this.a.a,url:f.b,js_errors_count:"1"},g=Mb(null),tb(g)||(f.version=g),Sp(this,"https://clients2.google.com/cr/staging_perf",Rp(f))))}null!=this.j&&la(this.j)&&this.j(a,b,c,d,e)};
var Rp=function(a){var b="",c;for(c in a)b+=tb(b)?"?":"&",b+=c+"="+encodeURIComponent(a[c]);return b},Sp=function(a,b,c,d){d=d||"";var e=tb(d)?{}:{"Content-Type":"text/plain"};co(b+c,a.C.bind(a,b),"POST",d,e,6E4,!0)};
Qp.prototype.C=function(a,b){b=b.target;switch(a){case "https://clients2.google.com/cr/staging_perf":a="Crash Performance Data Collector";break;case "https://clients2.google.com/cr/staging_report":a="Crash Report Collector"}var c=oo(b);b.va()?T(Pp,"JS exception successfully uploaded to "+a+";Response: "+c):R(Pp,"Failed uploading JS exception to "+a+". Response: "+c)};var Pp=null;
var Tp=function(a,b){this.a=a;this.b=b;this.c=new Hd};h=Tp.prototype;h.lc=null;h.na=null;h.Xb=!1;h.dd=null;h.Kb=null;h.tc=null;h.mc=null;h.ja=null;h.Ua=-1;h.xb=null;h.pb=null;h.connect=function(a){this.mc=a;a=Up(this.a,this.mc);lp();this.dd=m();var b=this.a.K;null!=b?(this.xb=b[0],(this.pb=b[1])?(this.ja=1,Vp(this)):(this.ja=2,Wp(this))):(Jk(a,"MODE","init"),this.na=new $o(this,this.b,void 0,void 0,void 0),this.na.Va=this.lc,fp(this.na,a,!1,null,!0),this.ja=0)};
var Vp=function(a){var b=Xp(a.a,a.pb,"/mail/images/cleardot.gif");Kk(b);sp(b.toString(),5E3,t(a.g,a),3,2E3);a.wa(1)};Tp.prototype.g=function(a){if(a)this.ja=2,Wp(this);else{lp();var b=this.a;b.a.debug("Test Connection Blocked");b.Ca=b.Ja.Ua;Yp(b,9)}a&&this.wa(2)};
var Wp=function(a){a.b.debug("TestConnection: starting stage 2");var b=a.a.N;if(null!=b)a.b.debug("TestConnection: skipping stage 2, precomputed result is "+b?"Buffered":"Unbuffered"),lp(),b?(lp(),Zp(a.a,a,!1)):(lp(),Zp(a.a,a,!0));else if(a.na=new $o(a,a.b,void 0,void 0,void 0),a.na.Va=a.lc,b=$p(a.a,a.xb,a.mc),lp(),!F||Ff(10))Jk(b,"TYPE","xmlhttp"),fp(a.na,b,!1,a.xb,!1);else{Jk(b,"TYPE","html");var c=a.na;a=!!a.xb;c.kb=3;c.Oa=Kk(b.clone());op(c,a)}};h=Tp.prototype;h.fc=function(a){return this.a.fc(a)};
h.abort=function(){this.na&&(this.na.cancel(),this.na=null);this.Ua=-1};h.cd=function(){return!1};
h.Vb=function(a,b){this.Ua=a.yb;if(0==this.ja)if(this.b.debug("TestConnection: Got data for stage 1"),b){try{var c=this.c.a(b)}catch(d){Yn(this.b,d);aq(this.a,this);return}this.xb=c[0];this.pb=c[1]}else this.b.debug("TestConnection: Null responseText"),aq(this.a,this);else if(2==this.ja)if(this.Xb)lp(),this.tc=m();else if("11111"==b){if(lp(),this.Xb=!0,this.Kb=m(),a=this.Kb-this.dd,!F||Ff(10)||500>a)this.Ua=200,this.na.cancel(),this.b.debug("Test connection succeeded; using streaming connection"),
lp(),Zp(this.a,this,!0)}else lp(),this.Kb=this.tc=m(),this.Xb=!1};
h.Ub=function(){this.Ua=this.na.yb;this.na.pa?0==this.ja?(this.b.debug("TestConnection: request complete for initial check"),this.pb?(this.ja=1,Vp(this)):(this.ja=2,Wp(this))):2==this.ja&&(this.b.debug("TestConnection: request complete for stage 2"),(!F||Ff(10)?!this.Xb:200>this.tc-this.Kb)?(this.b.debug("Test connection failed; not using streaming"),lp(),Zp(this.a,this,!1)):(this.b.debug("Test connection succeeded; using streaming connection"),lp(),Zp(this.a,this,!0))):(this.b.debug("TestConnection: request failed, in state "+ this.ja),0==this.ja?lp():2==this.ja&&lp(),aq(this.a,this))};h.$b=function(){return this.a.$b()};h.wa=function(a){this.a.wa(a)};
var bq=function(a,b,c,d,e,f){N.call(this);this.l=q(a)?a:1;this.o=q(e)?Math.max(0,e):0;this.v=!!f;this.c=new up(b,c,d,f);this.b=new G;this.j=new Om(this)};r(bq,N);var cq="ready complete success error abort timeout".split(" ");bq.prototype.send=function(a,b,c,d,e,f,g,l,n,p){if(this.b.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new dq(b,t(this.C,this,a),c,d,e,g,q(l)?l:this.l,n,q(p)?p:this.v);this.b.set(a,b);a=t(this.A,this,a);this.c.Nb(a,f);return b};
bq.prototype.abort=function(a,b){var c=this.b.get(a);if(c){var d=c.cc;c.Kc=!0;b&&(d&&(this.j.a(d,cq,c.Gc),Kl(d,"ready",function(){var a=this.c;a.b.remove(d)&&a.ob(d)},!1,this)),this.b.remove(a));d&&d.abort()}};bq.prototype.A=function(a,b){var c=this.b.get(a);c&&!c.cc?(this.j.listen(b,cq,c.Gc),b.l=Math.max(0,this.o),b.A=c.Ob(),b.o=c.bd(),c.cc=b,O(this,new eq("ready",this,a,b)),fq(this,a,b),c.Kc&&b.abort()):(a=this.c,a.b.remove(b)&&a.ob(b))};
bq.prototype.C=function(a,b){var c=b.target;switch(b.type){case "ready":fq(this,a,c);break;case "complete":a:{var d=this.b.get(a);if(7==c.c||c.va()||d.zb())if(O(this,new eq("complete",this,a,c)),d&&(d.Wc=!0,d.Vc)){a=d.Vc.call(c,b);break a}a=null}return a;case "success":O(this,new eq("success",this,a,c));break;case "timeout":case "error":this.b.get(a).zb()&&O(this,new eq("error",this,a,c));break;case "abort":O(this,new eq("abort",this,a,c))}return null};
var fq=function(a,b,c){var d=a.b.get(b);!d||d.Wc||d.zb()?(d&&(a.j.a(c,cq,d.Gc),a.b.remove(b)),a=a.c,a.b.remove(c)&&a.ob(c)):(d.rc(),c.send(d.vb(),d.Mb(),d.ic(),d.ub()))};bq.prototype.F=function(){bq.J.F.call(this);this.c.X();this.c=null;this.j.X();this.j=null;this.b.clear();this.b=null};var eq=function(a,b,c,d){Ed.call(this,a,b);this.id=c;this.cc=d};r(eq,Ed);
var dq=function(a,b,c,d,e,f,g,l,n){this.o=a;this.j=c||"GET";this.b=d;this.c=e||null;this.g=q(g)?g:1;this.a=0;this.Kc=this.Wc=!1;this.Gc=b;this.Vc=f;this.l=l||"";this.v=!!n;this.cc=null};h=dq.prototype;h.vb=function(){return this.o};h.Mb=function(){return this.j};h.ic=function(){return this.b};h.ub=function(){return this.c};h.bd=function(){return this.v};h.rc=function(){this.a++};h.zb=function(){return this.a>this.g};h.Ob=function(){return this.l};
var iq=function(a,b){vp.call(this,b);this.a=a;this.A=new Om(this);Zb(this,ha($b,this.A));this.l=new qn(100,wp(this));Zb(this,ha($b,this.l));this.g=new Ul;this.j=new Ul;this.b=new Ul;this.v=uo(10);this.o=null;this.c={};this.D=this.a.name;gq(this.a,this.a.name+"_"+hq(this.a));this.C=!1;bm(this.b,this.g);bm(this.b,this.j);am(this.b,this.De,this);this.b.da(!0);this.A.listen(this.l,"tick",this.ed);T(V,"DirectTransport created. role="+hq(this.a))};r(iq,vp);
var jq={},mq=function(a){var b=new kq(a.channelName,a.service,a.payload);a=b.a;var c=b.service,b=b.payload;U(V,"messageReceived: channel="+a+", service="+c+", payload="+b);var d=so[a];if(d)return d.b(c,b),!0;var d=lq(b)[0],e;for(e in so){var f=so[e];if(1==hq(f)&&!f.ka()&&"tp"==c&&"SETUP"==d)return gq(f,a),f.b(c,b),!0}T(V,"channel name mismatch; message ignored.");return!1};h=iq.prototype;h.Za=7;
h.bc=function(a){a=lq(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.g.a||this.g.da(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.j.a||this.j.da(!0),null!=this.o&&this.o!=b&&(T(V,"Sending SETUP and changing peer ID to: "+b),this.send("tp","SETUP,"+this.v)),this.o=b}};h.connect=function(){var a=wp(this);if(a){var b=ja(a);0==(jq[b]||0)&&null==qa("crosswindowmessaging.channel",a)&&ga("crosswindowmessaging.channel",mq,a);jq[b]++;this.C=!0;this.ed()}else U(V,"connect(): no window to initialize.")};
h.ed=function(){this.a.ka()?this.l.stop():(this.l.start(),this.send("tp","SETUP,"+this.v))};h.send=function(a,b){this.a.la?(a=new kq(this.D+"_"+(0==hq(this.a)?1:0),a,b),this.a.a.directSyncMode?this.Yc(a):this.c[ja(a)]=rn(t(this.Yc,this,a),0)):U(V,"send(): window not ready")};
h.Yc=function(a){var b=ja(a);this.c[b]&&delete this.c[b];try{var c=qa("crosswindowmessaging.channel",this.a.la)}catch(d){S(V,"Can't access other window, ignoring.",d);return}if(null===c)S(V,"Peer window had no global function.");else try{c({channelName:a.a,service:a.service,payload:a.payload}),T(V,"send(): channelName="+a.a+" service="+a.service+" payload="+a.payload)}catch(d){S(V,"Error performing call, ignoring.",d)}};h.De=function(){nq(this.a,0)};
h.F=function(){if(this.C){var a=wp(this),b=ja(a);1==--jq[b]&&ga("crosswindowmessaging.channel",null,a)}this.c&&(Va(this.c,function(a){sn(a)}),this.c=null);this.g&&(this.g.cancel(),delete this.g);this.j&&(this.j.cancel(),delete this.j);this.b&&(this.b.cancel(),delete this.b);iq.J.F.call(this)};var lq=function(a){a=a.split(",");a[1]=a[1]||null;return a},kq=function(a,b,c){this.a=a;this.service=b;this.payload=c};
var oq=function(a,b){vp.call(this,b);this.b=a;this.c=[];this.l=t(this.Vd,this)};r(oq,vp);h=oq.prototype;h.Za=2;h.Ac=!1;h.connect=function(){0==hq(this.b)?(this.a=this.b.gb,this.a.XPC_toOuter=t(this.hd,this)):this.Oc()};
h.Oc=function(){var a=!0;try{this.a||(this.a=wp(this).frameElement),this.a&&this.a.XPC_toOuter&&(this.g=this.a.XPC_toOuter,this.a.XPC_toOuter.XPC_toInner=t(this.hd,this),a=!1,this.send("tp","SETUP_ACK"),nq(this.b))}catch(b){R(V,"exception caught while attempting setup: "+b)}a&&(this.j||(this.j=t(this.Oc,this)),wp(this).setTimeout(this.j,100))};h.bc=function(a){if(0!=hq(this.b)||this.b.ka()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.g=this.a.XPC_toOuter.XPC_toInner;nq(this.b)};
h.hd=function(a,b){this.Ac||0!=this.c.length?(this.c.push({serviceName:a,payload:b}),1==this.c.length&&wp(this).setTimeout(this.l,1)):this.b.b(a,b)};h.Vd=function(){for(;this.c.length;){var a=this.c.shift();this.b.b(a.serviceName,a.payload)}};h.send=function(a,b){this.Ac=!0;this.g(a,b);this.Ac=!1};h.F=function(){oq.J.F.call(this);this.a=this.g=null};
var pq=function(a,b){vp.call(this,b);this.a=a;this.C=this.a.a.ppu;this.aa=this.a.a.lpu;this.l=[]},qq,rq;r(pq,vp);h=pq.prototype;h.$e=5;h.Za=4;h.Rb=0;h.mb=!1;h.Qb=!1;h.od=null;var sq=function(a){return"googlexpc_"+a.a.name+"_msg"},tq=function(a){return"googlexpc_"+a.a.name+"_ack"},vq=function(a){try{if(!a.Da()&&uq(a.a))return a.a.la.frames||{}}catch(b){U(V,"error retrieving peer frames")}return{}},wq=function(a,b){return vq(a)[b]};
pq.prototype.connect=function(){if(!this.Da()&&uq(this.a)){U(V,"transport connect called");if(!this.Qb){U(V,"initializing...");var a=sq(this);this.g=xq(this,a);this.v=wp(this).frames[a];a=tq(this);this.b=xq(this,a);this.o=wp(this).frames[a];this.Qb=!0}if(yq(this,sq(this))&&yq(this,tq(this)))U(V,"foreign frames present"),this.M=new zq(this,wq(this,sq(this)),t(this.Z,this)),this.G=new zq(this,wq(this,tq(this)),t(this.ba,this)),this.K();else{Q(V,M,"foreign frames not (yet) present");if(1==hq(this.a))this.od||
0<this.$e--||(Q(V,M,"Inner peer reconnect triggered."),gq(this.a,uo(10)),Q(V,M,"switching channels: "+this.a.name),Aq(this),this.Qb=!1,this.od=xq(this,"googlexpc_reconnect_"+this.a.name));else if(0==hq(this.a)){Q(V,M,"outerPeerReconnect called");for(var a=vq(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.a.name=e[2];Aq(this);this.Qb=!1;break}}}}wp(this).setTimeout(t(this.connect,this),
100)}}};
var xq=function(a,b){Q(V,M,"constructing sender frame: "+b);var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.C+"#INITIAL";wp(a).document.body.appendChild(c);return c},Aq=function(a){Q(V,M,"deconstructSenderFrames called");a.g&&(a.g.parentNode.removeChild(a.g),a.g=null,a.v=null);a.b&&(a.b.parentNode.removeChild(a.b),a.b=null,a.o=null)},yq=function(a,b){Q(V,M,"checking for receive frame: "+b);try{var c=
wq(a,b);if(!c||0!=c.location.href.indexOf(a.aa))return!1}catch(d){return!1}return!0};pq.prototype.K=function(){var a=vq(this);a[tq(this)]&&a[sq(this)]?(this.N=new Bq(this.C,this.v),this.j=new Bq(this.C,this.o),U(V,"local frames ready"),wp(this).setTimeout(t(function(){this.N.send("SETUP");this.mb=!0;U(V,"SETUP sent")},this),100)):(this.H||(this.H=t(this.K,this)),wp(this).setTimeout(this.H,100),U(V,"local frames not (yet) present"))};
var Cq=function(a){if(a.D&&a.P){if(nq(a.a),a.c){U(V,"delivering queued messages ("+a.c.length+")");for(var b=0,c;b<a.c.length;b++)c=a.c[b],a.a.b(c.service,c.payload);delete a.c}}else Q(V,M,"checking if connected: ack sent:"+a.D+", ack rcvd: "+a.P)};
pq.prototype.Z=function(a){Q(V,M,"msg received: "+a);if("SETUP"==a)this.j&&(this.j.send("SETUP_ACK"),Q(V,M,"SETUP_ACK sent"),this.D=!0,Cq(this));else if(this.a.ka()||this.D){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.j.send("ACK:"+c);Dq(this,a)}else d=c.substring(0,b),this.j.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.A=[]),this.A.push(a),b==c&&(Dq(this,this.A.join("")),delete this.A)}else S(V,
"received msg, but channel is not connected")};pq.prototype.ba=function(a){Q(V,M,"ack received: "+a);"SETUP_ACK"==a?(this.mb=!1,this.P=!0,Cq(this)):this.a.ka()?this.mb?parseInt(a.split(":")[1],10)==this.Rb?(this.mb=!1,Eq(this)):S(V,"got ack with wrong sequence"):S(V,"got unexpected ack"):S(V,"received ack, but channel not connected")};
var Eq=function(a){if(!a.mb&&a.l.length){var b=a.l.shift();++a.Rb;a.N.send(a.Rb+b);Q(V,M,"msg sent: "+a.Rb+b);a.mb=!0}},Dq=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substring(c+1);a.a.ka()?a.a.b(d,b):((a.c||(a.c=[])).push({service:d,payload:b}),Q(V,M,"queued delivery"))};pq.prototype.send=function(a,b){a=a+":"+b;if(!F||3800>=b.length)this.l.push("|"+a);else{b=b.length;for(var c=Math.ceil(b/3800),d=0,e=1;d<b;)this.l.push(","+e+"/"+c+"|"+a.substr(d,3800)),e++,d+=3800}Eq(this)};
pq.prototype.F=function(){pq.J.F.call(this);var a=Fq;rd(a,this.M);rd(a,this.G);this.M=this.G=null;kj(this.g);kj(this.b);this.v=this.o=this.g=this.b=null};
var Fq=[],Gq=t(function(){var a=Fq,b,c=!1;try{for(var d=0;b=a[d];d++)c=c||b.receive()}catch(e){if(T(V,"receive_() failed: "+e),b=b.g.a,T(V,"Transport Error"),b.close(),!a.length)return}a=m();c&&(qq=a);rq=window.setTimeout(Gq,1E3>a-qq?10:100)},pq),Hq=function(){U(V,"starting receive-timer");qq=m();rq&&window.clearTimeout(rq);rq=window.setTimeout(Gq,10)},Bq=function(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.c=a;this.b=b;this.a=0};
Bq.prototype.send=function(a){this.a=++this.a%2;a=this.c+"#"+this.a+encodeURIComponent(a);try{of?this.b.location.href=a:this.b.location.replace(a)}catch(b){R(V,"sending failed",b)}Hq()};var zq=function(a,b,c){this.g=a;this.b=b;this.c=c;this.a=this.b.location.href.split("#")[0]+"#INITIAL";Fq.push(this);Hq()};zq.prototype.receive=function(){var a=this.b.location.href;if(a!=this.a){this.a=a;if(a=a.split("#")[1])a=a.substr(1),this.c(decodeURIComponent(a));return!0}return!1};
var Jq=function(a,b){vp.call(this,b);this.a=a;this.c=this.a.a.pru;this.b=this.a.a.ifrid;of&&Iq()};r(Jq,vp);if(of)var Kq=[],Lq=0,Iq=function(){Lq||(Lq=window.setTimeout(function(){Mq()},1E3))},Mq=function(a){var b=m();for(a=a||3E3;Kq.length&&b-Kq[0].timestamp>=a;){var c=Kq.shift().Ie;kj(c);Q(V,M,"iframe removed")}Lq=window.setTimeout(Nq,1E3)},Nq=function(){Mq()};var Oq={};Jq.prototype.Za=3;Jq.prototype.connect=function(){wp(this).xpcRelay||(wp(this).xpcRelay=Pq);this.send("tp","SETUP")};
var Pq=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substr(c+1);if(F&&-1!=(c=d.indexOf("|"))){var e=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),f=d.substr(0,c),c=parseInt(d.substr(c+1),10),g=Oq[f];g||(g=Oq[f]={$c:[],nd:0,Zc:0});-1!=d.indexOf("++")&&(g.Zc=c+1);g.$c[c]=b;g.nd++;if(g.nd!=g.Zc)return;b=g.$c.join("");delete Oq[f]}else var e=d;so[a].b(e,decodeURIComponent(b))};Jq.prototype.bc=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),nq(this.a)):"SETUP_ACK"==a&&nq(this.a)};
Jq.prototype.send=function(a,b){b=encodeURIComponent(b);var c=b.length;if(F&&1800<c)for(var d=Nb(),e=0,f=0;e<c;f++){var g=b.substr(e,1800),e=e+1800;Qq(this,a,g,d+(e>=c?"++":"+")+f)}else Qq(this,a,b)};
var Qq=function(a,b,c,d){if(F){var e=wp(a).document.createElement("DIV"),f,g={onload:Pd("this.xpcOnload()"),sandbox:null},l={src:null,srcdoc:null},n={sandbox:""};f={};for(var p in l)f[p]=l[p];for(p in n)f[p]=n[p];for(p in g){var z=p.toLowerCase();if(z in l)throw Error('Cannot override "'+z+'" attribute, got "'+p+'" with value "'+g[p]+'"');z in n&&delete f[z];f[p]=g[p]}var g=null,Y,l="";if(f)for(Y in f){if(!Pe.test(Y))throw Error('Invalid attribute name "'+Y+'".');p=f[Y];if(null!=p){n=Y;z=p;if(z instanceof
Nd)z=Od(z);else if("style"==n.toLowerCase()){p=void 0;if(!ka(z))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof z+" given: "+z);if(!(z instanceof ge)){var Ka="";for(p in z){if(!/^[-_a-zA-Z0-9]+$/.test(p))throw Error("Name allows only [-_a-zA-Z0-9], got: "+p);var ia=z[p];if(null!=ia){if(ia instanceof Nd)ia=Od(ia);else if(je.test(ia)){for(var rb=!0,ab=!0,bb=0;bb<ia.length;bb++){var mg=ia.charAt(bb);"'"==mg&&ab?rb=!rb:'"'==mg&&rb&&(ab=!ab)}rb&&ab||
(ia="zClosurez")}else ia="zClosurez";Ka+=p+":"+ia+";"}}z=Ka?he(Ka):ie}z instanceof ge&&z.constructor===ge&&z.b===fe?p=z.a:(fa(z),p="type_error:SafeStyle");z=p}else{if(/^on/i.test(n))throw Error('Attribute "'+n+'" requires goog.string.Const value, "'+z+'" given.');if(n.toLowerCase()in Qe)if(z instanceof re)z=se(z);else if(z instanceof le)z=me(z);else if(u(z))z=pe(z).Na();else throw Error('Attribute "'+n+'" on tag "iframe" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+z+'" given.');
}z.Xa&&(z=z.Na());n=n+'="'+Cb(String(z))+'"';l+=" "+n}}Y="<iframe"+l;l=void 0;null!=l?oa(l)||(l=[l]):l=[];!0===ac.iframe?Y+=">":(g=Se(l),Y+=">"+Oe(g)+"</iframe>",g=g.tb());(f=f&&f.dir)&&(/^(ltr|rtl|auto)$/i.test(f)?g=0:g=null);f=Re(Y,g);e.innerHTML=Oe(f);e=e.childNodes[0];e.xpcOnload=Rq}else e=wp(a).document.createElement("IFRAME"),of?Kq.push({timestamp:m(),Ie:e}):Dl(e,"load",Rq);f=e.style;f.visibility="hidden";f.width=e.style.height="0px";f.position="absolute";f=a.c;f+="#"+a.a.name;a.b&&(f+=","+ a.b);f+="|"+b;d&&(f+="|"+d);f+=":"+c;e.src=f;wp(a).document.body.appendChild(e);Q(V,M,"msg sent: "+f)},Rq=function(){Q(V,M,"iframe-load");kj(this)};Jq.prototype.F=function(){Jq.J.F.call(this);of&&Mq(0)};
var Sq=function(a,b,c,d,e){vp.call(this,c);this.j=a;this.l=e||2;this.H=b||"*";this.D=new Om(this);this.o=new qn(100,wp(this));this.C=!!d;this.c=new Ul;this.g=new Ul;this.b=new Ul;this.K=uo(10);this.A=null;this.C?1==hq(this.j)?bm(this.b,this.c):bm(this.b,this.g):(bm(this.b,this.c),2==this.l&&bm(this.b,this.g));am(this.b,this.Ee,this);this.b.da(!0);this.D.listen(this.o,"tick",this.fd);T(V,"NativeMessagingTransport created.  protocolVersion="+this.l+", oneSidedHandshake="+this.C+", role="+hq(this.j))};
r(Sq,vp);Sq.prototype.a=null;Sq.prototype.G=!1;Sq.prototype.Za=1;var Tq={};Sq.prototype.v=0;
var Vq=function(a){var b=a.b.data;if(!u(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);U(V,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=so[e])return d.b(c,b,a.b.origin),!0;a=Uq(b)[0];for(var f in so)if(d=so[f],1==hq(d)&&!d.ka()&&"tp"==c&&("SETUP"==a||"SETUP_NTPV2"==a))return gq(d,e),d.b(c,b),!0;T(V,'channel name mismatch; message ignored"');return!1};
Sq.prototype.bc=function(a){var b=Uq(a);a=b[1];switch(b[0]){case "SETUP_ACK":Wq(this,1);this.c.a||this.c.da(!0);break;case "SETUP_ACK_NTPV2":2==this.l&&(Wq(this,2),this.c.a||this.c.da(!0));break;case "SETUP":Wq(this,1);Xq(this,1);break;case "SETUP_NTPV2":2==this.l&&(b=this.a,Wq(this,2),Xq(this,2),1!=b&&null==this.A||this.A==a||(T(V,"Sending SETUP and changing peer ID to: "+a),Yq(this)),this.A=a)}};
var Yq=function(a){2!=a.l||null!=a.a&&2!=a.a||a.send("tp","SETUP_NTPV2,"+a.K);null!=a.a&&1!=a.a||a.send("tp","SETUP")},Xq=function(a,b){if(2!=a.l||null!=a.a&&2!=a.a||2!=b){if(null!=a.a&&1!=a.a||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.g.a||a.g.da(!0)},Wq=function(a,b){b>a.a&&(a.a=b);1==a.a&&(a.g.a||a.C||a.g.da(!0),a.A=null)};h=Sq.prototype;
h.connect=function(){var a=wp(this),b=ja(a),c=Tq[b];ma(c)||(c=0);0==c&&Dl(a.postMessage?a:a.document,"message",Vq,!1,Sq);Tq[b]=c+1;this.G=!0;this.fd()};h.fd=function(){var a=0==hq(this.j);this.C&&a||this.j.ka()||this.Da()?this.o.stop():(this.o.start(),Yq(this))};
h.send=function(a,b){var c=this.j.la;c?(this.send=function(a,b){var d=this,e=this.j.name;this.v=rn(function(){d.v=0;try{var f=c.postMessage?c:c.document;f.postMessage?(f.postMessage(e+"|"+a+":"+b,d.H),U(V,"send(): service="+a+" payload="+b+" to hostname="+d.H)):S(V,"Peer window had no postMessage function.")}catch(n){S(V,"Error performing postMessage, ignoring.",n)}},0)},this.send(a,b)):U(V,"send(): window not ready")};h.Ee=function(){nq(this.j,1==this.l||1==this.a?200:void 0)};
h.F=function(){if(this.G){var a=wp(this),b=ja(a),c=Tq[b];Tq[b]=c-1;1==c&&Ll(a.postMessage?a:a.document,"message",Vq,!1,Sq)}this.v&&(sn(this.v),this.v=0);$b(this.D);delete this.D;$b(this.o);delete this.o;this.c.cancel();delete this.c;this.g.cancel();delete this.g;this.b.cancel();delete this.b;delete this.send;Sq.J.F.call(this)};var Uq=function(a){a=a.split(",");a[1]=a[1]||null;return a};
var Zq=function(a,b){vp.call(this,b);this.a=a;this.b=a.at||"";this.c=a.rat||"";a=wp(this);if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){R(V,"exception caught while attempting global setup: "+c)}this.GCXPC____NIXJS_handle_message=this.Fe;this.GCXPC____NIXJS_create_channel=this.Td};r(Zq,vp);h=Zq.prototype;h.Za=6;h.ib=!1;h.Qa=null;h.connect=function(){0==hq(this.a)?this.Nc():this.Mc()};
h.Nc=function(){if(!this.ib){var a=this.a.gb;try{a.contentWindow.opener=(0,wp(this).GCXPC____NIXVBS_get_wrapper)(this,this.b),this.ib=!0}catch(b){R(V,"exception caught while attempting setup: "+b)}this.ib||wp(this).setTimeout(t(this.Nc,this),100)}};
h.Mc=function(){if(!this.ib){try{var a=wp(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Qa=a;if(this.Qa.GetAuthToken()!=this.c){R(V,"Invalid auth token from other party");return}this.Qa.CreateChannel((0,wp(this).GCXPC____NIXVBS_get_wrapper)(this,this.b));this.ib=!0;nq(this.a)}}catch(b){R(V,"exception caught while attempting setup: "+b);return}this.ib||wp(this).setTimeout(t(this.Mc,this),100)}};
h.Td=function(a){"unknown"==typeof a&&"GCXPC____NIXVBS_container"in a||R(V,"Invalid NIX channel given to createChannel_");this.Qa=a;this.Qa.GetAuthToken()!=this.c?R(V,"Invalid auth token from other party"):nq(this.a)};h.Fe=function(a,b){wp(this).setTimeout(t(function(){this.a.b(a,b)},this),1)};h.send=function(a,b){"unknown"!==typeof this.Qa&&R(V,"NIX channel not connected");this.Qa.SendMessage(a,b)};h.F=function(){Zq.J.F.call(this);this.Qa=null};
var W=function(a,b){b=b||P("edulive.messaging.InternalMessageDispatcher");Hp.call(this,b,a);this.l=t(this.H,this);chrome.runtime.onMessage.addListener(this.l);chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.addListener(this.l);this.A=t(this.C,this);chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.addListener(this.A);this.c={};this.j={};this.v={}};r(W,Hp);v(W);
W.prototype.F=function(){hd($a(this.j),function(a){$q(this,a,!0)},this);this.c={};chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.removeListener(this.A);chrome.runtime.onMessageExternal&&chrome.runtime.onMessageExternal.removeListener(this.l);chrome.runtime.onMessage.removeListener(this.l);W.J.F.call(this)};
var Eo=function(a,b,c){b={sender:a.id,request:b,params:c,expectResponse:!1};U(a.b,a.id+": Sending : "+w(b));a.sendMessage(b)},X=function(a,b,c){if(cb(a.c,b))throw new Io("Handler already installed for the message.",b);a.c[b]=c},Z=function(a,b,c){cb(a.c,b)&&a.c[b]==c&&delete a.c[b]};W.prototype.sendMessage=function(a,b){b&&ar(this,a,b)||W.J.sendMessage.call(this,a,b);b||br(this,a)};var br=function(a,b){Va(a.j,function(a){a.postMessage(b)},a)};
W.prototype.H=function(a,b,c){if(!q(a)||!ka(a))return!1;if(!Vd(a,["sender","request","expectResponse"]))return S(this.b,this.id+": Invalid message: "+w(a)+" from: "+w(b)),!1;U(this.b,this.id+": Received message: "+w(a)+" from: "+w(b));if(a.expectResponse)return b.id==chrome.runtime.id&&a.sender==this.id?!1:ar(this,a,c);O(this,new Td(this,a));return!1};
var ar=function(a,b,c){var d=b.request;if(!cb(a.c,d))return!1;var e=new Td(a,b);try{var f=(0,a.c[d])(e);if(f){var g=t(a.K,a,b,c),l=t(a.o,a,b,c);f.then(g,l)}return!!f}catch(n){return a.o(b,c,n),!1}};W.prototype.K=function(a,b,c){try{JSON.stringify(c),U(this.b,"Responding to "+w(a)+" with "+w(c)),b({response:c})}catch(d){this.o(a,b,d)}};
W.prototype.o=function(a,b,c){if("Attempting to use a disconnected port object"==c.message)S(this.b,a.sender+" disconnected! Cannot respond to "+w(a));else{c instanceof Error&&(c=new zn(c));try{JSON.stringify(c),S(this.b,"Responding to "+w(a)+" with the error "+w(c)),b({error:Object(c)})}catch(d){S(this.b,"Failed to serialize: "+(la(c.toString)?c.toString():c)+". Returning "+(la(d.toString)?d.toString():d)+" instead."),this.o(a,b,d)}}};
var $q=function(a,b,c){T(a.b,"Ending connection with "+b);var d=a.j[b];d&&(fb(a.j,b),c&&d.disconnect(),c=a.v[b],fb(a.v,b),d.onDisconnect.removeListener(c))};
W.prototype.C=function(a){if(a.name!=this.id)U(this.b,"Ignoring connection from "+JSON.stringify(a)+" because it is for another page.");else{var b=a.sender;if(b){var c=[];b.id&&c.push(b.id);b.url&&c.push(b.url);c.length?(b=c.join("|"),cb(this.j,b)?(S(this.b,"Already have a connection with "+b+". Disconnecting"),a.disconnect()):(T(this.b,"Establishing connection with "+b),this.j[b]=a,c=t(this.D,this,b),a.onDisconnect.addListener(c),this.v[b]=c)):(S(this.b,"Could not find an id for "+JSON.stringify(a)+ ". Disconnecting."),a.disconnect())}}};W.prototype.D=function(a){$q(this,a)};
var ir=function(a,b,c,d,e,f,g){this.D=null==b?Math.random:b;this.G=a;this.I=a.b;this.h=a.h;this.g=g;this.c=e;b=new Fg;D(b,1,c);D(b,2,d);this.aa=b;this.a=new Li;this.M=new qm;this.j=new Kn(this.h,this.a,this.M);this.ha=new Po(this.h);this.C=new Vc(this.D,hf(e,7));hf(e,10);this.v=new Jp(a,this.a,c,f,this,this.ha);this.o=new ol;this.l=this.b=null;this.K=!1;this.ca=m();this.N=!0;this.sa=this.ca;this.H=this.P=this.U=0;this.Z=new cr(this);this.Fb=new dr(this);this.Eb=new er(this);this.ra=new fr(this);a=
hf(this.c,10);this.L=new gr(this.I,this.h,this.C,hf(a,1),this.v);a=t(this.Ha,this);this.G.a.I=a;a=t(this.Db,this);this.G.a.L.push(a);this.ba=new yi;hr.push(this);L(this.h,"Created client: %s",this)},hr=[],cr=function(a){var b=a.c,c=jr(a,hf(b,2));bn.call(this,"AcquireToken",a.I,a.h,a.C,c,0,hf(b,2));this.b=a};r(cr,bn);
cr.prototype.a=function(){var a=this.b;if(null==a.b){kr(a,(0,this.b.D)().toString());var b=a.v,c=a.aa,a=a.l,d=this.b.L;C(c,1)!=b.g&&K(b.a,"Client type in application id does not match constructor-provided type: %s vs %s",c,b.g);var e=b.g,f=new Sg;D(f,1,e);D(f,3,c);D(f,4,2);D(f,2,a);b.b.g=f;L(b.a,"Batching initialize message for client: %s, %s","AcquireToken",f);an(d,!1,"AcquireToken");return!0}return!1};
var dr=function(a){var b=hf(a.c,2),c=jr(a,b);bn.call(this,"RegSyncHeartbeat",a.I,a.h,a.C,c,b,b);this.b=a};r(dr,bn);dr.prototype.a=function(){var a=this.b;if(Ln(a.j))return L(a.h,"Not sending message since state is now in sync"),!1;L(a.h,"Registration state not in sync with server: %s",a.j);a.A(!1,!0);return!0};var er=function(a){var b=a.c,c=jr(a,hf(b,3));bn.call(this,"PersistentWrite",a.I,a.h,a.C,c,0,hf(b,3));this.v=a;this.b=null};r(er,bn);
er.prototype.a=function(){var a=this.v,b=a.b,c=ml(b),d=In(c,a.M);if(null==b||b==this.b)return!1;b=function(b){L(a.h,"Write state completed: %s",b);b.va()?this.b=C(c,1):Ni(a.a,"PERSISTENT_WRITE_FAILURE")}.bind(this);a.G.c.c("ClientToken",d,b);return!0};var fr=function(a){bn.call(this,"Heartbeat",a.I,a.h,a.C,null,hf(a.c,4),0);this.v=a;this.b=0};r(fr,bn);
fr.prototype.a=function(){var a=this.v;L(a.h,"Sending heartbeat to server: %s",a.toString());var b=this.b<=m();if(b){var c=hf(a.c,5);this.b=m()+Wc(this.j,c)}a.A(b,!Ln(a.j));return!0};var gr=function(a,b,c,d,e){bn.call(this,"Batching",a,b,c,null,d,0);this.b=e};r(gr,bn);
gr.prototype.a=function(){var a=this.b;if(a.o>m())K(a.a,"In quiet period: not sending message to server: %s > %s",a.o,m());else{var b;b=a.b;var c=null!=a.j.b,d=new Qg,e=b.o.h;null!=b.g&&(Mi(b.a.b,"INITIALIZE"),D(d,2,b.g),b.g=null);if(c||B(d,2)){if(0!=b.b.c){c=b.b.S();b.b.clear();for(var f=new qh,g=0;g<c.length;g++)ff(f,1,c[g]);D(d,5,f);Mi(b.a.b,"INVALIDATION_ACK")}if(0!=b.l.c){c=b.l.S();b.l.clear();f=new Vg;for(g=0;g<c.length;g++)ff(f,1,c[g]);D(d,3,f);Mi(b.a.b,"REGISTRATION")}if(0!=b.j.c){c=new Xg;
f=b.j.S();for(g=0;g<f.length;g++)ff(c,1,f[g]);D(d,4,c);b.j.clear();Mi(b.a.b,"REGISTRATION_SYNC")}null!=b.c&&(Mi(b.a.b,"INFO"),D(d,6,b.c),b.c=null);xm(e,"Created message to server: %s",d.toString());b=d}else K(e,"Cannot send message since no token and no initialize msg: %s",d.toString()),Ni(b.a,"TOKEN_MISSING_FAILURE"),b=null;null!=b&&(d=new Og,D(d,1,Ai),e=m(),D(d,4,e),D(d,6,a.v.toString()),D(d,5,a.l),e=Jn(a.j.j),D(d,3,e),D(d,7,a.g),e=a.j.b,null!=e&&(xm(a.a,"Sending token on client->server message: %s",
e),D(d,2,e)),D(b,1,d),a.v++,d=b,Pn(a.I,d)?(e=B(C(d,1),2),d=B(d,2)?!e:e):d=!1,d?(xm(a.a,"Sending message to server: %s",b.toString()),Mi(a.c.b,"TOTAL"),b=kn(b),a.A.sendMessage(b),a.j.H=m()):(wm(a.a,"Tried to send invalid msg: %s",b.toString()),Ni(a.c,"OUTGOING_MESSAGE_FAILURE")))}return!1};var lr=function(){var a=new zh;D(a,1,Ci);var b=new xh,c=new vh;D(c,1,5E3);D(c,2,3);ff(b,2,c);D(a,10,b);return a};
ir.prototype.start=function(){2==this.o.a?wm(this.h,"Ignoring start call since already started: client = %s",this.toString()):(kr(this,(0,this.D)().toString()),L(this.h,"Starting with JS config: %s",this.c.toString()),mr(this))};ir.prototype.stop=function(){K(this.h,"Ticl being stopped: %s",this);2==this.o.a&&this.o.stop();var a=fd(hr,this);-1<a&&hr.splice(a,1)};ir.prototype.register=function(a){nr(this,Array.prototype.slice.call(arguments),1)};
ir.prototype.unregister=function(a){nr(this,Array.prototype.slice.call(arguments),2)};
var nr=function(a,b,c){if(3==a.o.a)wm(a.h,"Ticl stopped: register (%s) of %s ignored",c,b);else if(2==a.o.a){for(var d=[],e=0;e<b.length;e++)n=b[e],n=um(n),Mi(a.a.c,1==c?"REGISTRATION":"UNREGISTRATION"),L(a.h,"Register %s, %s",n.toString(),c),d.push(n);b=a.j;for(e=0;e<d.length;e++)b.b.set(kn(d[e]),c);if(1==c){b=b.a;e=[];for(n=0;n<d.length;n++){var f=d[n],g=sm(f,b.b),g=new gn(g,f);b.a.contains(g)||(b.a.fb(g),e.push(f))}0<e.length&&en(b);d=e}else d=b.a.remove(d);if(a.K&&0<d.length){b=a.v;e=a.L;c=1==
c;for(n=0;n<d.length;n++){var f=b.b,g=d[n],l=ll(g,c);f.l.set(kn(g),l)}an(e,!1,"Send-registrations")}an(a.Fb,!1,"performRegister")}else{wm(a.h,"Ticl is not yet started; failing registration call; client = %s, objects = %s, op = %s",a.toString(),b,c);for(var e=0;e<b.length;e++){var n=b[e];or(a.g,a,n,!0,"Client not yet ready")}}};
ir.prototype.Gb=function(a){var b=mn(Pi.getDescriptor(),a.a,this.h);if(null==b)K(this.h,"Bad ack handle : %s",a.a),Ni(this.a,"ACKNOWLEDGE_HANDLE_FAILURE");else{if(a=B(b,1))a=C(b,1),a=Pn(this.ha,a);if(a){b=C(b,1);df(b,4);Mi(this.a.c,"ACKNOWLEDGE");a=this.v;var c=this.L;xm(a.a,"Sending ack for invalidation %s",b.toString());a.b.b.set(kn(b),b);an(c,!1,"Send-ack");a=this.ba;if(C(b,6)&&C(b,2)){var c=zi(C(b,1)),b=rc(C(b,3)),d=a.a.get(c,vc());0<Bc(b,d)&&a.a.set(c,b)}}else K(this.h,"Incorrect ack handle: %s",
b),Ni(this.a,"ACKNOWLEDGE_HANDLE_FAILURE")}};ir.prototype.Db=function(a){var b=this.N;(this.N=a)&&!b&&m()>this.H+hf(this.c,12)&&(L(this.h,"Sending heartbeat after reconnection: previous send was %s ms ago",m()-this.H),this.A(!0,!Ln(this.j)));if(a!=b){a=m();var c=a-this.H;this.sa=a;b?(this.U+=c,Ni(this.a,"NETWORK_DISCONNECTED")):this.P+=c}};
ir.prototype.Ha=function(a){Mi(this.a.a,"TOTAL");var b=Mp(this.v,a);if(null==b)K(this.h,"Ignoring invalid message: %s",a);else if(pr(this,b)){if(null!=b.c){Mi(this.a.a,"TOKEN_CONTROL");a=b.a.a;var c=B(b.c,1)?C(b.c,1):null;if(null!=c){var d=a==this.b;a==this.l||d?(L(this.h,"New token being assigned at client: %s, Old = %s",c,this.b),an(this.ra,!1,"Heartbeat-after-new-token"),kr(this,null),qr(this,c),an(this.Eb,!1,"Write-after-new-token")):L(this.h,"Ignoring new token; %s does not match nonce = %s or existing token = %s",
c,this.l,this.b)}else L(this.h,"Destroying existing token: %s",this.b),qr(this,null),an(this.Z,!1,"Destroy")}if(null!=this.b){c=b.a;if(null!=c.b){this.K=!0;d=this.j;a=c.b;null!=a&&(d.c=a);a=[];if(Ln(d)){for(var e=d.b.$(),f=(new Dg).getDescriptor(),g=0;g<e.length;g++){var l=mn(f,e[g],d.h),n=1==d.b.get(e[g]),l=ll(l,n);a.push(l)}d.b.clear()}xm(this.h,"Receivced new server registration summary (%s); will make %s upcalls",c.b,a.length);for(c=0;c<a.length;c++)e=a[c],d=tm(C(e,1)),e=C(e,2),rr(this.g,this,
d,1==e?0:1)}if(null!=b.j)for(Mi(this.a.a,"INVALIDATION"),a=ef(b.j,1)||[],c=0;c<a.length;c++)if(e=d=a[c],f=new Pi,D(f,1,e),e=kn(f),e=new cd(e),f=this.ba,l=d,C(l,2)?(g=zi(C(l,1)),l=rc(C(l,3)),f=f.a.get(g,vc()),f=0<=Bc(f,l)):f=!1,f)L(this.h,"Stale invalidation %s, not delivering",d),this.Gb(e),Mi(this.a.a,"STALE_INVALIDATION");else if(C(d,1).T(Ei))L(this.h,"Issuing invalidate all"),d=this.g,U(d.h,"invalidateAll()"),sr(d,"refreshAll"),d.hb={},tr(d),d.l(e),Mi(this.a.j,"INVALIDATE_ALL");else if(f=d,g=tm(C(f,
1)),l=parseInt(C(f,3),10),n=B(f,4)?C(f,4):void 0,B(f,6)&&C(f,6),f=new $c(g,l,n),g=hf(d,6),l=hf(this.c,13),L(this.h,"Issuing invalidate (known-version = %s, is-trickle-restart=%s): %s",C(d,2),g,f),!C(d,2)||g&&!l)ur(this.g,f.a,e);else{d=this.g;g=[f.a.a,f.c,f.b];U(d.h,"invalidate("+g.join(", ")+")");l=void 0;try{var p=f.b,l=p?new un(Qa(p)):void 0}catch(z){n=z instanceof Error?z.toString():JSON.stringify(z),S(d.h,'Invalid payload: "'+f.b+'". For invalidation: "'+g.join(", ")+'". Ignoring payload. Reason: '+
n)}vr(d,f.a,f.c,l);d.l(e)}if(null!=b.l){Mi(this.a.a,"REGISTRATION_STATUS");p=ef(b.l,1)||[];c=this.j;a=[];for(d=0;d<p.length;d++)l=p[d],e=C(C(l,1),1),c.b.remove(kn(e)),f=!0,1==C(C(l,2),1)?(g=c.a.contains(e),l=1==C(C(l,1),2),l!=g&&(c.a.remove([e]),Ni(c.g,"REGISTRATION_DISCREPANCY"),L(c.h,"Ticl discrepancy detected: registered = %s, requested = %s. Removing %s from requested",l,g,e.toString()),f=!1)):(c.a.remove([e]),xm(c.h,"Removing %s from committed",e.toString()),f=!1),a.push(f);for(c=0;c<p.length;++c)e=
p[c],f=a[c],xm(this.h,"Process reg status: %s",e),d=C(C(e,1),1),d=tm(d),f?(e=C(C(e,1),2),rr(this.g,this,d,1==e?0:1)):(f=C(e,2),e=1==C(f,1)?"Registration discrepancy detected":C(C(e,2),2),f=3==C(f,1),or(this.g,this,d,!f,e))}if(null!=b.o){Mi(this.a.a,"REGISTRATION_SYNC_REQUEST");c=this.j;p=new Zg;a=[];c=c.a.a.S();for(d=0;d<c.length;d++)a.push(c[d].uc);for(c=0;c<a.length;c++)ff(p,1,a[c]);a=this.v;c=this.L;a.b.j.set(kn(p),p);L(a.a,"Adding subtree: %s",p.toString());an(c,!1,"Send-reg-sync")}if(null!=b.g){Mi(this.a.a,
"INFO_REQUEST");p=ef(b.g,1)||[];a=!1;for(c=0;c<p.length&&!(a=1==p[c]);c++);this.A(a,!Ln(this.j))}if(null!=b.b&&(Mi(this.a.a,"ERROR"),p=C(b.b,1),b=C(b.b,2),wm(this.h,"Received error message: %s, %s",p,null!=b?b.toString():"null"),wr(this.g),1==p)){p=this.j;d=new G;c=p.a.removeAll();for(a=0;a<c.length;a++)d.set(kn(c[a]),"");c=p.b.$();for(a=0;a<c.length;a++)d.set(c[a],"");p.b.clear();c=[];d=d.$();e=(new Dg).getDescriptor();for(a=0;a<d.length;a++)f=mn(e,d[a],p.h),c.push(f);K(this.h,"Issuing failure for %d objects",
c.length);for(p=0;p<c.length;p++)a=tm(c[p]),or(this.g,this,a,!1,"Auth error: "+b)}}}};
var pr=function(a,b){if(null!=a.b)return a.b!=b.a.a?(L(a.h,"Incoming message has bad token: server = %s, client = %s",b.a.a,a.b),Ni(a.a,"TOKEN_MISMATCH"),!1):!0;if(null!=a.l){if(a.l!=b.a.a)return Ni(a.a,"NONCE_MISMATCH"),L(a.h,"Rejecting server message with mismatched nonce: Client = %s, Server = %s",a.l,b.a.a),!1;L(a.h,"Accepting server message with matching nonce: %s",a.l);return!0}K(a.h,"Neither token nor nonce was set in validateToken: %s, %s",a.b,a.l);return!1};
ir.prototype.A=function(a,b){L(this.h,"Sending info message to server; request server summary = %s",b);var c=new G,d=null;if(a){a=this.a;Oi(a.b,c,"SentMessageType");Oi(a.a,c,"ReceivedMessageType");Oi(a.c,c,"IncomingOperationType");Oi(a.j,c,"ListenerEventType");Oi(a.g,c,"ClientErrorType");a=m();c.set("NonCounterType.CLIENT_UPTIME_MS",a-this.ca);a-=this.sa;var d=this.U,e=this.P,f;this.N?(d+=a,f=1):(e+=a,f=0);c.set("NonCounterType.IS_NETWORK_ONLINE",f);c.set("NonCounterType.NETWORK_STATUS_DURATION_MS",
a);c.set("NonCounterType.TOTAL_NETWORK_UPTIME_MS",d);c.set("NonCounterType.TOTAL_NETWORK_DOWNTIME_MS",e);d=this.c}a=this.v;f=d;d=this.L;e=new ah;D(e,1,a.L);null!=f&&D(e,5,f);f=c.$();for(var g=0;g<f.length;g++){var l=f[g],n=c.get(f[g]),p=new ch;D(p,1,l);D(p,2,n);ff(e,3,p)}D(e,4,b);a.b.c=e;an(d,!1,"Send-info")};
var mr=function(a){a.G.c.j("ClientToken",t(function(a,c){c=a.va()?c:null;a.va()||(Ni(this.a,"PERSISTENT_READ_FAILURE"),K(this.h,"Could not read state blob: %s",a.getMessage()));if(null==c)a=null;else{a=this.h;var b=this.M,e=Ti.getDescriptor(),e=mn(e,c,a),f=null==e?null:C(e,1);null==f?a=null:(b=Hn(f,b),aj(b.a)!=C(e,2)?(a&&K(a,"Ticl state failed MAC check: computed %s vs %s",b,C(e,2)),a=null):a=f)}null!=c&&null==a&&(Ni(this.a,"PERSISTENT_DESERIALIZATION_FAILURE"),wm(this.h,"Failed deserializing persistent state: %s",
c));null!=a?(c=C(a,1),L(this.h,"Restarting from persistent state: %s",c),kr(this,null),qr(this,c),this.K=!1,c=new ta("SendFirstPersistentInfo",t(this.A,this,!1,!0)),a=hf(this.c,9),cn(this.I,a,c),an(this.ra,!1,"Startup-after-persistence")):(L(this.h,"Starting with no previous state"),this.K=!0,qr(this,null),an(this.Z,!1,"Startup"))},a))},kr=function(a,b){if(null==b)b=null;else if($i)b=k.btoa(b);else{for(var c=[],d=0,e=0;e<b.length;e++){for(var f=b.charCodeAt(e);255<f;)c[d++]=f&255,f>>=8;c[d++]=f}b=
aj(c,void 0)}a.l=b},qr=function(a,b){var c=2!=a.o.a&&null==a.b&&null!=b;a.b=b;c&&(a.o.start(),a.g.v(a),b=a.g,L(b.a,"Listener received reissueRegistrations call"),b.I?xr(b,a):wm(b.a,"Ticl issued reissueRegistrations but not ready!"),L(a.h,"Ticl started: %s",a))},jr=function(a,b){return new Xc(a.D,b,hf(a.c,6))};ir.prototype.toString=function(){var a=this.b;return Gc("Client: clientName = %s, token = %s, state = %s",this.aa.toString(),null!=a?a.toString():"null",this.o.toString())}; ga("invalidation.getDebugJson",function(){var a={};hd(hr,function(b){var c=b.b||b.l;b=b.a;b={events:ki(b.j),sent:ki(b.b),received:ki(b.b),incomingOps:ki(b.c),errors:ki(b.g)};a[c]=b});return a},void 0);
var yr=function(a,b,c,d,e){this.a=a;this.g=b;this.h=c;this.c=d;this.b=[];this.j=e};h=yr.prototype;h.start=function(){this.a.start()};h.stop=function(){this.a.stop()};h.register=function(a){this.a.register.apply(this.a,arguments);for(var b=0;b<arguments.length;b++){var c=arguments[b];if(this.j){L(this.h,"Generating invalidation for registration for %s with a recycled client token",c);var d=new Xc(Math.random,1E3,1E3);Yc(d);var e="client-ack-handle-"+Nb(),e=new cd(e);this.b.push(e);zr(this,c,e,d)}}};
h.unregister=function(a){this.a.unregister.apply(this.a,arguments)};h.Gb=function(a){var b=Ar(this,a);null!=b?(L(this.h,"Client-generated invalidation acked."),a=this.b,this.b=a.slice(0,b).concat(a.slice(b+1))):this.a.Gb(a)};
var zr=function(a,b,c,d){ur(a.g,b,c);var e=Yc(d);cn(a.c,e,new ta("retry invalidation",t(function(){null!=Ar(this,c)&&(L(this.h,"Client-generated invalidation for %s not acked, retrying after %d ms",b,e),zr(this,b,c,d))},a)))},Ar=function(a,b){for(var c=0;c<a.b.length;c++)if(a.b[c].T(b))return c;return null};
var Br=function(a,b,c,d,e){Np.call(this,a,b,c,d,e)};r(Br,Np);var Cr=function(a){return new Br(new No("hr"),new Mo,new Mo,a,new Oo)};var Dr=function(a){x.call(this);this.c=new dd(a);this.a={}};r(Dr,x);Dr.prototype.b=function(){null!=this.a[2]||(this.a[2]=new Qp(this.c));return this.a[2]};var Er=function(a,b,c,d){this.L=a||null;this.b=1;this.c=[];this.g=[];this.a=new Vn;this.l=new Hd;this.K=b||null;this.N=null!=c?c:null;this.o=d||!1},Fp=function(a,b){this.a=a;this.b=b};h=Er.prototype;h.cb=null;h.rb=null;h.ia=null;h.W=null;h.kc=null;h.Lb=null;h.Pc=null;h.Pb=null;h.Ab=0;h.Ne=0;h.ea=null;h.Ma=null;h.Ba=null;h.Ta=null;h.Ja=null;h.Ec=null;h.Sb=-1;h.jd=-1;h.Ca=-1;h.sb=0;h.$a=0;h.ac=!1;h.Sa=8;var Fr=new N,Gr=function(a){Ed.call(this,"statevent",a)};r(Gr,Ed);
var Hr=function(a){Ed.call(this,"timingevent",a)};r(Hr,Ed);var Ir=function(a){Ed.call(this,"serverreachability",a)};r(Ir,Ed);Er.prototype.connect=function(a,b,c,d,e){this.a.debug("connect()");lp();this.kc=b;this.rb=c||{};d&&q(e)&&(this.rb.OSID=d,this.rb.OAID=e);this.o?(pp(t(this.I,this,a),100),Jr(this)):this.I(a)};
Er.prototype.disconnect=function(){this.a.debug("disconnect()");Kr(this);if(3==this.b){var a=this.Ab++,b=this.Lb.clone();J(b,"SID",this.j);J(b,"RID",a);J(b,"TYPE","terminate");Lr(this,b);a=new $o(this,this.a,this.j,a,void 0);a.kb=2;a.Oa=Kk(b.clone());(new Image).src=a.Oa;a.Bb=m();gp(a)}Mr(this)};Er.prototype.I=function(a){this.a.debug("connectTest_()");this.Ja=new Tp(this,this.a);this.Ja.lc=this.cb;this.Ja.c=this.l;this.Ja.connect(a)};
var Jr=function(a){a.a.debug("connectChannel_()");a.H(1,0);a.Lb=Up(a,a.kc);Gp(a)},Kr=function(a){a.Ja&&(a.Ja.abort(),a.Ja=null);a.W&&(a.W.cancel(),a.W=null);a.Ba&&(k.clearTimeout(a.Ba),a.Ba=null);Nr(a);a.ia&&(a.ia.cancel(),a.ia=null);a.Ma&&(k.clearTimeout(a.Ma),a.Ma=null)};Er.prototype.cd=function(){return 0==this.b};Er.prototype.getState=function(){return this.b};var Gp=function(a){a.ia||a.Ma||(a.Ma=pp(t(a.C,a),0),a.sb=0)};
Er.prototype.C=function(a){this.Ma=null;this.a.debug("startForwardChannel_");if(1==this.b)if(a)R(this.a.h,"Not supposed to retry the open");else{this.a.debug("open_()");this.Ab=Math.floor(1E5*Math.random());a=this.Ab++;var b=new $o(this,this.a,"",a,void 0);b.Va=this.cb;var c=Or(this),d=this.Lb.clone();J(d,"RID",a);this.L&&J(d,"CVER",this.L);Lr(this,d);ep(b,d,c);this.ia=b;this.b=2}else 3==this.b&&(a?Pr(this,a):0==this.c.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.ia?
R(this.a.h,"startForwardChannel_ returned: connection already in progress"):(Pr(this),this.a.debug("startForwardChannel_ finished, sent request")))};
var Pr=function(a,b){var c;b?6<a.Sa?(a.c=a.g.concat(a.c),a.g.length=0,c=a.Ab-1,b=Or(a)):(c=b.c,b=b.jb):(c=a.Ab++,b=Or(a));var d=a.Lb.clone();J(d,"SID",a.j);J(d,"RID",c);J(d,"AID",a.Sb);Lr(a,d);c=new $o(a,a.a,a.j,c,a.sb+1);c.Va=a.cb;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.ia=c;ep(c,d,b)},Lr=function(a,b){a.ea&&(a=a.ea.ad(a))&&Va(a,function(a,d){J(b,d,a)})},Or=function(a){var b=Math.min(a.c.length,1E3),c=["count="+b],d;6<a.Sa&&0<b?(d=a.c[0].a,c.push("ofs="+d)):d=0;for(var e=0;e<
b;e++){var f=a.c[e].a,g=a.c[e].b,f=6>=a.Sa?e:f-d;try{He(g,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(l){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.g=a.g.concat(a.c.splice(0,b));return c.join("&")},Qr=function(a){a.W||a.Ba||(a.v=1,a.Ba=pp(t(a.A,a),0),a.$a=0)},Sr=function(a){if(a.W||a.Ba)return R(a.a.h,"Request already in progress"),!1;if(3<=a.$a)return!1;a.a.debug("Going to retry GET");a.v++;a.Ba=pp(t(a.A,a),Rr(a,a.$a));a.$a++;return!0};
Er.prototype.A=function(){this.Ba=null;this.a.debug("Creating new HttpRequest");this.W=new $o(this,this.a,this.j,"rpc",this.v);this.W.Va=this.cb;this.W.nc=0;var a=this.Pc.clone();J(a,"RID","rpc");J(a,"SID",this.j);J(a,"CI",this.Ec?"0":"1");J(a,"AID",this.Sb);Lr(this,a);if(!F||Ff(10))J(a,"TYPE","xmlhttp"),fp(this.W,a,!0,this.Pb,!1);else{J(a,"TYPE","html");var b=this.W,c=!!this.Pb;b.kb=3;b.Oa=Kk(a.clone());op(b,c)}this.a.debug("New Request created")};
var Zp=function(a,b,c){a.a.debug("Test Connection Finished");a.Ec=c;a.Ca=b.Ua;a.o||Jr(a)},aq=function(a,b){a.a.debug("Test Connection Failed");a.Ca=b.Ua;Yp(a,2)};
Er.prototype.Vb=function(a,b){if(0!=this.b&&(this.W==a||this.ia==a))if(this.Ca=a.yb,this.ia==a&&3==this.b)if(7<this.Sa){var c;try{c=this.l.a(b)}catch(d){c=null}if(oa(c)&&3==c.length)if(b=c,0==b[0])a:if(this.a.debug("Server claims our backchannel is missing."),this.Ba)this.a.debug("But we are currently starting the request.");else{if(this.W)if(this.W.Bb+3E3<this.ia.Bb)Nr(this),this.W.cancel(),this.W=null;else break a;else this.a.ya("We do not have a BackChannel established");Sr(this);lp()}else this.jd=
b[1],a=this.jd-this.Sb,0<a&&(b=b[2],this.a.debug(b+" bytes (in "+a+" arrays) are outstanding on the BackChannel"),37500>b&&this.Ec&&0==this.$a&&!this.Ta&&(this.Ta=pp(t(this.M,this),6E3)));else this.a.debug("Bad POST response data returned"),Yp(this,11)}else"y2f%"!=b&&(this.a.debug("Bad data returned - missing/invald magic cookie"),Yp(this,11));else if(this.W==a&&Nr(this),!tb(b))for(a=c=this.l.a(b),b=0;b<a.length;b++)c=a[b],this.Sb=c[0],c=c[1],2==this.b?"c"==c[0]?(this.j=c[1],this.Pb=c[2],c=c[3],null!=
c?this.Sa=c:this.Sa=6,this.b=3,this.ea&&this.ea.Sc(this),this.Pc=$p(this,this.Pb,this.kc),Qr(this)):"stop"==c[0]&&Yp(this,7):3==this.b&&("stop"==c[0]?Yp(this,7):"noop"!=c[0]&&this.ea&&this.ea.Rc(this,c),this.$a=0)};Er.prototype.M=function(){null!=this.Ta&&(this.Ta=null,this.W.cancel(),this.W=null,Sr(this),lp())};var Nr=function(a){null!=a.Ta&&(k.clearTimeout(a.Ta),a.Ta=null)};
Er.prototype.Ub=function(a){this.a.debug("Request complete");var b;if(this.W==a)Nr(this),this.W=null,b=2;else if(this.ia==a)this.ia=null,b=1;else return;this.Ca=a.yb;if(0!=this.b)if(a.pa)1==b?(m(),O(Fr,new Hr(Fr)),Gp(this),this.g.length=0):Qr(this);else{var c=a.Pa;if(3==c||7==c||0==c&&0<this.Ca)this.a.debug("Not retrying due to error type");else{this.a.debug("Maybe retrying, last error: "+ap(c,this.Ca));var d;if(d=1==b)this.ia||this.Ma?(R(this.a.h,"Request already in progress"),d=!1):1==this.b||2<=
this.sb?d=!1:(this.a.debug("Going to retry POST"),this.Ma=pp(t(this.C,this,a),Rr(this,this.sb)),this.sb++,d=!0);if(d||2==b&&Sr(this))return;this.a.debug("Exceeded max number of retries")}this.a.debug("Error: HTTP request failed");switch(c){case 1:Yp(this,5);break;case 4:Yp(this,10);break;case 3:Yp(this,6);break;case 7:Yp(this,12);break;default:Yp(this,2)}}};var Rr=function(a,b){var c=5E3+Math.floor(1E4*Math.random());a.ea||(a.a.debug("Inactive channel"),c*=2);return c*b};
Er.prototype.H=function(a){if(!(0<=fd(arguments,this.b)))throw Error("Unexpected channel state: "+this.b);};var Yp=function(a,b){a.a.info("Error code "+b);if(2==b||9==b){var c=null;a.ea&&(c=null);var d=t(a.P,a);c||(c=new sk("http://www.google.com/images/cleardot.gif"),Kk(c));rp(c.toString(),1E4,d)}else lp();Tr(a,b)};Er.prototype.P=function(a){a?(this.a.info("Successfully pinged google.com"),lp()):(this.a.info("Failed to ping google.com"),lp(),Tr(this,8))};
var Tr=function(a,b){a.a.debug("HttpChannel: error - "+b);a.b=0;a.ea&&a.ea.ec(a,b);Mr(a);Kr(a)},Mr=function(a){a.b=0;a.Ca=-1;if(a.ea)if(0==a.g.length&&0==a.c.length)a.ea.dc(a);else{a.a.debug("Number of undelivered maps, pending: "+a.g.length+", outgoing: "+a.c.length);var b=td(a.g),c=td(a.c);a.g.length=0;a.c.length=0;a.ea.dc(a,b,c)}},Up=function(a,b){b=Xp(a,null,b);a.a.debug("GetForwardChannelUri: "+b);return b},$p=function(a,b,c){b=Xp(a,a.$b()?b:null,c);a.a.debug("GetBackChannelUri: "+b);return b},
Xp=function(a,b,c){var d=Lk(c);if(""!=d.a)b&&uk(d,b+"."+d.a),vk(d,d.v);else var e=window.location,d=Mk(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.rb&&Va(a.rb,function(a,b){J(d,b,a)});J(d,"VER",a.Sa);Lr(a,d);return d};Er.prototype.fc=function(a){if(a&&!this.ac)throw Error("Can't create secondary domain capable XhrIo object.");a=new Zn;a.o=this.ac;return a};var pp=function(a,b){if(!la(a))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){a()},b)};
Er.prototype.wa=function(){O(Fr,new Ir(Fr))};var lp=function(){O(Fr,new Gr(Fr))};Er.prototype.$b=function(){return this.ac||!(!F||Ff(10))};var Ur=function(){};h=Ur.prototype;h.Sc=function(){};h.Rc=function(){};h.ec=function(){};h.dc=function(){};h.ad=function(){return{}};
var Wr=function(a,b){Un.call(this);for(var c=0,d;d=ro[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.a=a;this.name=this.a.cn||uo(10);this.c=b||cj();this.g=[];this.j=new Om(this);a.lpu=a.lpu||Rd(gj(this.c.a).location.href)+"/robots.txt";a.ppu=a.ppu||Rd(a.pu||"")+"/robots.txt";so[this.name]=this;Nl(window,"unload",Vr)||Kl(window,"unload",Vr);T(V,"CrossPageChannel created: "+this.name)};r(Wr,Un);var Xr=/^%*tp$/,Yr=/^%+tp$/;h=Wr.prototype;h.Ia=null;
h.Aa=null;h.fa=null;h.eb=1;h.ka=function(){return 2==this.eb};h.la=null;h.gb=null;
var uq=function(a){try{return!!a.la&&!a.la.closed}catch(b){return!1}},as=function(a,b){T(V,"createPeerIframe()");var c=a.a.ifrid;c||(c=a.a.ifrid="xpcpeer"+uo(4));var d=cj(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";Zr(a);a.Aa=new Ul(void 0,a);var e=$r(a);Qm(a.j,d,"load",a.Aa.da,!1,a.Aa);nf||of?window.setTimeout(t(function(){b.appendChild(d);d.src=e.toString();T(V,"peer iframe created ("+c+")")},a),1):(d.src=e.toString(),b.appendChild(d),T(V,"peer iframe created ("+
c+")"))},Zr=function(a){a.Aa&&(a.Aa.cancel(),a.Aa=null);a.g.length=0;a.j.removeAll()},$r=function(a){var b=a.a.pu;u(b)&&(b=a.a.pu=new sk(b));var c={};c.cn=a.name;c.tp=a.a.tp;c.osh=a.a.osh;a.a.lru&&(c.pru=a.a.lru);a.a.lpu&&(c.ppu=a.a.lpu);a.a.ppu&&(c.lpu=a.a.ppu);(a=a.a.role)&&(c.role=1==a?0:1);J(b,"xpc",w(c));return b};Wr.prototype.connect=function(a){this.o=a||pa;3==this.eb&&(this.eb=1);this.Aa?am(this.Aa,this.v):this.v()};
Wr.prototype.v=function(){T(V,"continueConnection_()");this.Aa=null;this.a.ifrid&&(this.gb=dj(this.c.a,this.a.ifrid));if(this.gb){var a=this.gb.contentWindow;a||(a=window.frames[this.a.ifrid]);this.la=a}if(!this.la){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.la=window.parent}if(!this.fa){if(!this.a.tp){var a=this.a,b;if(la(document.postMessage)||la(window.postMessage)||F&&window.postMessage)b=1;else if(nf)b=2;else if(F&&this.a.pru)b=3;else{var c;
if(c=F){c=!1;try{b=window.opener,window.opener={},c=ob(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.a.tp){case 1:this.fa=new Sq(this,this.a.ph,this.c,!!this.a.osh,this.a.nativeProtocolVersion||2);break;case 6:this.fa=new Zq(this,this.c);break;case 2:this.fa=new oq(this,this.c);break;case 3:this.fa=new Jq(this,this.c);break;case 4:this.fa=new pq(this,this.c);break;case 7:if(a=this.la)try{a=window.document.domain==this.la.document.domain}catch(d){a=!1}a?this.fa=new iq(this,
this.c):T(V,"DirectTransport not supported for this window, peer window in different security context or not set yet.")}if(this.fa)T(V,"Transport created: "+(qo[String(this.fa.Za)]||""));else throw Error("CrossPageChannel: No suitable transport found!");}for(this.fa.connect();0<this.g.length;)this.g.shift()()};Wr.prototype.close=function(){Zr(this);this.eb=3;$b(this.fa);this.o=this.fa=null;$b(this.Ia);this.Ia=null;T(V,'Channel "'+this.name+'" closed')};
var nq=function(a,b){a.ka()||a.Ia&&0!=a.Ia.ab||(a.eb=2,T(V,'Channel "'+a.name+'" connected'),$b(a.Ia),q(b)?(a.Ia=new Rn(a.o,b),a.Ia.start()):(a.Ia=null,a.o()))};Wr.prototype.send=function(a,b){this.ka()?uq(this)?(ka(b)&&(b=w(b)),this.fa.send(bs(a),b)):(R(V,"Peer has disappeared."),this.close()):R(V,"Can't send. Channel not connected.")};
Wr.prototype.b=function(a,b,c){if(this.Aa)this.g.push(t(this.b,this,a,b,c));else{var d=this.a.ph;if(tb(Mb(c))||tb(Mb(d))||c==this.a.ph)if(this.Da()||3==this.eb)S(V,"CrossPageChannel::xpcDeliver(): Channel closed.");else if(a&&"tp"!=a)if(this.ka()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Yr.test(a)?a.substring(1):a,c=this.getService(a,b)){var e;a:{if((d=c.vc)&&u(b))try{e=Pa(b);break a}catch(f){S(this.jc,"Expected JSON payload for "+a+', was "'+b+'"');e=null;break a}else if(!d&&!u(b)){e=
w(b);break a}e=b}null!=e&&c.da(e)}}else T(V,"CrossPageChannel::xpcDeliver(): Not connected.");else this.fa.bc(b);else S(V,'Message received from unapproved origin "'+c+'" - rejected.')}};var bs=function(a){Xr.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},hq=function(a){var b=a.a.role;return ma(b)?b:window.parent==a.la?1:0},gq=function(a,b){U(V,"changing channel name to "+b);delete so[a.name];a.name=b;so[b]=a}; Wr.prototype.F=function(){this.close();this.gb=this.la=null;delete so[this.name];$b(this.j);delete this.j;Wr.J.F.call(this)};var Vr=function(){for(var a in so)$b(so[a])};
var Ap=function(a,b,c){this.G=!1;this.C=a;this.b=c;this.o=b;this.c=this.l=0;this.h=new Mn("BrowserChannelImpl");this.D=new Om;this.D.listen(Fr,"statevent",t(this.Qe,this));this.A=new Xc(Math.random,hf(c,11),hf(c,12));this.I=new Xc(Math.random,6E4,30);Yc(this.I);this.H=new Xc(Math.random,250,7200);Yc(this.H);this.g=new Kf;this.M=new Uc;this.v=-1;this.j=0;this.L=null};r(Ap,Ur);var cs=function(a,b){this.a=a;this.g=b;this.b=0;this.h=new Mn("bc-watchdog")};
cs.prototype.c=function(){this.b++;var a=this.a.getState();switch(a){case 1:case 2:if(3==this.b){this.g(this.a);return}break;case 3:if(5==this.b){this.g(this.a);return}break;case 0:return}rn(this.c,2E4,this);L(this.h,"Channel "+this.a.R()+" checked "+this.b+" times since last activity, state: "+a)};var ds=function(a,b,c){Er.call(this,a);this.G=c;a=this.D=new cs(this,b);rn(a.c,2E4,a)};r(ds,Er);ds.prototype.R=function(){return this.G};
ds.prototype.Vb=function(a,b){var c=this.D;3==c.a.getState()&&(c.b=0);ds.J.Vb.call(this,a,b)};var es=function(a,b){b!=a.l&&(a.l=b,a.c++);return a.c};Ap.prototype.start=function(){es(this,1);this.open(this.A)};Ap.prototype.open=function(a){if(1!=this.l)L(this.h,"Not opening since not closed (state = %s)",this.l);else{es(this,2);a=Yc(a)+hf(this.b,3);D(this.b,3,0);var b=this.c;rn(function(){Bp(this,b)},a,this)}};
Ap.prototype.K=function(a){switch(a.getState()){case 1:case 2:a.disconnect();K(this.h,"Channel %s connection attempt timed out",a.R());break;case 3:a.disconnect();K(this.h,"Channel %s got stuck after becoming open",a.R());break;default:wm(this.h,"Channel stuck in CLOSED state: should never happen")}};
var Bp=function(a,b){if(a.c!=b)L(a.h,"Not opening since state has changed (%s vs. %s)",b,a.c);else{var c=es(a,3);a.a=new ds("5",t(a.K,a),c);a.a.ea=a;b={};5==C(a.g,2)?a.a.ac=!0:(b=Vk(a.g,b),a.a.cb=b);2==a.j?(L(a.h,"Skipping connect because waiting for auth change."),a.ec(a.a,2),a.a.disconnect()):(a.j=0,C(a.b,9)?fs(C(a.b,9),t(function(a){this.c!=c?L(this.h,"Not opening since state has changed (%s vs. %s)",c,this.c):(a&&(this.L=a),gs(this))},a)):gs(a))}},gs=function(a){var b=a.C+"/cbp",c=a.C+"/bind",
d={};hs(a,d);a.a.connect(b,c,d)},hs=function(a,b){B(a.g,4)&&(b.authuser=C(a.g,4));4==C(a.g,2)&&(b.app_auth=C(a.g,3));b.ctype=C(a.b,2);B(a.b,4)&&(b.service=C(a.b,4));B(a.b,6)&&(b.prop=C(a.b,6));B(a.b,7)&&(b.appver=C(a.b,7));a.L&&(b.gsessionid=a.L);B(a.b,10)&&(b.pageId=C(a.b,10));C(a.b,13)&&(b.sw=!0)};h=Ap.prototype;h.ad=function(){var a={};hs(this,a);return a};h.close=function(){es(this,1);null!=this.a&&this.a.disconnect()};
h.Sc=function(a){if(a!=this.a)K(this.h,"channelOpened() called for unknown BC");else{es(this,4);this.I.reset();Yc(this.I);var b=this.c;rn(function(){this.c!=b?L(this.h,"Not resetting delay generator because state changed (%d vs. %d)",b,this.c):this.A.reset()},hf(this.b,14),this);Ep(this.o,new Yf)}};
h.Rc=function(a,b){if(a!=this.a)K(this.h,"channelHandleArray() called for unknown BC");else{for(a=0;a<b.length;a++){var c=b[a],d=c.gsid;if(d)this.L=d,b.splice(a,1);else if(c=c.osc)400<=c&&499>=c?(this.v=c,Cp(this.o,new ra(2,c)),null!=this.a&&this.a.disconnect()):K(this.h,"Ignoring non-4xx out-of-band status code: %s",c),b.splice(a,1)}if(0<b.length)for(a=this.o,c=0;c<b.length;c++){var d=b[c],e=d.p;if(e){var d=a,f=e,g=hg.getDescriptor(),d=mn(g,f,d.h);if(null==d)wm(a.h,"Cannot deserialize s2c message: %s",
e);else if(xm(a.h,"Received server message: %s",d),Pn(a.C,d)){e=C(d,1);a.v=Math.max(a.v,C(e,4));if(B(d,3))if(e=a,f=C(d,3),g=C(C(f,1),1),1==g){e.g=!0;for(var l=e.I.S(),g=0;g<l.length;++g)e.o(l[g]);for(g=0;g<e.c.length;++g)e.o(e.c[g]);l=e.j.S();for(g=0;g<l.length;++g)e.o(l[g]);g={};B(f,2)&&(g.Hh=C(f,2));e.l.xc(e,g)}else 4==g?(L(e.h,"Received CLOSING status from server"),e.g=!1):5==g?(f=m(),f>e.D?(e.D=f+Math.ceil(18E5*Math.random()),L(e.h,"Reloading channel"),e.close(),f=e,f.g=!1,f.l.Tb(f),e.b=null,
e.open()):L(e.h,"Not reloading channel since last reload was too recent")):K(e.h,"Received non-SUCCESS status %s from server",g);if(B(d,4))if(f=C(d,4),e=a,g=C(f,1),l=C(g,2),null==l)K(e.h,"Ignoring session-ready message without a session name");else{var n=Dp(e,g);if(null==n)for(var p=0;p<e.c.length;++p){var z=e.c[p],Y=C(g,1);if(z.c==Y){n=z;n.b=l;e.c.splice(p,1);hf(f,3)?ii(e.j.b,Y)?K(e.h,"Duplicate session for the same broadcast service (%s): this is not supported and will be ignored",Y):e.j.set(Y,
n):e.I.set(n.b,n);break}}null==n?K(e.h,"Received address for unknown session: %s, %s",g,f.toString()):B(f,4)&&1!=C(C(f,4),1)?(K(e.h,"Failed to initialize session with service %s: %s",C(g,1),C(C(f,4),2)),g=n.a,g.ld?g.ld(0,{Le:!1,description:C(C(f,4),2)||""}):L(e.h,"onSessionError() not implemented by handler")):(L(e.h,"Address %s assigned for session %s with service %s",C(f,2),C(g,2),C(g,1)),e=n.a,f=C(f,2),L(e.h,"session open"),e.o=f,is(e,!0))}B(d,2)&&(e=C(d,2),f=C(e,1),g=Dp(a,f),null==g?L(a.h,"Received message for unknown session: %s, %s",
f,d):g.a.receive(g,e.getMessage()))}else wm(a.h,"Received invalid server message: %s",d)}else K(a.h,"Proto key missing from map: %s",d)}}};h.ec=function(a,b){a!=this.a?K(this.h,"channelError() called for unknown BC"):(this.v=a.Ca,Cp(this.o,new ra(b,this.v)))};
h.dc=function(a){if(a!=this.a)K(this.h,"channelClosed() called for unknown BC");else{a=this.l;es(this,1);if(4==a||3==a){a=this.A;switch(this.v){case 401:0!=this.j||C(this.b,8)||(this.j=2);break;case 429:a=this.I;break;case 404:a=this.H}this.open(a)}this.v=-1;this.a=null;a=this.o;a.g=!1;a.l.Tb(a)}};h.Qe=function(){};h.X=function(){$b(this.D);this.G=!0};h.Da=function(){return!!this.G};
var js=function(a,b){co(a,function(a){var c=null;try{var e=a.target;if(e.va())var f=ln(oo(e)),c={count:parseInt(f[0],10),gd:f[1].toString()}}catch(g){}b(c)},"GET",void 0,void 0,500)},fs=function(a,b){js(a,function(c){c?js(a,function(a){a?b(c.count<a.count?c.gd:a.gd):b(null)}):b(null)})};
k._gaq=k._gaq||[];var ks=function(){x.call(this);this.a=W.B();this.g=t(this.v,this);this.c=t(this.o,this);this.l=t(this.C,this);this.j=t(this.A,this);this.b={}};r(ks,x);v(ks);var ls=Od(Pd("https://ssl.google-analytics.com/ga.js")),ms=new re;ms.a=ls;
ks.prototype.F=function(){Z(this.a,"edulive.messages.analytics.Requests.trackPageView",this.g);Z(this.a,"edulive.messages.analytics.Requests.trackEvent",this.c);Z(this.a,"edulive.messages.analytics.Requests.trackTimingStart",this.l);Z(this.a,"edulive.messages.analytics.Requests.trackTimingEnd",this.j);ks.J.F.call(this)};
var ns=function(){var a=ks.B(),b=document.createElement("SCRIPT");b.type="text/javascript";b.async=!0;b.src=se(ms);var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);k._gaq.push(["_setAccount","UA-61107128-1"]);X(a.a,"edulive.messages.analytics.Requests.trackPageView",a.g);X(a.a,"edulive.messages.analytics.Requests.trackEvent",a.c);X(a.a,"edulive.messages.analytics.Requests.trackTimingStart",a.l);X(a.a,"edulive.messages.analytics.Requests.trackTimingEnd",a.j)};
ks.prototype.v=function(a){os(a.message.params);return I(!0)};var os=function(a){k._gaq.push(["_trackPageview",a])};ks.prototype.o=function(a){if((a=a.message.params)&&!Vd(a,["category","action"]))return sj(new An(a));ps(0,a.category,a.action,a.label,a.value);return I(!0)};var ps=function(a,b,c,d,e){k._gaq.push(["_trackEvent",b,c,d,e,!0])};
ks.prototype.C=function(a){if((a=a.message.params)&&!Vd(a,["category","variable","timestamp"]))return sj(new An(a));this.b[a.category+a.variable+a.label+a.key]=a.timestamp;return I(!0)};ks.prototype.A=function(a){if((a=a.message.params)&&!Vd(a,["category","variable","timestamp"]))return sj(new An(a));qs(this,a.category,a.variable,a.timestamp,a.label,a.key);return I(!0)};var qs=function(a,b,c,d,e,f){f=b+c+e+f;k._gaq.push(["_trackTiming",b,c,d-a.b[f],e,100]);a.b[f]=null};
var rs=function(){x.call(this);this.a=W.B();this.g=Bn.B();this.b=t(this.c,this);X(this.a,"edulive.messages.logging.Requests.logs",this.b)};r(rs,x);v(rs);rs.prototype.F=function(){Z(this.a,"edulive.messages.logging.Requests.logs",this.b);rs.J.F.call(this)};rs.prototype.c=function(){return I(td(this.g.b))};
var ss=function(){this.a=W.B();this.A=t(this.cf,this);X(this.a,"edulive.messages.navigation.Requests.pushCurrentPage",this.A);this.g=t(this.Sd,this);this.a.listen("edulive.messages.classroom.Events.active",this.g);this.v=t(this.H,this);X(this.a,"edulive.messages.navigation.Requests.popCurrentPage",this.v);this.o=t(this.G,this);X(this.a,"edulive.messages.navigation.Requests.peekCurrentPage",this.o);this.j=t(this.D,this);this.a.listen("edulive.messages.classroom.Events.changed",this.j);this.C=t(this.qf,
this);X(this.a,"edulive.messages.navigation.Requests.setCurrentShareAction",this.C);this.l=t(this.ne,this);X(this.a,"edulive.messages.navigation.Requests.getCurrentShareAction",this.l);this.b=[];this.c="edulive.messages.navigation.ShareAction.Fling"};r(ss,x);v(ss);h=ss.prototype;
h.F=function(){Z(this.a,"edulive.messages.navigation.Requests.pushCurrentPage",this.A);Z(this.a,"edulive.messages.navigation.Requests.popCurrentPage",this.v);Z(this.a,"edulive.messages.navigation.Requests.peekCurrentPage",this.o);this.a.a("edulive.messages.classroom.Events.active",this.g);this.a.a("edulive.messages.classroom.Events.changed",this.j);Z(this.a,"edulive.messages.navigation.Requests.setCurrentShareAction",this.C);Z(this.a,"edulive.messages.navigation.Requests.getCurrentShareAction",this.l);
ss.J.F.call(this)};h.qf=function(a){this.c=a.message.params;return I(this.c)};h.ne=function(){return I(this.c)};h.cf=function(a){return(a=a.message.params)&&!Vd(a,["pageName","pageParam"])?sj(new An(a)):I(ts(this,a))};h.Sd=function(){ts(this,null)};var ts=function(a,b){if(b){var c=0==a.b.length?null:ed(a.b);c==b||(null==c||null==b?0:c.pageName!=b.pageName?0:c.pageParam==b.pageParam||(null==c.pageParam||null==b.pageParam?0:hb(c.pageParam,b.pageParam)))||a.b.push(b)}else pd(a.b);us(a);return b};
ss.prototype.H=function(){var a=this.b.pop()||null;us(this);return I(a)};ss.prototype.G=function(){return I(0==this.b.length?null:ed(this.b))};ss.prototype.D=function(a){vs(this,a.message.params)};var vs=function(a,b){a.b=jd(a.b,function(a){a.pageParam&&a.pageParam.workgroup&&a.pageParam.workgroup.id==b.id&&(a.pageParam.workgroup=b);return a})},us=function(a){Eo(a.a,"edulive.messages.navigation.Events.currentPageChanged",0==a.b.length?null:ed(a.b))};
var ws=function(a,b,c,d,e,f,g){ir.call(this,a,b,c,d,e,f,g)};r(ws,ir);var xs=function(a,b,c,d){this.g=a;this.c=b;this.o=c;this.l=d;this.b=new Xc(Math.random,5E3,128);this.a=null},ys=function(a){a.a=new Wr(a.g,a.o||void 0);var b=nn(a.c);as(a.a,b);rn(a.j,Yc(a.b)+5E3,a);a.a.connect(t(function(){this.b.reset();this.l(this.a)},a))};xs.prototype.j=function(){if(this.a&&!this.a.ka()){this.a&&(this.a.close(),this.a=null);for(var a=this.g.pu,b=lj(dj(document,this.c)),a=new sk(a),c=0;c<b.length;++c)if("IFRAME"==b[c].tagName){var d=new sk(b[c].src);d.a==a.a&&d.b==a.b&&kj(b[c])}ys(this)}};
var zs=function(a){this.a=a.h;this.G=a.g;this.g=new G;this.I=!1;a=lr();this.C=new Xc(Math.random,hf(a,2),hf(a,6))};zs.prototype.register=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();L(this.a,"Will register objects: %s",c);for(var d=0;d<c.length;d++){var e=c[d],f=kn(um(e));this.g.set(f,e)}As(this,a,!0,c)};
zs.prototype.unregister=function(a,b){var c=Array.prototype.slice.call(arguments);c.shift();L(this.a,"Will unregister objects: %s",c);for(var d=0;d<c.length;d++){var e=kn(um(c[d]));this.g.remove(e)}As(this,a,!1,c)};zs.prototype.v=function(a){L(this.a,"Listener received ready call");this.I=!0;xr(this,a);L(this.a,"Cleared all waiting registrations")};
var rr=function(a,b,c,d){L(a.a,"informRegistrationStatus: %s, %s",c,d);Bs(a,b,c,d);a.C.reset()},or=function(a,b,c,d,e){L(a.a,"informRegistrationFailure: %s, %s, %s",c,d,e);d?Bs(a,b,c,null):(b=kn(um(c)),a.g.remove(b),wr(a))},Bs=function(a,b,c,d){var e=kn(um(c)),f=ii(a.g.b,e);if(null==d||0==d!=f)xm(a.a,"handleRegistrationStatus_: Obj: %s, Reg: %s, Desired: %s",c,d,f),d=Yc(a.C),cn(a.G,d,new ta("Reissue regop",t(function(){f?this.register(b,c):this.unregister(b,c)},a)))},As=function(a,b,c,d){a.I?c?b.register.apply(b, d):b.unregister.apply(b,d):L(a.a,"Cannot perform reg ops since ready not received")},xr=function(a,b){0!=a.g.c&&(a=a.g.S(),b.register.apply(b,a))};
var Cs=function(a){Dr.call(this,a)};r(Cs,Dr);Cs.prototype.b=function(){var a=Cs.J.b.call(this);a.c=!0;return a};var Ds=function(a,b){fm.call(this,a,b)};r(Ds,fm);Ds.prototype.g=Fa;
Ds.prototype.c=function(a){if(!(a=Ds.J.c.call(this,a))){b:{a=[];var b=sa(String(k.location.href)),c=k.__OVERRIDE_SID;null==c&&(c=(new Ra(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?k.__SAPISID:k.__APISID,null==b&&(b=(new Ra(document)).get(c?"SAPISID":"APISID")),b)){var c=c?"SAPISIDHASH":"APISIDHASH",d=String(k.location.href);a=d&&b&&c?[c,Xd(sa(d),b,a||null)].join(" "):null;break b}a=null}a?(a=a.split(" "),a={scheme:a[0],hash:a[1]}):a=null}return a};
var Es=function(){N.call(this);this.h=P("edulive.connection.Gcm");ks.B();this.b=void 0;this.l=new Rb;this.c=t(this.o,this);chrome.gcm.onMessage.addListener(this.c)};r(Es,N);v(Es);Es.prototype.F=function(){chrome.gcm.onMessage.removeListener(this.c);Es.J.F.call(this)};var Fs=["332529424876"],Gs=function(a){return"eduLiveGcmMessage:"+a},Hs=function(a,b){if(a.b!=b){var c=q(a.b)&&null!=b;a.b=b;a.b&&U(a.h,"GCM Id: "+a.b);c&&O(a,"a")}};
Es.prototype.j=function(a,b,c,d,e,f,g){if(chrome.runtime.lastError)if(Is()&&4>d){S(this.h,"GCM Registration failure: '"+chrome.runtime.lastError.message+"' Attempt: "+(d+1)+" of 4");var l=t(this.j,this,a,b,c,++d,2*e,f);rn(function(){f(l)},e)}else ps(0,"Error",a?"GCM: Register":"GCM: Unregister",chrome.runtime.lastError.message),c(new Js("GCM Registration failed.",chrome.runtime.lastError));else Hs(this,q(g)?g:null),b(this.b)};
var Is=function(){var a=chrome.runtime.lastError.message;return"Server error occurred."==a||"Network error occurred."==a||"Asynchronous operation is pending."==a||"Function was called with invalid parameters."==a},Ks=function(){var a=Es.B();return new H(function(a,c){chrome.gcm.register(Fs,t(this.j,this,!0,a,c,0,1E3,ha(chrome.gcm.register,Fs)))},a)};
Es.prototype.o=function(a){Ls(Ms.B()).then(function(b){if(b)S(this.h,"Ignoring message because this client is obsolete: "+w(a));else if(b=a.data||{},b.ignore)U(this.h,"Ignoring STATE GCM event because of ignore flag: "+w(a));else{var c=b.nextGuid||b.pageId;if(c){if(this.l.Ka(c)){T(this.h,"Ignoring GCM event because it was already processed: "+w(a));return}var d=this.l;d.a[d.b]=c;d.b=(d.b+1)%d.c}c=new Ns(this,b);Os(c)?Sm(this,c.type)?(T(this.h,"Received GCM Message from "+a.from+": "+w(b)),O(this,
c)):S(this.h,"Unknown GCM Action: "+c.type+". Message Details: "+w(a)):S(this.h,"Ill-formed GCM Message: "+w(a))}},void 0,this)};
var Ps=Gs("UNREGISTER"),Qs=Gs("WORKGROUP"),Rs=Gs("PARTICIPANTS"),Ss=Gs("SETTINGS"),Ts=Gs("PAGE"),Us=Gs("REGISTRATION"),Ns=function(a,b){Ed.call(this,Gs(b.type),a);this.id=b.id||b.workgroupId||b.studentId;this.state=b.state;this.lastGuid=b.lastGuid;this.payload=b.payload;this.nextGuid=b.nextGuid;this.millisToMute=b.millisToMute?parseInt(b.millisToMute,10):void 0;this.type==Ts&&b.pageId&&(a={id:b.pageId||"",millisToExpire:0,senderId:b.senderId||"",uri:b.uri||"",tabId:b.tabId},b.title&&(a.title=b.title),
b.thumbnail&&(a.thumbnail=b.thumbnail),b.favIconUrl&&(a.favIconUrl=b.favIconUrl),b.millisToExpire&&(a.millisToExpire=m()+parseInt(b.millisToExpire,10)),this.page=a,this.previousId=b.previousId,this.sentByTeacher="true"==b.sentByTeacher)};r(Ns,Ed);
var Os=function(a){switch(a.type){case Ps:return!0;case Qs:case Rs:case Us:return!!a.id;case Ss:return void 0!=a.millisToMute;case Ts:return!!(a.id&&a.page&&a.page.id&&a.page.millisToExpire&&a.page.senderId&&a.page.uri);default:return!1}},Js=function(a,b){wn.call(this,a,b)};r(Js,wn);Js.prototype.name="edulive.connection.Gcm.Error";
var Vs=function(){x.call(this);this.h=P("edulive.errors.ErrorHandler");this.c=W.B();this.b=!0;var a=chrome.runtime.getManifest(),b=new Cs("ClassroomLive");b.c.b=a.version;this.a=b;this.j=t(this.g,this)};r(Vs,x);v(Vs);Vs.prototype.F=function(){this.a.X();Vs.J.F.call(this)};var Ws=function(){var a=Vs.B(),b=a.a;null!=b.a[1]||(b.a[1]=new To(b.c));b.a[1].enable();b=a.a.b();b.l=a.j;b.v=100;b.enable()};
Vs.prototype.g=function(a,b,c,d,e,f){if(f&&f instanceof Cj)return!1;f&&f instanceof wn&&f.helpText?(c="edulive.messages.errors.Requests.setError",b=!1):(f&&(f=vn(f)),a=f&&f.stack,R(this.h,"Error: "+b+" ("+c+" @ Line: "+d+"): "+w(f)+(a?"\nStack: "+a:""),f),this.b||(a&&(b+=" at:\n"+a),window.alert(b)),c="edulive.messages.errors.Requests.setException",b=this.b);f&&(f=new zn(f),this.c.sendRequest(c,f));return b};
var Xs=function(){N.call(this);this.h=P("edulive.net.OAuthProvider");ks.B();this.b=""};r(Xs,N);v(Xs);Xs.prototype.c=function(){return new H(function(a,b){chrome.identity.getAuthToken({interactive:!0},t(this.j,this,a,b))},this)};
Xs.prototype.j=function(a,b,c){chrome.runtime.lastError?(S(this.h,"getToken failed: "+chrome.runtime.lastError.message),ps(0,"Error","OAuth: GetToken",chrome.runtime.lastError.message),O(this,"oauthFailed"),b(new Ys("Unable to proceed without user permission.",chrome.runtime.lastError,im,"profile"))):(c!=this.b&&(this.b=c,U(this.h,"OAuth2 Token: "+this.b)),a(this.b))};
var Zs=function(a){return new H(function(a,c){""==this.b?a(!0):chrome.identity.removeCachedAuthToken({token:this.b},t(this.l,this,a,c))},a)};Xs.prototype.l=function(a,b){this.b="";chrome.runtime.lastError?b(new Ys("chrome.identity.removeCachedAuthToken failed. Unexpected error.",chrome.runtime.lastError)):a(!0)};var Ys=function(a,b,c,d){wn.call(this,a,b,c,d)};r(Ys,wn);Ys.prototype.name="edulive.net.OAuthProvider.Error";
var $s=function(a,b,c){this.v=c||P("edulive.net.XhrPool");this.I=b||"edulive.net.XhrPool:";this.A=0;this.l=a||3;this.c=ks.B();this.L=Do.B()};v($s);var at=new bq(0);$s.prototype.send=function(a){a=u(a)?new bt(a):a;a.g||ct(a,this.l);var b=a.b;if(b){a.v=m();var c=m();this.c.b["API Timing"+b+void 0+String(a.I)]=c}dt(this,a);return a.L.a};
var dt=function(a,b){b.rc();var c=t(a.C,a,b);at.send(a.I+(++a.A).toString(),b.vb(),b.Mb(),b.ic(),b.ub(),void 0,c,0,b.Ob())},et=function(a,b,c){return a.b(b,c)?(c=Math.pow(2,b.a-1)*b.A||750,c+=(Math.random()-.5)*c,tn(c).then(function(){dt(this,b)},void 0,a),!0):!1};$s.prototype.b=function(a){return!a.zb()};
$s.prototype.a=function(a){a=(u(a)?new bt(a):a).clone();var b=new G(a.ub());b.set("Content-Type","application/json");a.c=b;return this.send(a).then(function(a){return null!=a&&u(a)&&!tb(a)?JSON.parse(a):a})};
$s.prototype.C=function(a,b){b=b.target;if(b.va()){Go(this.L,"connection");ft(this,a,b);var c=po(b);a.L.b(c)}else{switch(b.c){case 6:switch(no(b)){case -1:c=new gt(String(b.C));break;case 0:c=new ht;break;default:c=new it(oo(b),no(b))}break;case 7:jt(this,a,b,new Cj("The operation was cancelled by the user."));return;case 8:c=new gt(String(b.C))}et(this,a,c)||jt(this,a,b,c)}};
var jt=function(a,b,c,d){ft(a,b,c);c=m()-b.v;S(a.v,b.Mb()+" "+b.vb()+" failed after "+b.a+" attempts in "+c+"ms: "+JSON.stringify(d));b.L.c(d)},ft=function(a,b,c){var d=b.b;d&&(qs(a.c,"API Timing",d,m(),void 0,String(b.I)),a=no(c),ps(0,"API",d,0<a?"HTTP:"+a:"ERROR:"+c.c))},bt=function(a){this.C=a;this.A=this.g=this.o=this.c=this.j=this.l=void 0;this.a=0;this.b=void 0;this.v=0;this.I=++kt;this.L=xj()},kt=0;
bt.prototype.clone=function(){var a=new bt(this.C);a.l=this.l;a.j=this.j;a.c=new G(this.c);a.o=this.o;a.g=this.g;a.A=this.A;a.a=this.a;a.b=this.b;a.v=this.v;a.I=this.I;return a};var mt=function(a){var b=lt(new bt(a.url),a.method);b.b=a.za;return b};bt.prototype.vb=function(){return this.C};bt.prototype.Mb=function(){return this.l};var lt=function(a,b){a.l=b;return a};bt.prototype.ub=function(){return this.c};bt.prototype.ic=function(){return this.j};
var nt=function(a,b){!b||!ka(b)||b instanceof ArrayBuffer||b instanceof Blob||b instanceof Document||b instanceof FormData||(b=JSON.stringify(b));a.j=b;return a};bt.prototype.Ob=function(){return this.o};var ot=function(a){a.o="blob";return a},ct=function(a,b){a.g=b;return a};bt.prototype.rc=function(){return++this.a};bt.prototype.zb=function(){return this.a>this.g};var pt=function(a,b,c){wn.call(this,a,void 0,b,c||"connection")};r(pt,wn);pt.prototype.name="edulive.net.XhrPool.Error";
var it=function(a,b,c,d){pt.call(this,a,c,d);this.status=b};r(it,pt);it.prototype.name="edulive.net.XhrPool.HttpError";var gt=function(a){var b=new sk(a);pt.call(this,"There was no response from the server.",chrome.i18n.getMessage("8250116767525441148",[gm,b.a?b.a:a]))};r(gt,pt);gt.prototype.name="edulive.net.XhrPool.Timeout";var ht=function(){pt.call(this,"Disconnected",jm,"connection")};r(ht,pt);ht.prototype.name="edulive.net.XhrPool.DisconnectedError";
var qt=function(a,b,c,d,e,f,g){Jo.call(this,a,d,e,g);a=new sk(this.b);null!=c&&J(a,"oauth_token",c);0!=d&&J(a,"authuser",d);null!=e&&J(a,"service",e);c={};c.pu=a.toString();this.g=new xs(c,b,f,t(this.Ke,this));this.a=null;this.h=new Mn("XpcSenderClient")};r(qt,Jo);h=qt.prototype;h.Ke=function(a){this.a=a;a=t(this.nf,this);this.a.l.ss={da:a,vc:!1};a=t(this.mf,this);this.a.l.sf={da:a,vc:!0};Ko(this.ua)};h.start=function(){L(this.h,"Attempting to connect cross-page channel");ys(this.g)}; h.send=function(a,b,c){this.a.send("s",[a,b,c])};h.nf=function(){L(this.ua.h,"post success.")};h.mf=function(a){K(this.ua.h,"error during post: "+a[0])};
var rt=function(){this.b=Nb();this.a=lr()},st=function(a,b,c){var d=a.h,e=b.a,f=a.g,g=new Xm(d),l=new Ro(a.c,"ClientToken",g,d);Kl(window,"unload",function(){if(null!=l.b){var a=l.o,b=l.b;null==a.a?K(a.h,"Storage unsupported, dropping value"):10<=a.a.O()?K(a.h,"Store is full, dropping value"):Zm(a,Nb(),b)}});a=new Lo(d,a.b,f,a.a,l);a.start();b=new ws(a,Math.random,1053,b.b,e,"hr",c);return new yr(b,c,d,f,l.v)};
var tt=function(a,b,c){$s.call(this,a,b||"edulive.net.OAuthXhrPool:",c||P("edulive.net.OAuthXhrPool"))};r(tt,$s);v(tt);tt.prototype.send=function(a){var b=u(a)?new bt(a):a.clone();a=t(this.g,this,b);b=t(this.o,this,b);return Bj(Xs.B().c().then(a),b)};tt.prototype.g=function(a,b){var c=new G(a.ub());c.set("Authorization","Bearer "+b);a.c=c;return $s.prototype.send.call(this,a)};tt.prototype.b=function(a,b){return tt.J.b.call(this,a,b)?b instanceof it?401!=b.status:!0:!1}; tt.prototype.o=function(a,b){if(b instanceof it&&401==b.status)return b=t(Xs.B().c,Xs.B()),a=t(this.g,this,a.clone()),Zs(Xs.B()).then(b).then(a);throw b;};
var ut=function(){x.call(this);this.c=P("edulive.notifications.Notification");this.b="";this.K=!1;this.j=this.G=this.g=this.A=void 0;this.H="unknown";this.a={type:"basic",iconUrl:void 0,title:void 0,message:void 0,contextMessage:void 0,priority:void 0,eventTime:void 0,buttons:void 0,imageUrl:void 0,items:void 0,progress:void 0,isClickable:void 0};this.timeout=5E3;this.o=null;this.P=xj();this.l=[];this.M=void 0;this.C=this.D=null;this.U=t(this.sa,this);chrome.notifications.onClosed.addListener(this.U)};
r(ut,x);ut.prototype.F=function(){Aj(this.close("dismissed"),function(){vt(this);x.prototype.F.apply(this)},this)};var wt=["dismissed"];ut.prototype.setIcon=function(a){this.A=a;xt(this)&&yt(this);return this};ut.prototype.setTitle=function(a){return zt(this,"title",a)};var At=function(a,b){a.C||(a.C=t(a.ra,a),chrome.notifications.onButtonClicked.addListener(a.C));var c=a.a.buttons||[];qd(c,b);zt(a,"buttons",c)},Bt=function(a,b){0<=fd(a.l,b)||qd(a.l,b)};
ut.prototype.setTimeout=function(a){this.timeout=a;xt(this)&&(this.Dc(),this.Cc());return this};var zt=function(a,b,c){a.a[b]=c;a.update();return a},xt=function(a){return""!=a.b&&!a.K};ut.prototype.close=function(a){if(this.K)return I(!1);a&&Ct(this,a);if(""!=this.b)return a=xj(),chrome.notifications.clear(this.b,t(this.ca,this,a)),a.a;Dt(this,!1);return I(!1)};ut.prototype.ca=function(a,b){b||U(this.c,"Could not close notification id: "+this.b+" with: "+w(this.a)+". Was it already closed?");a.b(b)};
var vt=function(a){a.Dc();a.g&&(window.URL.revokeObjectURL(a.g),a.g=void 0);a.j&&(window.URL.revokeObjectURL(a.j),a.j=void 0);chrome.notifications.onClosed.removeListener(a.U);a.C&&chrome.notifications.onButtonClicked.removeListener(a.C);a.D&&chrome.notifications.onClicked.removeListener(a.D)},Ft=function(a,b){var c=ot(lt(new bt(b),"GET"));return Et(b)?I(b):$s.B().send(c).then(function(a){return window.URL.createObjectURL(a)},function(a){if(!(a instanceof pt))throw a;},a)},Et=function(a){a=(new sk(a)).g;
return"data"==a||"blob"==a||""==a||"chrome-extension"==a},yt=function(a){return(Et(a.A)?I(a.A):Ft(a,a.A).then(function(a){this.g&&window.URL.revokeObjectURL(this.g);return this.g=a},void 0,a)).then(function(a){zt(this,"iconUrl",a);return a},void 0,a)},Gt=function(a){return(Et(a.G)?I(a.G):Ft(a,a.G).then(function(a){this.j&&window.URL.revokeObjectURL(this.j);return this.j=a},void 0,a)).then(function(a){zt(this,"imageUrl",a);return a},void 0,a)};h=ut.prototype;
h.show=function(a){if(this.M)return this.M;this.l.length||(this.l=wt);var b=[];this.A&&qd(b,yt(this));this.G&&qd(b,Gt(this));qd(b,tn(a||0));return this.M=vj(b).then(this.gc,void 0,this)};h.gc=function(){this.K||chrome.notifications.create("",this.a,t(this.vf,this));return this.P.a};h.vf=function(a){a?(this.b=a,T(this.c,"Created "+this.a.type+" notification: "+this.b+". "+this.a.title+"("+this.a.message+")"),this.Cc()):S(this.c,"Could not create a notification for: "+w(this.a))};
h.Cc=function(){this.timeout&&(this.o=rn(this.aa,this.timeout,this))};h.Dc=function(){this.o&&(sn(this.o),this.o=null)};h.update=function(){xt(this)&&chrome.notifications.update(this.b,this.a,t(this.Kf,this))};h.Kf=function(a){a||S(this.c,"Could not update notification id: "+this.b+" with: "+w(this.a))};var Ct=function(a,b){"unknown"==a.H&&(T(a.c,"User's response to notification: "+a.b+" was "+b),a.H=b,0<=fd(a.l,a.H)?a.P.a.cancel(a.H):a.P.b(a.H))};
ut.prototype.aa=function(){U(this.c,"User did not interact with notification: "+this.b+" in the time alotted.");this.o=null;this.close()};var Dt=function(a,b){b?Ct(a,"dismissed"):Ct(a,"ignored");vt(a);a.K=!0};ut.prototype.sa=function(a,b){this.b==a&&Dt(this,b)};ut.prototype.ha=function(a){this.b==a&&(Ct(this,"clicked"),this.close())};ut.prototype.ra=function(a,b){this.b==a&&(Ct(this,b?"clicked_button_1":"clicked_button_0"),this.close())};
var Ht=function(){N.call(this);this.h=P("edulive.startup.Startup");this.D=Xs.B();this.K=m();this.ca=window.setInterval(t(this.yf,this),5E3);this.j=0;this.G=!0;this.c=!1;this.A=null;this.o=this.b=this.l=void 0;this.M=0;this.N=t(this.ha,this);this.D.listen("oauthFailed",this.N);this.Z=t(this.Af,this);chrome.runtime.onStartup.addListener(this.Z);this.H=t(this.Je,this);chrome.runtime.onInstalled.addListener(this.H);this.U=t(this.wf,this);chrome.identity.onSignInChanged.addListener(this.U);this.P=t(this.sa,
this);chrome.idle.onStateChanged.addListener(this.P);chrome.runtime.onUpdateAvailable.addListener(t(this.Ha,this));this.Bc=this.C=!1};r(Ht,N);v(Ht);Ht.prototype.F=function(){chrome.idle.onStateChanged.removeListener(this.P);chrome.identity.onSignInChanged.removeListener(this.U);chrome.runtime.onInstalled.removeListener(this.H);chrome.runtime.onStartup.removeListener(this.Z);this.D.a("oauthFailed",this.N);this.j&&(sn(this.j),this.j=0);window.clearInterval(this.ca);Ht.J.F.call(this)};
var Jt=function(){var a=Ht.B();return vj([a.v(),It(a)])};Ht.prototype.v=function(){var a=(this.A?this.A:I()).then(this.aa,void 0,this);this.A=a;return Aj(a,function(){this.A==a&&(this.A=null)},this)};var It=function(a){return q(a.o)?I(a.o):new H(function(a){chrome.idle.queryState(60,t(function(b){this.o="locked"==b;a(this.o)},this))},a)},Kt=function(a){a.j||(a.j=rn(a.xf,500,a))};
Ht.prototype.aa=function(){var a=this.G,b=this.b;this.G=!1;var c=this.b?I(this.b):Lt(this),d=t(this.He,this,a,b),e=t(this.Ge,this,a),a=t(this.Kd,this,a,this.c,b);return Aj(c.then(this.Od,void 0,this).then(d,e),a)};var Lt=function(a){return new H(function(a,c){chrome.identity.getProfileUserInfo(t(function(b){var d=b&&b.email;b=b&&b.id;d&&b?(this.l=b,this.b=d.toLowerCase(),a(this.b)):c(new Mt)},this))},a)};h=Ht.prototype;
h.Od=function(){return this.D.c().then(function(){return this.b},function(a){if(a instanceof Ys)throw new Mt;throw a;},this)};h.He=function(a,b,c){c!=b&&T(this.h,c+" signed in.");a||this.c||W.B().sendRequest("edulive.messages.errors.Requests.clearError","profile");this.j&&(sn(this.j),this.j=0);this.c=!0;return c};h.Ge=function(a,b){a&&S(this.h,"No signed in user. email="+this.b+", id="+this.l);(this.l||this.b)&&Kt(this);this.c=!1;throw b;};
h.Kd=function(a,b,c){a||b==this.c&&c==this.b||O(this,this.c?"signin":"signout")};h.yf=function(){var a=m(),b=a-this.K;1E4<=b&&(T(this.h,"Slept for "+b/1E3+" seconds. Firing WOKEUP event."),O(this,"wokeup"));this.K=a};h.Af=function(){U(this.h,"Detected chrome.runtime.onStartup.");O(this,"started")};
h.Je=function(a){U(this.h,"Detected chrome.runtime.chrome.runtime.onInstalled("+w(a)+").");switch(a.reason){case "install":O(this,"installed");break;case "chrome_update":case "shared_module_update":O(this,"upgraded");break;case "update":var b=!0;if(a=a.previousVersion){var c=chrome.runtime.getManifest();(b=c.version!=a)&&T(this.h,"Detected extension upgrade from "+a+" to "+c.version)}b&&O(this,"upgraded")}};
h.wf=function(a,b){a=a&&a.id;b?this.l&&this.l!=a||(this.l=this.b=void 0,this.c=!1,O(this,"signin")):this.l==a&&(S(this.h,this.b+" signed out!"),this.l=this.b=void 0,this.c=!1,O(this,"signout"))};h.xf=function(){this.j=0;Bj(this.v(),function(a){if(!(a instanceof Mt))throw a;},this)};var Nt=function(){var a=Ht.B(),b=m();36E5>b-a.M||(a.M=b,chrome.runtime.requestUpdateCheck(t(function(a){"update_available"==a&&(this.C=!0)},a)))};
Ht.prototype.Ha=function(){il("PREVIOUS_CLIENT_VERSION_KEY").then(function(a){var b=chrome.runtime.getManifest().version;a!=b&&jl("PREVIOUS_CLIENT_VERSION_KEY",b).then(function(){this.Bc=!0},function(a){this.h.ya("Error updating: "+a.message)},this)},function(a){this.h.ya("Error getting version: "+a.message)},this)};
var Ot=function(a){ks.B();a.C&&ps(0,"Other","Reloading to update client");rn(function(){chrome.runtime.reload();R(this.h,"Reload apparently did not work.");ps(0,"Other","Reload failed")},a.C?2E3:0,a)};Ht.prototype.sa=function(a){U(this.h,"chrome.idle.onStateChanged("+a+")");var b="locked"==a;b!=this.o&&(this.o=b,O(this,this.o?"locked":"unlocked"));"idle"==a&&this.Bc&&(R(this.h,"reloading..."),this.Bc=!1,Ot(this))};
Ht.prototype.ha=function(){this.b&&(S(this.h,this.b+" failed OAuth2. Treating as if signed out!"),this.c&&O(this,"signout"),this.c=!1,Kt(this))};var Mt=function(){wn.call(this,"User not signed in.",void 0,lm,"profile")};r(Mt,wn);Mt.prototype.name="edulive.startup.Startup.UserNotSignedInError";
var Pt=function(a){tt.call(this,a,"edulive.net.ApiXhrPool:",P("edulive.net.ApiXhrPool"))};r(Pt,tt);v(Pt);
var Qt={InternalServerError:"INTERNAL",WorkgroupAlreadyExists:"ALREADY_EXISTS",NotAllowed:"PERMISSION_DENIED",NotEnrolled:"FAILED_PRECONDITION",NotJoined:"FAILED_PRECONDITION",NotRegistered:"FAILED_PRECONDITION",BadRequest:"INVALID_ARGUMENT",MethodNotAllowed:"UNIMPLEMENTED",StateNotFound:"NOT_FOUND",StateOutOfSync:"OUT_OF_RANGE",WorkgroupNotFound:"NOT_FOUND",WorkgroupNotInSession:"FAILED_PRECONDITION"},Rt={NotRegistered:km,BadGateway:hm};
Pt.prototype.send=function(a){return Bj(Pt.J.send.call(this,a),t(this.j,this))};Pt.prototype.a=function(a){return Bj(Pt.J.a.call(this,a),function(a){if(a instanceof SyntaxError)throw new St(a.message,502,"BadGateway");throw a;},this)};Pt.prototype.b=function(a,b){if(!Pt.J.b.call(this,a,b))return!1;if(b instanceof gt||b instanceof ht)return!0;if(b instanceof it)switch(b.status){case 500:case 502:case 503:case 504:case 405:return!0}return!1};
Pt.prototype.j=function(a){if(a instanceof it){var b;try{b=JSON.parse(a.message)}catch(d){throw new St(a.message,a.status,"BadGateway");}var c;a:{if(u(b.error)){if(b.error in Qt){c={error:b.error,info:b.debug};break a}}else if(ka(b.error)&&db(Qt,b.error.status)){c={error:b.error.status,info:b.error.message};break a}c=null}if(null==c)throw a;b=c.error;c=c.info;throw new St(q(c)&&!tb(c)?c:b,a.status,b);}throw a;};var St=function(a,b,c){it.call(this,a,b,gb(Rt,c),c)};r(St,it);St.prototype.name="edulive.net.ApiXhrPool.Error"; var Tt=function(a){if(!(a instanceof St))return!1;a=a.errorType;return"WorkgroupNotFound"==a||a==Qt.WorkgroupNotFound};
var Ut=function(){ut.call(this);this.c=P("edulive.notifications.TimerNotification");this.a.type="progress";this.a.progress=0;this.Z=100/(this.timeout/500);this.N=this.timeout;this.v=new qn(500);this.ba=t(this.Ha,this);this.v.listen("tick",this.ba)};r(Ut,ut);h=Ut.prototype;h.F=function(){this.v.a("tick",this.ba);this.v.X();Ut.J.F.call(this)};h.setTimeout=function(a){Ut.J.setTimeout.call(this,a);this.Z=100/(this.timeout/500);this.N=this.timeout;Vt(this);this.update();return this};
h.gc=function(){this.a.type="progress";return Ut.J.gc.call(this)};h.Cc=function(){this.v.start()};h.Dc=function(){this.v.stop()};var Vt=function(a){var b=a.a,c=Math.ceil(Math.max(a.N,0)/1E3);a=chrome.i18n.getMessage("3208531239543188174");a=new Sh(a);c={numSeconds:c};if(0==a.g.length)a="";else{var d=[];Vh(a,a.g,c,!1,d);for(c=d.join("");0<a.a.length;)c=c.replace(a.b(a.a),a.a.pop());a=c}b.contextMessage=a}; Ut.prototype.Ha=function(){var a=this.a.progress,a=a+this.Z;this.a.progress=Math.round(a);this.N-=500;Vt(this);100>a?this.update():this.aa()};
var Wt=function(){N.call(this);this.h=P("edulive.tabs.Tabs");this.b=Ht.B();this.j=null;this.c={};this.v=t(this.Ve,this);chrome.tabs.onUpdated.addListener(this.v);this.l=t(this.Oe,this);chrome.tabs.onActivated.addListener(this.l);this.o=t(this.Pe,this);chrome.tabs.onRemoved.addListener(this.o);this.A=t(this.We,this);chrome.windows.onFocusChanged.addListener(this.A);this.C=t(this.Cf,this);this.b.listen("locked",this.C);this.D=t(this.Df,this);this.b.listen("unlocked",this.D)};r(Wt,N);v(Wt);
Wt.prototype.F=function(){this.b.a("unlocked",this.D);this.b.a("locked",this.C);chrome.windows.onFocusChanged.removeListener(this.A);chrome.tabs.onRemoved.removeListener(this.o);chrome.tabs.onActivated.removeListener(this.l);chrome.tabs.onUpdated.removeListener(this.v);Wt.J.F.call(this)};
var Yt=function(a,b){Q(a.h,M,"getTab("+b+")");return new H(function(a,d){chrome.tabs.get(b,t(function(c){chrome.runtime.lastError?(c=new Xt("Tab not found",chrome.runtime.lastError),S(this.h,"Tab "+b+" not found. Details: "+w(c)),d(c)):a(c)},this))},a)},Zt=function(a,b){var c=Vm.B();Q(a.h,Em,"getTabByUrl("+b+", undefined)");return new H(function(a){chrome.tabs.query({},t(function(d){d=d||[];d=id(d,function(a){return c.T(b,a.url)},this);d.length?a(d[0]):a(null)},this))},a)},au=function(a){Q(a.h,M,
"getActiveTab()");return $t(a).then(function(a){if(!a||!a.tabs)return null;a=nd(a.tabs,function(a){return a.active});Q(this.h,M,"ActiveTab: "+w(a));return a},void 0,a)},cu=function(a){Q(a.h,M,"getLastViewedTab()");return bu(a).then(function(a){if(!a||!a.tabs)return null;a=nd(a.tabs,function(a){return a.active});Q(this.h,M,"LastViewedTab: "+w(a));return a},void 0,a)},gu=function(a,b){Q(a.h,M,"createTab("+b+", false)");return du(a).then(function(a){return a?eu(this,b,a):fu(this,b)},void 0,a)},iu=function(a,
b){Q(a.h,M,"showTab("+b+")");return new H(function(a,d){chrome.tabs.update(b,{active:!0},t(function(c){if(chrome.runtime.lastError){var e=new Xt("Tab not found",chrome.runtime.lastError);S(this.h,"Tab "+b+" not found. Details: "+w(e));d(e)}else hu(this,c.windowId).then(function(){a(c)},void 0,this)},this))},a)},ju=function(a,b){Q(a.h,M,"getWindow("+b+")");return new H(function(a,d){chrome.windows.get(b,{populate:!0},t(function(c){chrome.runtime.lastError?(c=new Xt("Window not found",chrome.runtime.lastError),
S(this.h,"Window "+b+" not found. Details: "+w(c)),d(c)):a(c)},this))},a)},bu=function(a){Q(a.h,M,"getLastFocusedWindow()");return new H(function(a,c){var b={populate:!0},e=t(function(b){if(chrome.runtime.lastError)if("No last-focused window"==chrome.runtime.lastError.message||0==chrome.runtime.lastError.message.lastIndexOf("No window with id",0))b=null;else{var d=new Xt("Window not found",chrome.runtime.lastError);S(this.h,"getLastFocused failed. Details: "+w(d));c(d)}b=b&&!b.incognito?b:null;Q(this.h,
M,"FocusedWindow: "+w(b));a(b)},this);null!=this.j?chrome.windows.get(this.j,b,e):chrome.windows.getLastFocused(b,e)},a)},$t=function(a){return vj([It(a.b),bu(a)]).then(function(a){var b=a[1];return b?!a[0]&&b.focused?b:null:null},void 0,a)},fu=function(a,b){var c="createTabInNewWindow("+b+", false)";Q(a.h,M,c);var d=xj();chrome.windows.create({url:b,focused:!0,type:"normal"},t(function(a){chrome.runtime.lastError?(a=new Xt("Tab Create Failed",chrome.runtime.lastError),R(this.h,c+" failed. Details: "+
w(a)),d.c(a)):(U(this.h,c+". Created window: "+a.id),this.c[a.tabs[0].id]=d)},a));return d.a},hu=function(a,b){Q(a.h,M,"showWindow("+b+")");return new H(function(a,d){ju(this,b).then(function(b){b.focused&&a(b);chrome.windows.update(b.id,{focused:!0},t(function(c){chrome.runtime.lastError?(c=new Xt("Could not bring window to the front",chrome.runtime.lastError),R(this.h,"Setting focus to "+b.id+" failed. Details: "+w(c)),d(c)):a(c)},this))},void 0,this)},a)},ku=function(a,b){Q(a.h,M,"getThumbnail("+
b+")");return Yt(a,b).then(function(a){return a.active?I(a):iu(this,a.id)},void 0,a).then(a.G,void 0,a)};Wt.prototype.G=function(a){return new H(function(b){chrome.tabs.captureVisibleTab(a.windowId,{format:"png"},t(function(c){chrome.runtime.lastError&&(S(this.h,'Failed to create a thumbnail for "'+a.url+'". Reason: '+chrome.runtime.lastError.message),c="unknown_thumbnail.png");U(this.h,"Generated "+c+" for tab "+a.id);b(c)},this))},this)};
var du=function(a){return new H(function(a){chrome.windows.getLastFocused({populate:!0},t(function(b){!b||b.incognito||"normal"!=b.type?chrome.windows.getAll(t(function(b){b&&b.length?(b=nd(b,function(a){return a.incognito||"normal"!=a.type?!1:!0},this),a(b)):a(null)},this)):a(b)},this))},a)},eu=function(a,b,c){var d="createTab_("+b+(c?", "+c.id:"")+")";Q(a.h,M,d);var e=xj(),f={url:b};c?f.windowId=c.id:f.active=!0;chrome.tabs.create(f,t(function(a){chrome.runtime.lastError?(a=new Xt("Tab Create Failed",
chrome.runtime.lastError),R(this.h,d+" failed. Details: "+w(a)),e.c(a)):(U(this.h,"Created Tab "+a.id+" for "+b),this.c[a.id]=e,hu(this,a.windowId))},a));return e.a};h=Wt.prototype;
h.Ve=function(a,b,c){U(this.h,"chrome.tabs.onUpdated("+a+","+JSON.stringify(b)+")");(c?I(c):Yt(this,a)).then(function(c){var d=b.status,f=this.c[a];f?"complete"==d&&(U(this.h,a+" is now showing "+c.url),fb(this.c,a),f.b(c),O(this,new lu(this,"url_changed",c))):(d=b.url,Sm(this,"url_changed")&&q(d)&&O(this,new lu(this,"url_changed",c)))},function(c){if(c instanceof Xt)S(this.h,"Could not find tab for "+a+", "+JSON.stringify(b));else throw c;},this)};
h.Oe=function(a){U(this.h,"chrome.tabs.onActivated("+JSON.stringify(a)+")");if(Sm(this,"activated")){var b=a.tabId;Bj(Yt(this,b),function(a){if(a instanceof Xt)return S(this.h,"Can't get data for tab "+b),null;throw a;},this).then(function(a){a=a&&!a.incognito?a:null;O(this,new lu(this,"activated",a))},void 0,this)}};h.Pe=function(a,b){U(this.h,"chrome.tabs.onRemoved_("+a+", "+JSON.stringify(b)+")");Sm(this,"closed")&&O(this,new lu(this,"closed",null,a))};
h.We=function(a){U(this.h,"chrome.windows.onFocusChanged("+a+")");a!=chrome.windows.WINDOW_ID_NONE&&(this.j=a);(a!=chrome.windows.WINDOW_ID_NONE?au(this):I(null)).then(function(a){O(this,new lu(this,"activated",a))},void 0,this)};h.Cf=function(){O(this,new lu(this,"activated",null))};h.Df=function(){au(this).then(function(a){O(this,new lu(this,"activated",a))},void 0,this)};var lu=function(a,b,c,d){Ed.call(this,b,a);this.tabId=c&&c.id||d;this.b=c};r(lu,Ed);var Xt=function(a,b){wn.call(this,a,b)}; r(Xt,wn);Xt.prototype.name="edulive.tabs.Tabs.Error";
var mu=function(a){x.call(this);this.V=ib(a);this.V.email=this.V.email&&this.V.email.toLowerCase();this.V.id=this.V.id||this.V.email;this.V.photoUrl=this.V.photoUrl?cl(this.V.photoUrl):"unknown_user.png"};r(mu,x);P("edulive.userinfo.UserInfo");mu.prototype.R=function(){return this.V.id};var nu=function(a){return"HOMEROOM_NOT_AVAILABLE"!=a};mu.prototype.isTeacher=function(){return"TEACHER"==this.V.role};
var ou=function(a){return ib(a.V)},pu=function(a){return jd(a,function(a){return ib(a.V)})},qu=null,ru=function(){return Ht.B().v().then(function(a){return{id:null,fullName:null,photoUrl:null,email:a,role:null}})},su=function(a){return qu=new mu(a)},vu=function(a){tu();if(a instanceof SyntaxError)throw new uu("Could not parse user information. Reason: ",a);throw a;},wu=function(){tu()},tu=function(){qu=null;Ht.B().a("signout",wu)},uu=function(a,b){wn.call(this,a,b)};r(uu,wn);uu.prototype.name="edulive.userinfo.UserInfo.Error";
var xu=function(){x.call(this);this.h=P("edulive.icon.IconState");this.j=W.B();this.c=Wt.B();this.a=0;this.b=null;this.o=t(this.bf,this);chrome.runtime.onConnect.addListener(this.o);this.g={};this.l=t(this.Ye,this);X(this.j,"edulive.messages.icon.Requests.open",this.l)};r(xu,x);v(xu);h=xu.prototype;h.F=function(){Z(this.j,"edulive.messages.icon.Requests.open",this.l);chrome.runtime.onConnect.removeListener(this.o);Va(this.g,function(a){a()});this.b&&this.c.a("activated",this.b);xu.J.F.call(this)};
h.Ye=function(){if(this.a)return U(this.h,"Popup already open (handler)"),I(!0);U(this.h,"Focusing windows to open popup");return bu(this.c).then(function(a){return Bj(new H(function(b,c){a?chrome.windows.update(a.id,{focused:!0},t(this.yc,this,b,c)):chrome.windows.create(void 0,t(this.yc,this,b,c))},this),function(a){if("Window not found"==a.message){if(!this.b)return S(this.h,"Opening popup failed.  Trying again after Chrome is in focus."),new H(function(a,b){this.b=t(this.Xe,this,a,b);this.c.listen("activated",
this.b)},this)}else throw a;},this)},void 0,this)};h.yc=function(a,b){T(this.h,"Opening popup");this.a?(U(this.h,"Popup already open (openPopup_)"),a(!0)):chrome.browserAction.openPopup(t(function(c){!chrome.runtime.lastError&&c?(U(this.h,"Popup opened the first try"),a(!0)):(U(this.h,"Popup failed to open.  Trying again."),rn(function(){chrome.browserAction.openPopup(function(c){!chrome.runtime.lastError&&c?a(!0):(c=new Xt("Window not found",chrome.runtime.lastError),b(c))})},500))},this))};
h.Xe=function(a,b){this.c.a("activated",this.b);this.b=null;this.yc(a,b)};h.bf=function(a){if("edulive.messages.icon.CONNECT_NAME"==a.name){this.a+=1;U(this.h,this.a+" popups now open");var b=t(this.af,this,a);this.g[ja(a)]=b;a.onDisconnect.addListener(b)}};h.af=function(a){--this.a;U(this.h,this.a+" popups now open");var b=this.g[ja(a)];a.onDisconnect.removeListener(b);delete this.g[ja(a)]};
var yu=function(){x.call(this);this.b=Wt.B();this.a=W.B();this.A=t(this.Ef,this);this.b.listen("activated",this.A);this.c=t(this.Gf,this);this.b.listen("url_changed",this.c);this.v=t(this.Ff,this);this.b.listen("closed",this.v);this.g=t(this.le,this);X(this.a,"edulive.messages.tabs.Requests.getActive",this.g);this.j=t(this.ve,this);X(this.a,"edulive.messages.tabs.Requests.getLastViewed",this.j);this.l=t(this.ye,this);X(this.a,"edulive.messages.tabs.Requests.get",this.l);this.o=t(this.ze,this);X(this.a,
"edulive.messages.tabs.Requests.getThumbnail",this.o)};r(yu,x);v(yu);h=yu.prototype;h.F=function(){Z(this.a,"edulive.messages.tabs.Requests.getThumbnail",this.o);Z(this.a,"edulive.messages.tabs.Requests.get",this.l);Z(this.a,"edulive.messages.tabs.Requests.getLastViewed",this.j);Z(this.a,"edulive.messages.tabs.Requests.getActive",this.g);this.b.a("closed",this.v);this.b.a("url_changed",this.c);this.b.a("activated",this.c);yu.J.F.call(this)};
h.Ef=function(a){Eo(this.a,"edulive.messages.tabs.Events.activated",a.b)};h.Gf=function(a){Eo(this.a,"edulive.messages.tabs.Events.urlChanged",a.b)};h.Ff=function(a){Eo(this.a,"edulive.messages.tabs.Events.closed",a.tabId)};h.le=function(){return au(this.b)};h.ve=function(){return cu(this.b)};h.ye=function(a){a=a.message.params;return ma(a)?Yt(this.b,a):sj(new An(a))};h.ze=function(a){a=a.message.params;return ma(a)?ku(this.b,a):sj(new An(a))};
var zu=function(){N.call(this);this.h=P("edulive.userinfo.SelfInfoManager");this.c=W.B();this.b=void 0;this.j=null;this.l=t(this.ke,this);Ht.B().listen("signout",this.l);this.c.listen("edulive.messages.options.Events.customServerEndpointChanged",this.l);this.v=t(this.we,this);X(this.c,"edulive.messages.userInfo.Requests.self",this.v);this.o=t(this.A,this);X(this.c,"edulive.messages.userInfo.Requests.canUseHomeroom",this.o)};r(zu,N);v(zu);
zu.prototype.F=function(){Ht.B().a("signout",this.l);this.c.a("edulive.messages.options.Events.customServerEndpointChanged",this.l);Z(this.c,"edulive.messages.userInfo.Requests.canUseHomeroom",this.o);Z(this.c,"edulive.messages.userInfo.Requests.self",this.v);zu.J.F.call(this)};var Bu=function(a){return Au(a).then(function(a){return nu(a.V.role)},void 0,a)};zu.prototype.A=function(){return Bu(this)};
var Au=function(a){return a.c.sendRequest("edulive.messages.userInfo.Requests.isClientObsolete").then(function(a){if(a)a=new mu({id:"unused",fullName:"unused",photoUrl:"unused",email:"unused",role:"HOMEROOM_NOT_AVAILABLE"});else{if(a=this.b)a=this.b.V.role,a="STUDENT"==a||"TEACHER"==a;a?a=I(this.b):(this.j||(U(this.h,"Beginning requestSelf process."),this.j=Aj(Bj(Ht.B().v().then(this.$d,void 0,this),this.hf,this),t(this.Qd,this,this.j))),a=this.j)}return a},function(a){if(a.name==ht.prototype.name||
a.name==gt.prototype.name||a.name==St.prototype.name)return qu?a=I(qu):(Ht.B().listen("signout",wu),a=ru().then(su,vu)),a;throw a;},a)};h=zu.prototype;h.$d=function(a){var b={url:Yk("participants","me").toString(),method:"GET",za:"API Call: GET_PARTICIPANT"},b=ct(nt(mt(b),{}),6);a=t(this.jf,this,a);return Pt.B().a(b).then(a)};
h.jf=function(a,b){(b=b.participant)&&nu(b.role)?T(this.h,a+" ("+b.id+") now registered, role = "+b.role):(T(this.h,a+" cannot use homeroom"),b.email=a,O(this,"requestFailed"));a=new mu(b);b=!this.b||this.b.R()!=a.R();this.b=a;b&&O(this,"selfChanged");return this.b};h.hf=function(a){S(this.h,"Failed getting self info");O(this,"requestFailed");throw a;};h.Qd=function(){this.j=null};h.ke=function(){U(this.h,"Self info cache cleared");this.b=null;O(this,"selfChanged")};h.we=function(){return Au(this).then(ou)};
var Cu=function(a,b,c,d){this.I=null;this.L=[];this.h=new Mn("LcsPushChannel");this.H=this.l=!1;this.G=b;this.K=c||"lcssenderclient";this.b=[];this.g=d||null;this.c=this.C=null;this.j=(self.SharedWorker&&a.g(),new yp(this,a));null!=this.g&&this.j.Qc(this.g);this.j.open();this.o=this.A=null;this.D=0;b=a.b;a.g()?this.v=new qt(this.G,this.K,this.g,b,a.a,null,this):this.v=new Jo(this.G,b,a.a,this);this.v.start()};
Cu.prototype.xc=function(a,b){this.A||(this.A=a.H(this),this.A.open());null!=this.c&&this.c.xc(a,b);L(this.h,"LCS push-only channel opened")};Cu.prototype.a=function(a){this.h=a.h};Cu.prototype.stop=function(){this.j.Da()||this.j.X()};Cu.prototype.sendMessage=function(a){this.l?Du(this,a):(10<=this.b.length&&this.b.shift(),this.b.push(a),L(this.h,"not online. Buffer message "+a))};
var Du=function(a,b){if(a.l){var c=a.o,d=new rg;D(d,1,114);D(d,2,c);var c=a.D.toString(),e=new ug;D(e,2,2);D(e,1,3);var f=new wg;D(f,1,e);e=new Vi;D(e,5,f);D(e,6,1);D(e,7,2);D(e,4,b);D(e,8,d);D(e,1,!0);D(e,10,c);a.D++;L(a.h,"sending "+e);b=kn(e);d={"Content-Type":"text/plain"};c={};null!=a.g?d.Authorization="OAuth "+a.g:null!=a.C&&(c.app_auth=a.C);a.v.send(b,d,c)}else K(a.h,"no session yet: not sending "+b)};Cu.prototype.receive=function(a,b){this.I&&this.I(b)};
Cu.prototype.wc=function(a,b){null!=this.c&&this.c.wc(a,b);K(this.h,"channel error: %s",b)};Cu.prototype.Tb=function(a){is(this,!1);null!=this.c&&this.c.Tb(a);L(this.h,"channel closed")};Cu.prototype.ld=function(a,b){K(this.h,"failed to create session: %s",b.description)};var Ko=function(a){L(a.h,"cross-page channel open");a.H=!0;is(a,!0)},is=function(a,b){a.l=b&&null!=a.o&&a.H;if(a.l&&0!=a.b.length){for(b=0;b<a.b.length;b++)Du(a,a.b[b]);pd(a.b)}for(b=0;b<a.L.length;++b)a.L[b](a.l)};
var Ms=function(){N.call(this);this.h=P("edulive.connection.RegistrationManager");this.b=W.B();this.C=zu.B();this.j=0;this.v=this.A=void 0;this.c=null;this.o=t(this.kf,this);Ht.B().listen("wokeup",this.o);Ht.B().listen("signin",this.o);this.l=t(this.Jf,this);Es.B().listen(Ps,this.l);Ht.B().listen("signout",this.l);this.C.listen("requestFailed",this.l);this.N=t(this.xe,this);X(this.b,"edulive.messages.connection.Requests.state",this.N);this.H=t(this.pe,this);X(this.b,"edulive.messages.options.Requests.getDefaultServerEndpoint",
this.H);this.G=t(this.oe,this);X(this.b,"edulive.messages.options.Requests.getCustomServerEndpoint",this.G);this.U=t(this.rf,this);X(this.b,"edulive.messages.options.Requests.setCustomServerEndpoint",this.U);this.P=t(this.ff,this);X(this.b,"edulive.messages.connection.Requests.register",this.P);this.K=t(this.se,this);X(this.b,"edulive.messages.connection.Requests.homeroomUrl",this.K);this.D=t(this.ge,this);this.b.listen("edulive.messages.errors.Events.errorChanged",this.D);this.M=t(this.te,this);
X(this.b,"edulive.messages.userInfo.Requests.isClientObsolete",this.M)};r(Ms,N);v(Ms);
Ms.prototype.F=function(){Z(this.b,"edulive.messages.userInfo.Requests.isClientObsolete",this.M);this.b.a("edulive.messages.errors.Events.errorChanged",this.D);Z(this.b,"edulive.messages.connection.Requests.register",this.P);Z(this.b,"edulive.messages.options.Requests.getDefaultServerEndpoint",this.H);Z(this.b,"edulive.messages.options.Requests.getCustomServerEndpoint",this.G);Z(this.b,"edulive.messages.options.Requests.setCustomServerEndpoint",this.U);Z(this.b,"edulive.messages.connection.Requests.state",
this.N);Z(this.b,"edulive.messages.connection.Requests.homeroomUrl",this.K);this.C.a("requestFailed",this.l);Ht.B().a("signout",this.l);Es.B().a(Ps,this.l);Ht.B().a("signin",this.o);Ht.B().a("wokeup",this.o);Ms.J.F.call(this)};var Eu=function(a){return Bj(a.register(),function(a){if(a instanceof Mt||a instanceof ht||a instanceof Ys)return this.Ya(0);throw a;},a)};Ms.prototype.register=function(){return this.Yb(!1)};
var Fu=function(a){return a.La().then(function(){return this.A},void 0,a)},Ls=function(a){return a.La().then(function(){return this.v},void 0,a)};h=Ms.prototype;h.te=function(){return Ls(this)};h.getState=function(){return this.j};h.La=function(){return this.c?this.c.then(this.La,void 0,this):2==this.j?I(this.j):this.register()};
h.Ya=function(a){if(this.j!=a){var b;switch(a){case 0:b="Unknown";break;case 1:b="Registering";break;case 2:b="Registered";break;default:b="Bad State!"}T(this.h,"State: "+b);this.j=a;O(this,"stateChanged");Eo(this.b,"edulive.messages.connection.Events.stateChanged",this.j)}return this.j};h.Yb=function(a){if(this.c&&!a)return this.c;this.c=(this.c||I()).then(t(this.zf,this,a));Aj(this.c,t(this.Pd,this,this.c));return this.c};
h.zf=function(a){var b=I(this.j);if(a||2!=this.j)U(this.h,"Beginning registration process."),a=Ht.B(),b=Bj(b.then(t(this.Ya,this,1)).then(a.v,void 0,a).then(function(){return Ks()},void 0,this).then(this.Zd,void 0,this),this.ef,this);return b};h.Zd=function(a){var b={url:Yk("participants","me").toString(),method:"PUT",za:"API Call: UPDATE_PARTICIPANT"},c={gcmId:a,omitParticipantInResponse:!0,clientVersion:chrome.runtime.getManifest().version||"unknown"},b=ct(nt(mt(b),c),6);a=t(this.gf,this,a);return Pt.B().a(b).then(a)};
h.gf=function(a,b){if((this.v="OBSOLETE"==b.clientStatus)||"SHOULD_UPDATE"==b.clientStatus)S(this.h,"Client status: "+b.clientStatus),Nt();this.A=b.serverParameters&&b.serverParameters.homeroomUrl||"https://classroom.google.com/";T(this.h,"Now registered at "+this.A);return this.Ya(2)};h.ef=function(a){this.Ya(0);throw a;};h.Pd=function(a){this.c==a&&(this.c=null)};h.kf=function(){Bj(this.Yb(!0),function(a){if(!(a instanceof Mt))throw a;})};h.Jf=function(){this.Ya(0)};h.xe=function(){return I(this.getState())};
h.se=function(){return Fu(this)};h.rf=function(a){a=a.message.params;var b=Wk!=a;b&&(Wk=a,Xk=Fk(Lk(Wk),Lk("/v2/")));var c=I(this.j);b&&(Eo(this.b,"edulive.messages.options.Events.customServerEndpointChanged",a),c=c.then(t(this.Ya,this,0)));return c.then(t(this.Yb,this,b))};h.oe=function(){return I(Wk)};h.pe=function(){return I("https://classroomlive-pa.googleapis.com")};h.ff=function(a){return this.Yb(!!a.message.params)};h.ge=function(a){a.message.params instanceof ht&&this.Ya(0)};
var Gu=function(a,b,c,d,e){zs.call(this,c);this.A=a;this.l=b;this.o=xj();this.h=d;this.L=e;this.c=this.b=null;this.j={};this.hb=null;this.D=new pk};r(Gu,zs);var Hu=function(a){return il("edulive.tango.Listener.LAST_VERSIONS",{}).then(function(a){this.hb=a},null,a)},tr=function(a){a.hb?jl("edulive.tango.Listener.LAST_VERSIONS",a.hb):kl()},Iu=function(a,b){a.b=b;return vj([a.o.a,Hu(a)])};Gu.prototype.v=function(a){Gu.J.v.call(this,a);this.o.b()};
var ur=function(a,b,c){var d=b.a;U(a.h,"invalidateUnknownVersion("+d+")");a.D.contains(d)?vr(a,b):a.D.fb(d);a.l(c)},wr=function(a){var b=new bd(0,!1);S(a.h,"informError( "+b+")");a.o.c(b)};Gu.prototype.stop=function(){Va(this.j,function(a,b){Ju(this,b)},this);Ku(this);this.b=null};
var Lu=function(a){return a.c?I():Au(zu.B()).then(function(a){this.b&&!this.c&&a.R()&&nu(a.V.role)&&(a=a.R(),a=new Zc(1053,this.L+"u:"+a),U(this.h,"registerUser("+a.a+")"),this.register(this.b,a),this.c=a)},void 0,a)},Ku=function(a){a.c&&(U(a.h,"unregisterUser("+a.c.a+")"),a.unregister(a.b,a.c),a.c=null)},Mu=function(a,b){return(a.c?I():Lu(a)).then(function(){if(this.b&&!cb(this.j,b)){var a=new Zc(1053,this.L+"c:"+b);U(this.h,"registerCourse("+a.a+")");this.register(this.b,a);this.j[b]=a}},void 0,
a)},Ju=function(a,b){var c=a.j[b];c&&(U(a.h,"unregisterCourse("+c.a+")"),fb(a.j,b),a.unregister(a.b,c))},vr=function(a,b,c,d){var e;if(e=d)1<d.g?(e=d.a[0],e=e===rl?d.a[0]=[]:e):(e=d.c[1],e=e===rl?d.c[1]=[]:e);d=c||0;var f=a.hb[b.a]||0;c=q(c)&&f>=d;var g=new va(b);if(!e&&!c){var l,n;1==g.a.a.indexOf("u:")?l="refreshAll":1==g.a.a.indexOf("c:")?(l="refreshWorkgroup",n=g.R()):S(a.h,"Unknown objectId: "+b.a);l&&sr(a,l,n)}d=Math.max(f||0,d);a.hb[b.a]=d;tr(a)},sr=function(a,b,c){T(a.h,"Sending "+b+(q(c)? " for workgroup "+c:""));O(a.A,new Ud(a.A,b,c))};
var Nu=function(a,b,c,d,e,f){a=new Ds(a,c);d&&(a.b=d);f&&(a.a=f);Cu.call(this,a,b,void 0,e)};r(Nu,Cu);var Ou=function(a,b){this.h=P("edulive.pages.Pages");this.c=a;this.isOwner=b;this.a=null;this.v=Pt.B();this.g={};this.o=Ms.B();this.l=t(this.A,this);this.o.listen("stateChanged",this.l)};r(Ou,x);Ou.prototype.F=function(){this.o.a("stateChanged",this.l)};var Pu=function(a){if(!a.b){T(a.h,"getPages("+a.c+")");var b={url:Yk("workgroups",a.c,"pages").toString(),method:"GET",za:"API Call: GET_PAGES"},b=mt(b);a.b=a.v.a(b).then(a.C,void 0,a)}return a.b};
Ou.prototype.C=function(a){this.b=null;this.a=a;T(this.h,"gotPages: "+JSON.stringify(a));a.teacherPages=a.teacherPages||[];a.studentPages=a.studentPages||[];var b=m(),c=this.g,d=function(a){a.millisToExpire+=b;c[a.id]=a};hd(a.teacherPages,d);hd(a.studentPages,d)};
Ou.prototype.j=function(a,b,c){if(!this.a)return this.b?this.b.then(t(this.j,this,a,b,c)):I();var d=q(b)?b:this.isOwner;b=d?this.a.teacherPages:this.a.studentPages;if(c&&!this.g[c]&&(this.isOwner||d))return Pu(this);this.g[a.id]=a;T(this.h,(d?"teacher ":"student ")+"PAGE("+this.c+"): "+JSON.stringify(a));c=od(b,function(b){return b.id<=a.id});null==c&&(c=-1);-1!=c&&b[c].id==a.id||b.splice(c+1,0,a);return I()};
var Qu=function(a,b){if(!a.a||a.b)return Pu(a).then(function(){return Qu(this,b)},void 0,a);var c=m(),d=t(function(a){return c>=a.millisToExpire?(delete this.g[a.id],!1):!0},a);a.a.teacherPages=id(a.a.teacherPages,d);a.a.studentPages=id(a.a.studentPages,d);return I(b==a.isOwner?a.a.teacherPages:a.a.studentPages)};Ou.prototype.A=function(a){2==a.target.getState()&&(this.a=null)};
var Su=function(a,b,c){T(a.h,"flingTab("+[a.c,c?"fullscreen":b.id,b.url].join(", ")+")");var d=Ru;c={tabId:c?"fullscreen":b.id.toString(),uri:b.url,title:b.title};En(b.favIconUrl)&&(c.favIconUrl=b.favIconUrl);return d(a,c)},Ru=function(a,b){var c={url:Yk("workgroups",a.c,"pages").toString(),method:"POST",za:"API Call: POST_PAGE"},d={page:b},c=nt(mt(c),d);return a.v.a(c).then(function(a){return Au(zu.B()).then(function(c){var d={id:a.id,millisToExpire:m()+a.millisToExpire,senderId:c.R(),uri:b.uri, title:b.title,tabId:b.tabId,thumbnail:b.thumbnail,favIconUrl:b.favIconUrl};return this.j(d).then(function(){return d})},void 0,this)},void 0,a)};
var Tu=function(){x.call(this);this.h=P("edulive.settings.Manager");this.g=Ms.B();this.v=t(this.G,this);this.g.listen("stateChanged",this.v);this.b=W.B();this.o=Es.B();this.A=t(this.H,this);X(this.b,"edulive.messages.settings.Requests.getMuteSetting",this.A);this.C=t(this.M,this);X(this.b,"edulive.messages.settings.Requests.setMuteSetting",this.C);this.l=t(this.D,this);this.o.listen(Ss,this.l);this.j=this.a=this.c=null};r(Tu,x);v(Tu);
Tu.prototype.F=function(){this.g.a("stateChanged",this.v);Z(this.b,"edulive.messages.settings.Requests.getMuteSetting",this.A);Z(this.b,"edulive.messages.settings.Requests.setMuteSetting",this.C);this.o.a(Ss,this.l)};
var Vu=function(a){if(null!=a.c)return U(a.h,"Returning cached settings"),I(a.a);null==a.j&&(T(a.h,"Requesting settings from server"),a.j=Uu(a));return a.j},Uu=function(a){return a.g.La().then(function(){var a={url:Yk("settings").toString(),method:"GET",za:"API Call: GET_SETTINGS"},a=mt(a);return Pt.B().a(a).then(this.K,void 0,this)},void 0,a)};
Tu.prototype.K=function(a){this.c=m();var b=this.a;this.a=a.settings;this.j=null;null!=b&&this.a.millisToMuteNotifications!=b.millisToMuteNotifications&&Eo(this.b,"edulive.messages.settings.Events.muteSettingChanged",this.c+this.a.millisToMuteNotifications>m());return this.a};
var Wu=function(a){return Vu(a).then(function(){return this.c+this.a.millisToMuteNotifications>m()},void 0,a)},Xu=function(a,b){return Vu(a).then(function(a){var c=b?31536E8:0;c!=a.millisToMuteNotifications&&(this.a.millisToMuteNotifications=c,a={url:Yk("settings").toString(),method:"PATCH",za:"API Call: PATCH_SETTINGS"},c={settings:this.a,fieldMask:"millisToMuteNotifications"},a=nt(mt(a),c),Pt.B().a(a),U(this.h,"Mute setting changed."),Eo(this.b,"edulive.messages.settings.Events.muteSettingChanged",
b));return b},void 0,a)};Tu.prototype.H=function(){return Wu(this)};Tu.prototype.M=function(a){return Xu(this,a.message.params)};Tu.prototype.G=function(){var a=this.g.getState();0==a?this.c=null:2==a&&this.a&&Vu(this)};Tu.prototype.D=function(){this.c=null;Vu(this)};
var Yu=function(){N.call(this);this.h=P("edulive.tango.Manager");this.N=zu.B();this.D=Ms.B();this.j=W.B();this.o=null;this.v=[];this.c=this.l=this.b=null;this.G="p";this.H=0;this.M=t(this.lf,this);this.N.listen("selfChanged",this.M);this.K=t(this.je,this);this.D.listen("stateChanged",this.K);this.A=t(this.he,this);this.j.listen("edulive.messages.classroom.Events.selfEnrolled",this.A);this.j.listen("edulive.messages.classroom.Events.selfOwned",this.A);this.C=t(this.ie,this);this.j.listen("edulive.messages.classroom.Events.selfUnenrolled",
this.C);this.j.listen("edulive.messages.classroom.Events.selfUnowned",this.C)};r(Yu,N);v(Yu);Yu.prototype.F=function(){Zu(this);this.j.a("edulive.messages.classroom.Events.selfUnowned",this.C);this.j.a("edulive.messages.classroom.Events.selfUnenrolled",this.C);this.j.a("edulive.messages.classroom.Events.selfOwned",this.A);this.j.a("edulive.messages.classroom.Events.selfEnrolled",this.A);this.D.a("stateChanged",this.K);this.N.a("selfChanged",this.M);Yu.J.F.call(this)};
var $u={classroom:"p",prod:"p",qa:"q"},bv=function(){var a=Yu.B();Eu(a.D).then(function(a){return 2==a?av(this):I()},void 0,a)};Yu.prototype.xc=pa;Yu.prototype.wc=function(a,b){S(this.h,"onError("+[b.b,b.a].join(", ")+")");a=b.a;!this.c||400!=a&&401!=a||(a=this.H?m()-this.H:6E5,this.H=m(),b=Xs.B(),(6E5>a?Zs(b):I()).then(b.c,void 0,b).then(function(a){if(this.c){T(this.h,"Refreshing OAuth2 token: "+a);var b=this.l;b.g=a;b.j.Qc(a)}},void 0,this))};Yu.prototype.Tb=pa;
var av=function(a){var b=a.o||I(),c=Xs.B(),b=b.then(c.c,void 0,c).then(a.U,void 0,a);return cv(a,b)},cv=function(a,b){var c=Bj(b,function(){});a.o=Aj(c,t(a.P,a,c));return b};Yu.prototype.P=function(a){this.o==a&&(this.o=null)};
var dv=function(a){return Fu(a.D).then(function(a){var b=/^https:\/\/(?:(?:homeroom-(prod|qa)-.+)|(?:(classroom)))\.google\.com/.exec(a),d;b&&(b=b[1]||b[2],d=$u[b],T(this.h,a+" ("+b+") maps to Tango prefix: "+d));d||(S(this.h,"Could not determine prefix for "+a+". Defaulting to p"),d="p");return this.G=d},void 0,a)};
Yu.prototype.U=function(a){return!a||this.b||this.c?I():dv(this).then(function(){U(this.h,"Setting up tango with OAuth2 token: "+a);this.l=new Nu("https://client-channel.google.com/client-channel/channel","https://clients4.google.com/invalidation/lcs/request","hr",void 0,a,"classroom");this.l.c=this;var b=Op(Cr(this.l));b.start();var c=t(function(a){this.c.Gb(a)},this);this.b=new Gu(this,c,b,this.h,this.G);c=new rt;this.c=st(b,c,this.b);this.c.start();return Iu(this.b,this.c)},void 0,this).then(function(){if(this.b)return ev(this)},
void 0,this)};
var ev=function(a){var b=jd(a.v,function(a){var b=a.message.params;switch(a.message.request){case "edulive.messages.classroom.Events.selfEnrolled":case "edulive.messages.classroom.Events.selfOwned":return Mu(this.b,b.id);case "edulive.messages.classroom.Events.selfUnenrolled":case "edulive.messages.classroom.Events.selfUnowned":return new H(function(a){Ju(this.b,b.id);a(null)},this);default:return S(this.h,"Unknown event: "+JSON.stringify(a.message)),I()}},a);a.v=[];return vj(b)},Zu=function(a){var b=
(a.o||I()).then(a.Yd,void 0,a);cv(a,b)};h=Yu.prototype;h.Yd=function(){T(this.h,"Closing tango connection");this.b&&(this.b.stop(),this.b=null);this.c&&(this.c.stop(),this.c=null);this.l=null};h.je=function(a){switch(a.target.getState()){case 0:Zu(this);break;case 2:av(this)}};h.lf=function(){this.b&&(Ku(this.b),Lu(this.b))};h.he=function(a){this.b?Mu(this.b,a.message.params.id):qd(this.v,a)};h.ie=function(a){this.b?Ju(this.b,a.message.params.id):qd(this.v,a)};
var fv=function(){x.call(this);this.h=P("edulive.classroom.ClassroomManager");this.a=W.B();this.Eb=zu.B();this.D=Ms.B();this.v=Es.B();this.ba=Pt.B();this.G=Yu.B();this.sd=xu.B();this.c={};this.l=null;this.A={};this.b="ALL_CLASSROOMS";this.j=this.g=null;this.N=t(this.ce,this);this.D.listen("stateChanged",this.N);this.o=t(this.be,this);this.v.listen(Qs,this.o);this.v.listen(Rs,this.o);this.v.listen(Ts,this.o);this.U=t(this.ee,this);this.G.listen("refreshWorkgroup",this.U);this.P=t(this.de,this);this.G.listen("refreshAll",
this.P);this.ca=t(this.Ae,this);X(this.a,"edulive.messages.classroom.Requests.get",this.ca);this.ha=t(this.ra,this,void 0);X(this.a,"edulive.messages.classroom.Requests.list",this.ha);this.Db=t(this.Ud,this);X(this.a,"edulive.messages.classroom.Requests.refresh",this.Db);this.Z=t(this.Jd,this);X(this.a,"edulive.messages.classroom.Requests.enrolled",this.Z);this.Ha=t(this.Ld,this);X(this.a,"edulive.messages.classroom.Requests.owned",this.Ha);this.aa=t(this.me,this);X(this.a,"edulive.messages.classroom.Requests.getActive",
this.aa);this.Fb=t(this.pf,this);X(this.a,"edulive.messages.classroom.Requests.setActive",this.Fb)};r(fv,x);v(fv);
fv.prototype.F=function(){Z(this.a,"edulive.messages.classroom.Requests.setActive",this.Fb);Z(this.a,"edulive.messages.classroom.Requests.getActive",this.aa);Z(this.a,"edulive.messages.classroom.Requests.owned",this.Ha);Z(this.a,"edulive.messages.classroom.Requests.enrolled",this.Z);Z(this.a,"edulive.messages.classroom.Requests.refresh",this.Db);Z(this.a,"edulive.messages.classroom.Requests.list",this.ha);Z(this.a,"edulive.messages.classroom.Requests.get",this.ca);this.G.a("refreshAll",this.P);this.G.a("refreshWorkgroup",
this.U);this.v.a(Ts,this.o);this.v.a(Rs,this.o);this.v.a(Qs,this.o);this.D.a("stateChanged",this.N);fv.J.F.call(this)};var gv=function(){var a=fv.B();U(a.h,"initialized");I(a.C(a.c))};fv.prototype.ra=function(a){return hv(this,a).then(this.C,void 0,this)};fv.prototype.Jd=function(){return iv(this,!1).then(this.C,void 0,this)};fv.prototype.Ld=function(){return iv(this,!0).then(this.C,void 0,this)};
fv.prototype.Ud=function(){return this.M().then(function(a){this.b=null;return a},void 0,this).then(this.C,void 0,this)};
var ov=function(a,b){var c=jv(a,b);if(kv(a,b)){var d=a.b;a.b=null;if(d!=b)return c=Bj(c.then(a.M,void 0,a),function(a){lv(this,d);throw a;},a),mv(a,c).then(t(a.K,a,b)).then(fl);c=Bj(c.then(t(a.Md,a,b)).then(fl),function(a){a instanceof xo||lv(this,d);throw a;},a);return nv(a,b,c)}return c.then(t(a.K,a,b)).then(fl)},qv=function(a,b){U(a.h,"setActiveWorkgroup("+b+")");b=(b?ov(a,b):I(null)).then(a.H,void 0,a).then(function(a){return a&&fl(a)},void 0,a);return pv(a,b)},sv=function(a){var b=Bj(rv(a,a.g),
function(a){if(a instanceof xo)return this.H(null);throw a;},a).then(function(a){return a&&fl(a)},void 0,a);return pv(a,b)},uv=function(a,b){return jv(a,b).then(function(){var a=this.c[b];if(!a)return null;tv(this,a);return a},void 0,a)};fv.prototype.C=function(a){return jd(Za(a),function(a){return fl(a)},this)};
var hv=function(a,b){U(a.h,"getWorkgroups_("+b+")");b&&vv(a);b=jv(a);if(kv(a)){var c=a.b;a.b=null;b=b.then(a.M,function(a){c&&lv(this,c);throw a;},a);return mv(a,b)}return b.then(function(){return this.c},void 0,a)},iv=function(a,b){return hv(a).then(function(a){return Wa(a,function(a){return a.isOwner==b},this)},void 0,a)};fv.prototype.M=function(){return Bu(this.Eb).then(function(a){return a?wv(this):{workgroupList:[]}},void 0,this).then(this.sa,void 0,this)};
var wv=function(a){T(a.h,"listWorkgroups_()");var b={url:Yk("workgroups").toString(),method:"GET",za:"API Call: LIST_WORKGROUPS"},c=mt(b);return a.D.La().then(function(){return this.ba.a(c)},void 0,a).then(hl)};fv.prototype.sa=function(a){var b=Ad(a.workgroupList,function(a){return a.id});a=Wa(this.c,function(a){return!cb(b,a.id)},this);Va(a,function(a){tv(this,a)},this);Va(b,function(a){cb(this.c,a.id)?xv(this,a):yv(this,a)},this);a=this.g?this.c[this.g]:null;this.g&&!a&&this.H(null);return this.c};
var yv=function(a,b){a.c[b.id]=b;var c=b.isOwner?"edulive.messages.classroom.Events.selfOwned":"edulive.messages.classroom.Events.selfEnrolled";T(a.h,c+": "+JSON.stringify(b));Eo(a.a,c,b)},tv=function(a,b){a.g==b.id&&a.H(null);fb(a.c,b.id);var c=b.isOwner?"edulive.messages.classroom.Events.selfUnowned":"edulive.messages.classroom.Events.selfUnenrolled";T(a.h,c+": "+JSON.stringify(b));Eo(a.a,c,b)},xv=function(a,b){var c=a.c[b.id];a.c[b.id]=b;!!c.isOwner!=!!b.isOwner?(tv(a,c),yv(a,b)):el(c,b)||(T(a.h,
"CHANGED from: "+JSON.stringify(c)+" to: "+JSON.stringify(b)),Eo(a.a,"edulive.messages.classroom.Events.changed",b))};fv.prototype.ae=function(a){cb(this.c,a.id)?xv(this,a):yv(this,a);return I(a)};fv.prototype.K=function(a){U(this.h,"getWorkgroup: "+a);var b=this.c[a];if(!b)throw new xo(a);U(this.h,"Got Workgroup: "+w(b));return b};
fv.prototype.Md=function(a){U(this.h,"refreshWorkgroup_("+a+")");return zv(this,a).then(this.ae,function(b){if(b instanceof xo){var c=this.c[a];c&&tv(this,c)}throw b;},this)};
var zv=function(a,b){T(a.h,"fetchWorkgroup_("+b+")");var c={url:Yk("workgroups",encodeURIComponent(String(b))).toString(),method:"GET",za:"API Call: GET_WORKGROUP"},d=mt(c);return Bj(a.D.La().then(function(){return this.ba.a(d)},void 0,a).then(gl),function(a){if(Tt(a))throw new xo(b);throw a;},a)},kv=function(a,b){return a.b?"ALL_CLASSROOMS"!=a.b&&b?a.b==b:!0:!1},jv=function(a,b){var c=[];a.l&&qd(c,a.l);Va(a.A,function(a,e){b&&b!=e||qd(c,a)});return vj(c)},mv=function(a,b){var c=Bj(b,function(){},
a);a.l=Aj(c,t(a.Id,a,c));return b};fv.prototype.Id=function(a){a==this.l&&(U(this.h,"LIST_WORKGROUP complete"),this.l=null)};var nv=function(a,b,c){var d=Bj(c,function(){},a),d=Aj(d,t(a.Hd,a,b,d));a.A[b]=d;return c};fv.prototype.Hd=function(a,b){b==this.A[a]&&(U(this.h,"FETCH_WORKGROUP("+a+") complete"),fb(this.A,a))};fv.prototype.H=function(a){var b=a&&a.id;b!=this.g&&(this.g=b,Eo(this.a,"edulive.messages.classroom.Events.active",a));return a};
var rv=function(a,b){b&&kv(a,b)&&Av(a);b=[];qd(b,jv(a));a.j&&qd(b,a.j);return vj(b).then(function(){return this.g&&this.K(this.g)},void 0,a)},pv=function(a,b){var c=Bj(b,function(){},a);a.j=Aj(c,t(a.Gd,a,c));return b};fv.prototype.Gd=function(a){this.j==a&&(U(this.h,"set/getActive complete"),this.j=null)};
var Bv=function(a,b){return a.sd.a?b?!a.g||a.g==b:!0:!1},lv=function(a,b){U(a.h,"Marking "+b+" as out-of-date.");a.b=a.b&&a.b!=b?"ALL_CLASSROOMS":b},vv=function(a){U(a.h,"Marking ALL_CLASSROOMS as out-of-date.");a.b="ALL_CLASSROOMS"},Av=function(a){a.b?(T(a.h,"Refreshing stale classroom "+a.b),Bj("ALL_CLASSROOMS"==a.b?a.ra(!0):ov(a,a.b),function(a){if(!(a instanceof xo))throw a;},a)):I(null)};h=fv.prototype;
h.ce=function(a){switch(a.target.getState()){case 2:vv(this);Bv(this)&&Av(this);break;case 0:this.l&&(this.j&&(this.j.cancel(),this.j=null),Va(this.A,function(a){a.cancel()},this),this.A={},this.l.cancel(),this.l=null),this.sa({workgroupList:[]})}};
h.be=function(a){this.c[a.id]||(lv(this,a.id),Bv(this,a.id)&&Av(this));if(a.type==Ts){var b=a.id;this.g!=b&&(this.g?a.sentByTeacher&&vj([ov(this,this.g),Au(this.Eb)]).then(function(c){var d=c[1];c[0].isOwner&&d.R()!=a.page.senderId||qv(this,b)},null,this):qv(this,b))}};h.ee=function(a){lv(this,a.workgroupId);Bv(this,a.workgroupId)&&Av(this)};h.de=function(){vv(this);Bv(this)&&Av(this)};h.Ae=function(a){a=a.message.params;return u(a)?ov(this,a):sj(new An(a))}; h.me=function(){return sv(this).then(function(a){return a?fl(a):null},void 0,this)};h.pf=function(a){return(a=a.message.params)&&!u(a)?sj(new An(a)):qv(this,a).then(function(a){return a?fl(a):null},void 0,this)};
var Cv=function(){x.call(this);this.h=P("edulive.classroom.CourseManager");this.g=Ms.B();this.v=tt.B();this.c=Yu.B();this.b={};this.a={};this.j=t(this.C,this);this.g.listen("stateChanged",this.j);this.o=t(this.G,this);this.c.listen("refreshWorkgroup",this.o);this.l=t(this.D,this);this.c.listen("refreshAll",this.l)};r(Cv,x);v(Cv);Cv.prototype.F=function(){this.c.a("refreshAll",this.l);this.c.a("refreshWorkgroup",this.o);this.g.a("stateChanged",this.j);Cv.J.F.call(this)};
var Dv={"https://classroom.google.com/":"https://classroom.googleapis.com","https://homeroom-prod-day0.sandbox.google.com":"https://prod-day0-classroom.sandbox.googleapis.com","https://homeroom-qa-day0.sandbox.google.com":"https://qa-day0-classroom.sandbox.googleapis.com","https://homeroom-qa-stable.sandbox.google.com":"https://qa-stable-classroom.sandbox.googleapis.com"},Ev=function(){var a=Cv.B();U(a.h,"initialized");I()},Gv=function(a,b){U(a.h,"getCourse("+b+")");var c=a.b[b];if(c)return I(c);
if(c=a.a[b])return c;c=Fv(a,b);c=Aj(c,t(a.A,a,b,c));return a.a[b]=c},Hv=function(a){return Fu(a.g).then(function(a){return Dv[a]},void 0,a)},Iv=function(a,b){var c="/v1/courses";b&&(c+="/"+b);return Hv(a).then(function(a){return wk(Lk(a),c).toString()},void 0,a)},Fv=function(a,b){return Iv(a,b).then(a.v.a,void 0,a.v).then(function(a){return this.b[b]=a},function(a){if(a instanceof it){var c=a.status;if(404==c)throw new xo(b);if(403==c)throw new Ao;}throw a;},a)};
Cv.prototype.A=function(a,b){b==this.a[a]&&(U(this.h,"FETCH_COURSE("+a+") complete"),fb(this.a,a))};var Jv=function(a,b){U(a.h,b+" is out-of-date. Marking dirty.");return(a.a[b]||I()).then(function(){fb(this.b,b)},void 0,a)},Kv=function(a){U(a.h,"Marking all cached courses dirty.");vj(jd($a(a.b),function(a){return Jv(this,a)},a))};Cv.prototype.C=function(a){0==a.target.getState()&&(Va(this.a,function(a){a.cancel()}),this.a={},Kv(this))};Cv.prototype.G=function(a){Jv(this,a.workgroupId)}; Cv.prototype.D=function(){Kv(this)};
var Lv=function(){x.call(this);this.h=P("edulive.classroom.UnregisteredStudentsManager");this.c=W.B();this.j=Ms.B();this.C=Yu.B();this.v=Es.B();this.b=this.a=null;this.G=t(this.M,this);X(this.c,"edulive.messages.classroom.Requests.getStudentRegistrationData",this.G);this.A=t(this.K,this);this.j.listen("stateChanged",this.A);this.l=t(this.D,this);this.c.listen("edulive.messages.classroom.Events.selfOwned",this.l);this.o=t(this.H,this);this.c.listen("edulive.messages.classroom.Events.selfUnowned",this.o);
this.g=t(this.P,this);this.C.listen("refreshAll",this.g);this.v.listen(Us,this.g)};r(Lv,x);v(Lv);Lv.prototype.F=function(){this.c.a("edulive.messages.classroom.Events.selfOwned",this.l);this.c.a("edulive.messages.classroom.Events.selfUnowned",this.o);this.j.a("stateChanged",this.A);Z(this.c,"edulive.messages.classroom.Requests.getStudentRegistrationData",this.G);this.C.a("refreshAll",this.g);this.v.a(Us,this.g)};var Mv=function(a){a.b=null;a.a&&(a.a.cancel(),a.a=null)};
Lv.prototype.K=function(a){0==a.target.getState()&&Mv(this)};Lv.prototype.P=function(){this.b||this.a?(U(this.h,"Reloading data"),Mv(this),Nv(this)):U(this.h,"Ignoring data reload, as it was not already loaded")};Lv.prototype.D=function(a){var b=a.message.params;this.a?this.a.then(function(){this.D(a)},void 0,this):(this.b&&!this.b[b.id]&&Mv(this),Nv(this))};Lv.prototype.H=function(a){this.b&&fb(this.b,a.message.params.id)};
var Nv=function(a){return a.b?I(a.b):a.a?a.a:Ov(a)},Ov=function(a){var b={url:Yk("registrations").toString(),method:"GET",za:"API Call: GET_REGISTRATIONS"},c=mt(b);a.a=a.j.La().then(function(){var a=Pt.B();U(this.h,"Calling registrations API");return this.a=a.a(c).then(this.N,void 0,this)},void 0,a);return a.a};
Lv.prototype.N=function(a){this.b={};hd(a.data,function(a){this.b[a.workgroupId]=a},this);Eo(this.c,"edulive.messages.classroom.Events.studentRegistrationChanged");U(this.h,"Broadcast student registration changed");this.a=null;return this.b};Lv.prototype.M=function(a){var b=a.message.params;return Nv(this).then(function(a){a=a[b];if(!a)throw new xo(b);return a})};
var Pv=function(a){x.call(this);this.h=P("edulive.classroom.ParticipantList");this.b=a;this.g=!1;this.j=W.B();this.o=Ms.B();this.l=Es.B();this.A=Yu.B();this.D=Pt.B();this.M=fv.B();this.c=this.a=null;this.v=t(this.fe,this);this.o.listen("stateChanged",this.v);this.H=t(this.df,this);this.l.listen(Rs,this.H);this.G=t(this.Ze,this);this.l.listen(Ts,this.G);this.C=t(this.N,this);this.j.listen("edulive.messages.classroom.Events.changed",this.C);this.K=t(this.Hf,this);this.A.listen("refreshWorkgroup",this.K)};
r(Pv,x);Pv.prototype.F=function(){this.l.a(Ts,this.G);this.l.a(Rs,this.H);this.o.a("stateChanged",this.v);this.A.a("refreshWorkgroup",this.K);this.j.a("edulive.messages.classroom.Events.changed",this.C);this.a&&(Va(this.a,function(a){a.X()}),this.a=null);Pv.J.F.call(this)};Pv.prototype.N=function(a){a=a.message.params;this.b.id==a.id&&(this.b=a)};
var Rv=function(a){return a.b.isOwner?Qv(a,void 0).then(function(a){return id(a,function(a){return!a.isTeacher()})}):sj(new yo(a.b))},Sv=function(a){return Qv(a,void 0).then(function(a){return id(a,function(a){return a.isTeacher()})})},Qv=function(a,b){(b=!!b||a.g)&&U(a.h,"Forcing reload of participants from the server for classroom: "+a.b.id);var c=a.g;a.g=!1;if(a.c)b&&(b=a.c.then(t(a.pd,a),function(a){this.g=c;throw a;},a),Aj(b,t(a.Uc,a,b)),a.c=b);else{if(a.a&&!b)return I(Za(a.a));b=a.pd();a.c=
Aj(b,t(a.Uc,a,b))}return a.c.then(Za,t(function(a){this.g=c;throw a;},a))};h=Pv.prototype;h.Xc=function(a){if(!this.a||this.c)return Qv(this).then(t(this.Xc,this,a));var b=this.a[a];return b?I(b):sj(new zo(a))};h.pd=function(){var a=Zk(this.b.id),a=mt(a);return Bj(this.o.La().then(t(this.D.a,this.D,a)).then(t(this.Me,this)),function(a){if(Tt(a)){var b=this.b.id;return uv(this.M,b).then(function(){throw new xo(b);})}throw a;},this)};h.Uc=function(a){this.c==a&&(this.c=null)};
h.fe=function(a){2==a.target.getState()&&Qv(this,!0)};h.df=function(a){a.id==this.b.id&&Qv(this,!0)};h.Hf=function(a){a.workgroupId==this.b.id&&(T(this.h,"Tango Notification for "+this.b.id),this.g=!0)};h.Ze=function(a){var b=a.page&&a.page.senderId;a.id!=this.b.id||this.a&&this.a[b]||(T(this.h,"Received state change notification in workgroup "+a.id+" for unknown user "+b+". Loading participant(s)."),Qv(this,!0))};
h.Me=function(a){this.a||(this.a={});var b={};hd(a.participantList||[],function(a){a=new mu(a);b[a.R()]=a},this);a=Wa(this.a,function(a){return!cb(b,a.R())},this);Va(a,function(a){Tv(this,a)},this);Va(b,function(a){if(cb(this.a,a.R())){var b=ib(a.V),c=this.a[a.R()];if(c.isTeacher()!=a.isTeacher())Tv(this,c),Uv(this,a);else{var f=ib(c.V);this.a[a.R()]=a;a={workgroupId:this.b.id,participant:b};bl(f,b)||(T(this.h,"CHANGED from: "+w(f)+" to: "+w(b)),Eo(this.j,"edulive.messages.classroom.Events.participantChanged",
a));c.X()}}else Uv(this,a)},this);return this.a};var Uv=function(a,b){a.a[b.R()]=b;var c={workgroupId:a.b.id,participant:ib(b.V)};b=b.isTeacher()?"edulive.messages.classroom.Events.owned":"edulive.messages.classroom.Events.enrolled";T(a.h,b+": "+w(c));Eo(a.j,b,c)},Tv=function(a,b){var c=ib(b.V);fb(a.a,b.R());var c={workgroupId:a.b.id,participant:c},d=b.isTeacher()?"edulive.messages.classroom.Events.unowned":"edulive.messages.classroom.Events.unenrolled";T(a.h,d+": "+w(c));Eo(a.j,d,c);b.X()};
var Vv={Wg:"READER",$f:"COMMENTER",Eh:"WRITER",Fh:"WRITER_ADD_TEACHER"},Wv=function(){x.call(this);this.h=P("edulive.drive.Manager");this.l=pm.B();this.g=tt.B();this.c=fv.B();this.b=Cv.B();this.a=W.B();this.j=t(this.v,this);X(this.a,"edulive.messages.drive.Requests.getNextRole",this.j);this.o=t(this.A,this);X(this.a,"edulive.messages.drive.Requests.setRole",this.o)};r(Wv,x);v(Wv);
Wv.prototype.F=function(){Z(this.a,"edulive.messages.drive.Requests.setRole",this.o);Z(this.a,"edulive.messages.drive.Requests.getNextRole",this.j);Wv.J.F.call(this)};
var Zv=function(a,b,c){U(a.h,"getNextRoleLevel("+b+", "+c+")");var d=a.l.R(c);if(!d)return I(null);U(a.h,c+" ==> "+d);var e=null,f=null,g=!1;return vj([ov(a.c,b),Gv(a.b,b)]).then(function(a){g=a[0].isOwner;a=a[1];e=a.teacherGroupEmail;f=a.courseGroupEmail;return Xv(this,d,g?[e,f]:[e],"WRITER")},void 0,a).then(function(a){return Yv(this,d,e,f,g,a)},void 0,a)},aw=function(a,b,c,d){U(a.h,"setRoleLevel("+b+", "+c+", "+d+")");var e=a.l.R(c);if(!e)return sj(new Co(c));var f;return vj([ov(a.c,b),Gv(a.b,
b)]).then(function(a){var b=a[0].isOwner,c=a[1];a=c.teacherGroupEmail;var g=c.courseGroupEmail,c=b?"WRITER":d;f=b?"Teacher":"Student";return $v(this,e,[a],c).then(function(){return b?$v(this,e,[g],d):I()},void 0,this)},void 0,a).then(function(){ps(ks.B(),f,"Update Drive Permissions",d);return d})},Yv=function(a,b,c,d,e,f){if("ALL_FIXABLE"!==f.fixabilitySummaryState)return U(a.h,"No fix needed for "+b),I(null);var g=bw(f);if(!g)return S(a.h,"No viable fix available for "+b+". ("+JSON.stringify(f)+
")"),I(null);f=0<=fd(g.fixableRecipientEmailAddresses,c);g=0<=fd(g.fixableRecipientEmailAddresses,d);if(e&&!g&&f)return S(a.h,b+" has permissions for "+d+" but not "+c+". Returning WRITER_ADD_TEACHER permission"),I("WRITER_ADD_TEACHER");var l=e?d:c;return Xv(a,b,[l],"COMMENTER").then(function(a){return"ALL_FIXABLE"===a.fixabilitySummaryState?Xv(this,b,[l],"READER").then(function(a){return"ALL_FIXABLE"===a.fixabilitySummaryState?"READER":"COMMENTER"},void 0,this):"WRITER"},void 0,a)},Xv=function(a,
b,c,d){b={fileIds:[b],recipientEmailAddresses:c,role:d};b=nt(lt(new bt("https://www.googleapis.com/drive/v2internal/files/checkPermissions"),"POST"),b);return a.g.a(b)},$v=function(a,b,c,d){b={fileIds:[b],fixOptionType:"ADD_COLLABORATORS",recipientEmailAddresses:c,role:d};b=nt(lt(new bt("https://www.googleapis.com/drive/v2internal/files/fixPermissions"),"POST"),b);return a.g.a(b).then(function(){return d},void 0,a)};
Wv.prototype.v=function(a){a=a.message.params;return Vd(a,["workgroupId","url"])?Zv(this,a.workgroupId,a.url):sj(new An(a))};Wv.prototype.A=function(a){a=a.message.params;return Vd(a,["workgroupId","url","role"])&&db(Vv,a.role)?aw(this,a.workgroupId,a.url,a.role):sj(new An(a))};var bw=function(a){return nd(a.fixOptions,function(a){return"ADD_COLLABORATORS"==a.optionType})};
var cw=function(){x.call(this);this.h=P("edulive.pages.Manager");this.P=fv.B();this.j=Wt.B();this.a=W.B();this.C=Es.B();this.b={};this.l={};this.c=t(this.U,this);this.a.listen("edulive.messages.classroom.Events.selfEnrolled",this.c);this.a.listen("edulive.messages.classroom.Events.selfOwned",this.c);this.g=t(this.ba,this);this.a.listen("edulive.messages.classroom.Events.selfUnenrolled",this.g);this.a.listen("edulive.messages.classroom.Events.selfUnowned",this.g);this.A=t(this.Z,this);this.C.listen(Ts,
this.A);this.o=t(this.M,this);X(this.a,"edulive.messages.pages.Requests.displayPage",this.o);this.v=t(this.N,this);X(this.a,"edulive.messages.pages.Requests.displayUrl",this.v);this.D=t(this.aa,this);X(this.a,"edulive.messages.pages.Requests.flingTab",this.D);this.G=t(this.ca,this);X(this.a,"edulive.messages.pages.Requests.flingUrl",this.G);this.H=t(this.ra,this);X(this.a,"edulive.messages.pages.Requests.getFlungHistory",this.H);this.K=t(this.ha,this);X(this.a,"edulive.messages.pages.Requests.getReceivedHistory",
this.K)};r(cw,x);v(cw);
cw.prototype.F=function(){this.a.a("edulive.messages.classroom.Events.selfEnrolled",this.c);this.a.a("edulive.messages.classroom.Events.selfOwned",this.c);this.a.a("edulive.messages.classroom.Events.selfUnenrolled",this.g);this.a.a("edulive.messages.classroom.Events.selfUnowned",this.g);this.C.a(Ts,this.A);Z(this.a,"edulive.messages.pages.Requests.displayUrl",this.v);Z(this.a,"edulive.messages.pages.Requests.displayPage",this.o);Z(this.a,"edulive.messages.pages.Requests.flingTab",this.D);Z(this.a,
"edulive.messages.pages.Requests.flingUrl",this.G);Z(this.a,"edulive.messages.pages.Requests.getReceivedHistory",this.K);Z(this.a,"edulive.messages.pages.Requests.getFlungHistory",this.H);cw.J.F.call(this)};var dw=function(a,b){var c=a.b[b];return c?I(c):ov(a.P,b).then(function(a){c=this.b[b];c||(c=new Ou(a.id,a.isOwner),this.b[b]=c);return c},void 0,a)};cw.prototype.U=function(){};cw.prototype.ba=function(a){fb(this.b,a.message.params.id)};
cw.prototype.Z=function(a){var b=a.id,c=a.sentByTeacher,d=a.page;if(!Gn(d))throw new An(a);T(this.h,"Received page: "+w(d));dw(this,b).then(function(e){e.j(d,c,a.previousId);Eo(this.a,e.isOwner==c?"edulive.messages.pages.Events.flung":"edulive.messages.pages.Events.received",{workgroupId:b,page:d,tabId:d.tabId})},function(a){if(a instanceof xo)return S(this.h,"Class "+b+" not found, new state ignored"),null;throw a;},this)};
var fw=function(a,b){return dw(a,b).then(function(a){return Qu(a,!0).then(function(a){return ew(this,a)},void 0,this)},void 0,a)},gw=function(a,b){return dw(a,b).then(function(a){return Qu(a,!1).then(function(a){return ew(this,a)},void 0,this)},void 0,a)},ew=function(a,b){hd(b,function(a){a.isViewed=!!this.l[a.id]},a);return b};cw.prototype.ra=function(a){a=a.message.params;return u(a)?fw(this,a):sj(new An(a))};cw.prototype.ha=function(a){a=a.message.params;return u(a)?gw(this,a):sj(new An(a))};
cw.prototype.aa=function(a){var b=a.message.params;return Vd(b,["workgroupId","tabId"])?Yt(this.j,b.tabId).then(function(a){return hw(this,b.workgroupId,a,b.fullscreen)},void 0,this):sj(new An(b))};cw.prototype.ca=function(a){a=a.message.params;if(!Vd(a,["workgroupId","url"]))return sj(new An(a));var b={id:m(),url:a.url,title:a.title};return hw(this,a.workgroupId,b,a.fullscreen)};
var hw=function(a,b,c,d){return dw(a,b).then(function(a){return Su(a,c,!!d).then(function(a){var c=a.id;c&&(this.l[c]=!0);Eo(this.a,"edulive.messages.pages.Events.flung",{workgroupId:b,page:a,tabId:a.tabId});return a},void 0,this)},void 0,a)};cw.prototype.M=function(a){a=a.message.params;return Vd(a,["workgroupId","page"])?iw(this,a.page):sj(new An(a))};cw.prototype.N=function(a){a=a.message.params;return u(a)?jw(this,a):sj(new An(a))}; var jw=function(a,b){return Zt(a.j,b).then(function(a){return a?iu(this.j,a.id):gu(this.j,b)},void 0,a)},iw=function(a,b){var c=b.id;c&&(a.l[c]=!0);return jw(a,b.uri)};
var kw=function(){x.call(this);this.o=Ms.B();this.a=W.B();this.l=fv.B();this.b={};this.c=t(this.G,this);this.a.listen("edulive.messages.classroom.Events.selfUnowned",this.c);this.a.listen("edulive.messages.classroom.Events.selfUnenrolled",this.c);this.C=t(this.A,this);X(this.a,"edulive.messages.userInfo.Requests.participant",this.C);this.g=t(this.D,this);X(this.a,"edulive.messages.userInfo.Requests.list",this.g);this.j=t(this.v,this);X(this.a,"edulive.messages.userInfo.Requests.listOwners",this.j)};
r(kw,x);v(kw);kw.prototype.F=function(){Z(this.a,"edulive.messages.userInfo.Requests.listOwners",this.j);Z(this.a,"edulive.messages.userInfo.Requests.list",this.g);Z(this.a,"edulive.messages.userInfo.Requests.participant",this.g);this.a.a("edulive.messages.classroom.Events.selfUnenrolled",this.c);this.a.a("edulive.messages.classroom.Events.selfUnowned",this.c);Va(this.b,function(a){a.X()});this.b={};kw.J.F.call(this)};
var lw=function(){var a=kw.B();Eu(a.o)},nw=function(a,b){return mw(a,b).then(function(a){return Rv(a)},void 0,a)},ow=function(a,b){return mw(a,b).then(function(a){return Sv(a)},void 0,a)},pw=function(a,b,c){return mw(a,b).then(function(a){return a.Xc(c)},void 0,a)},mw=function(a,b){var c=gb(a.b,b);return c?I(c):ov(a.l,b).then(function(a){if(c=gb(this.b,b))return c;c=new Pv(a);return this.b[b]=c},void 0,a)};kw.prototype.G=function(a){a=a.message.params.id;var b=gb(this.b,a);b&&(fb(this.b,a),b.X())};
kw.prototype.D=function(a){a=a.message.params;return u(a)?nw(this,a).then(pu):sj(new An(a))};kw.prototype.v=function(a){a=a.message.params;return u(a)?ow(this,a).then(pu):sj(new An(a))};kw.prototype.A=function(a){a=a.message.params;return Vd(a,["workgroupId","participantId"])?pw(this,a.workgroupId,a.participantId).then(ou):sj(new An(a))};
var qw=function(){x.call(this);this.h=P("edulive.notifications.Listener");this.j=zu.B();this.a=Es.B();this.g=fv.B();this.D=cw.B();this.o=kw.B();ks.B();this.b=W.B();this.l=Tu.B();this.c=t(this.C,this);this.a.listen(Ts,this.c)};r(qw,x);v(qw);qw.prototype.F=function(){this.a.a(Ts,this.c);qw.J.F.call(this)};var rw={title:mm,iconUrl:"open.png"},sw={title:nm,iconUrl:"settings.png"};qw.prototype.C=function(a){a.id&&a.page&&tw(this,a.page,a.id)};
var tw=function(a,b,c){U(a.h,"present_("+JSON.stringify(b)+", "+c+")");ov(a.g,c).then(t(a.G,a,b)).then(function(a){return a?iw(this.D,b):null},function(a){if(a instanceof xo)return S(this.h,"Workgroup "+c+" not found. Ignoring request: "+JSON.stringify(b)),null;throw a;},a)};
qw.prototype.G=function(a,b){return Au(this.j).then(function(c){var d=b.isOwner&&a.senderId!=c.R();return vj([c,d&&Wu(this.l)])},void 0,this).then(function(c){var d=c[0];if(c[1])return uw(d,"Toast Muted due to settings"),!1;if(d.R()==a.senderId||b.isOwner&&Dn(a))return!1;switch(Dn(a)?"open":b.isOwner?"ask":"ask_then_open"){case "open":return uw(d,"Auto"),!0;case "ask_then_open":return vw(this,a,b,d,!0);case "ask":return vw(this,a,b,d,!1);case "closed":return!b.isOwner}return!1},void 0,this)};
var uw=function(a,b){a:switch(a.isTeacher()){case !0:a="Teacher";break a;case !1:a="Student";break a;default:a="Unregistered"}ps(0,a,"Open Fling",b)},vw=function(a,b,c,d,e){return ww(a,b,c,e).then(function(a){return xw(this,d,a)},function(a){if(a instanceof zo)return!1;throw a;},a)},ww=function(a,b,c,d){return pw(a.o,c.id,b.senderId).then(function(a){var e=d?new Ut:new ut;e.D||(e.D=t(e.ha,e),chrome.notifications.onClicked.addListener(e.D));zt(e,"isClickable",!0);var g;g=cl(a.V.photoUrl,200);e.setIcon(g);
a=chrome.i18n.getMessage("7613121200569555025",[a.V.fullName]);e.setTitle(a);zt(e,"message",b.title||b.uri);!d&&b.title&&zt(e,"contextMessage",b.uri);b.thumbnail&&(e.G=b.thumbnail,zt(e,"type","image"),xt(e)&&Gt(e));d||At(e,rw);c.isOwner&&chrome&&chrome.browserAction&&la(chrome.browserAction.openPopup)&&(At(e,sw),Bt(e,"clicked_button_1"));Bt(e,"dismissed");d||Bt(e,"ignored");e.setTimeout(d?3E3:5E3);return e},void 0,a)},xw=function(a,b,c){return Aj(c.show().then(t(a.A,a,b),t(a.v,a,b)),function(){c.X()},
a)};qw.prototype.A=function(a,b){uw(a,"ignored"==b?"Toast Auto":"Toast Clicked");return!0};
qw.prototype.v=function(a,b){if(b instanceof Cj){switch(b.message){case "ignored":b="Toast Ignored";break;case "clicked_button_1":b="Settings Button clicked";this.b.sendRequest("edulive.messages.navigation.Requests.pushCurrentPage",{pageName:"edulive.templates.popup.settings.main",pageParam:{}}).then(function(){rn(function(){this.b.sendRequest("edulive.messages.icon.Requests.open")},0,this)},void 0,this);break;default:b="Toast Dismissed"}uw(a,b);return!1}throw b;};
var yw=function(){x.call(this);this.a=P("edulive.background.Background");ks.B()};r(yw,x);v(yw);(function(){var a=yw.B();Ho();var b=chrome.runtime.getManifest(),c=k.ROW_KEYS,c=c&&c.background,d=chrome.i18n.getUILanguage();T(a.a,"Initializing "+b.name+" v"+b.version+" ("+c+") with the UI Language: "+d);rs.B();Do.B();Ws();Bj(Jt(),function(a){if(!(a instanceof Mt))throw a;},a);Bj(Eu(Ms.B()),function(a){if(!(a instanceof Mt))throw a;},a);Wm(Vm.B());xu.B();I();gv();Ev();Lv.B();lw();ss.B();yu.B();cw.B();ns();bv();qw.B();I();Wv.B();I();os("Background")})();

}catch(e){_DumpException(e)}
// Google Inc.
